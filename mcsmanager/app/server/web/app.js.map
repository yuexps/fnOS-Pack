{"version":3,"file":"app.js","mappings":";;;;;;;AAAa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,cAAc,mBAAO,CAAC,qCAAO;AAC7B,kBAAkB,mBAAO,CAAC,8CAAa;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,mCAAmC;AACnC,0DAA0D,oBAAoB;AAC9E;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;AC1CF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,cAAc,mBAAO,CAAC,qCAAO;AAC7B,eAAe,mBAAO,CAAC,2CAAU;AACjC;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,mCAAmC;AACnC;AACA;AACA;AACA,yBAAyB;AACzB,sEAAsE,oCAAoC;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,qCAAqC;AACrC,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,iCAAiC;AACjC,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,sCAAsC;AACzG,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,0CAA0C;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,YAAY;AACvD;AACA;AACA;AACA,oDAAoD,0BAA0B;AAC9E;AACA;AACA;AACA;AACA;AACA,2CAA2C,YAAY;AACvD;AACA;AACA;AACA,8DAA8D,6CAA6C;AAC3G;AACA,kDAAkD,0BAA0B;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,mDAAmD,sCAAsC;AACzF;AACA;AACA;AACA,+BAA+B,QAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;;;;;;;;AC1JF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB,GAAG,wBAAwB,GAAG,iBAAiB;AACjE,iBAAiB;AACjB,wBAAwB;AACxB,kBAAkB;;;;;;;;ACLL;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB,GAAG,mBAAmB,GAAG,iBAAiB,GAAG,aAAa;AAC5E,cAAc,mBAAO,CAAC,qCAAO;AAC7B,cAAc,mBAAO,CAAC,0CAAS;AAC/B,yCAAwC,EAAE,qCAAqC,2BAA2B,EAAC;AAC3G,kBAAkB,mBAAO,CAAC,8CAAa;AACvC,6CAA4C,EAAE,qCAAqC,+BAA+B,EAAC;AACnH,oBAAoB,mBAAO,CAAC,gDAAe;AAC3C,+CAA8C,EAAE,qCAAqC,qCAAqC,EAAC;AAC3H,mBAAmB,mBAAO,CAAC,+CAAc;AACzC,8CAA6C,EAAE,qCAAqC,mCAAmC,EAAC;AACxH,qBAAqB,mBAAO,CAAC,2CAAU;;;;;;;;ACZ1B;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB,eAAe,mBAAO,CAAC,2CAAU;AACjC,oBAAoB,mBAAO,CAAC,gDAAe;AAC3C;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA,kBAAkB;;;;;;;;ACXL;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB;AACnB,cAAc,mBAAO,CAAC,qCAAO;AAC7B;AACA,eAAe,mBAAO,CAAC,2CAAU;AACjC;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,IAAI;AACjB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,8BAA8B;AACpF;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT,gCAAgC,yBAAyB;AACzD,gCAAgC,yBAAyB;AACzD,qCAAqC,8BAA8B;AACnE;AACA;AACA,mBAAmB;AACnB;AACA;AACA;;;;;;;;;;;;;;AC/HA,6DAAqC;AACrC,oEAA0B;AAC1B,iDAA4B;AAC5B,qEAAmD;AACnD,4DAAwB;AACxB,2CAAiC;AACjC,8DAAgF;AAChF,kEAA6B;AAC7B,mFAAoC;AACpC,8FAKsC;AAEtC,MAAM,WAAW,GAAG,oBAAS,EAAC,oBAAI,CAAC,CAAC;AAEpC,MAAM,kBAAkB,GAAG;IACzB,WAAW,EAAE,eAAC,EAAC,kBAAkB,CAAC;IAClC,OAAO,EAAE,eAAC,EAAC,mBAAmB,CAAC;IAC/B,QAAQ,EAAE,eAAC,EAAC,mBAAmB,CAAC;IAChC,UAAU,EAAE,eAAC,EAAC,mBAAmB,CAAC;CACnC,CAAC;AAEF,SAAS,aAAa,CAAC,QAAgB;IACrC,MAAM,WAAW,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;IAC9C,KAAK,MAAM,QAAQ,IAAI,WAAW,EAAE;QAClC,IAAI,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC;YAAE,OAAO,KAAK,CAAC;KAC/C;IACD,OAAO,IAAI,CAAC;AACd,CAAC;AAEM,KAAK,UAAU,QAAQ,CAC5B,SAAiB,EACjB,KAAe,EACf,QAAiB;IAEjB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;QACnE,MAAM,IAAI,KAAK,CAAC,kBAAkB,CAAC,WAAW,CAAC,CAAC;IAClD,OAAO,MAAM,MAAM,CAAC,SAAS,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;AAClD,CAAC;AARD,4BAQC;AAEM,KAAK,UAAU,UAAU,CAC9B,OAAe,EACf,IAAY,EACZ,QAAiB;IAEjB,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;QACjD,MAAM,IAAI,KAAK,CAAC,kBAAkB,CAAC,WAAW,CAAC,CAAC;IAElD,MAAM,QAAQ,GAAG,KAAK,IAAI,EAAE;QAC1B,IAAI,CAAC,mCAAW,EAAC,OAAO,CAAC,EAAE;YACzB,MAAM,OAAO,GAAG,wCAAgB,EAAC,OAAO,CAAC,CAAC;YAC1C,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC;SAChE;QAED,IAAI,qCAAa,EAAC,OAAO,CAAC,EAAE;YAC1B,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,CAAC,CAAC,CAAC;SAC1C;QACD,IAAI;YACF,OAAO,MAAM,QAAQ,CAAC,OAAO,EAAE,IAAI,EAAE,QAAQ,IAAI,OAAO,CAAC,CAAC;SAC3D;QAAC,OAAO,KAAU,EAAE;YACnB,aAAM,CAAC,KAAK,CAAC,aAAE,EAAC,mBAAmB,EAAE,EAAE,OAAO,EAAE,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;YAClE,MAAM,IAAI,KAAK,CACb,aAAE,EAAC,mBAAmB,EAAE;gBACtB,OAAO,EAAE,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,OAAO;aACxB,CAAC,CACH,CAAC;SACH;IACH,CAAC,CAAC;IAEF,IAAI,CAAC,MAAM,uCAAe,GAAE,EAAE;QAC5B,IAAI;YACF,OAAO,MAAM,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;SACrC;QAAC,OAAO,KAAK,EAAE;YACd,2CAA2C;YAC3C,OAAO,MAAM,QAAQ,EAAE,CAAC;SACzB;KACF;SAAM;QACL,OAAO,MAAM,QAAQ,EAAE,CAAC;KACzB;AACH,CAAC;AAvCD,gCAuCC;AAED;;GAEG;AACH,KAAK,UAAU,OAAO,CAAC,SAAiB,EAAE,OAAe;;IACvD,IAAI;QACF,MAAM,SAAS,GAAG,cAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;QAC1C,MAAM,cAAc,GAAG,cAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QAC/C,MAAM,gBAAgB,GAAG,cAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;QAEnD,IAAI,OAAe,CAAC;QACpB,IAAI,UAAkB,CAAC;QAEvB,MAAM,kBAAE,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QAC5B,OAAO,GAAG,IAAI,sBAAc,QAAQ,SAAS,QAAQ,OAAO,QAAQ,CAAC;QACrE,UAAU,GAAG,SAAS,CAAC;QACvB,aAAM,CAAC,IAAI,CAAC,aAAE,EAAC,mBAAmB,EAAE,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC;QAElD,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,WAAW,CAAC,OAAO,EAAE;YACpD,GAAG,EAAE,UAAU;YACf,OAAO,EAAE,2BAAmB,GAAG,IAAI;SACpC,CAAC,CAAC;QAEH,MAAM,SAAS,GACb,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC;YAC1B,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC;YACzB,MAAM,CAAC,QAAQ,CAAC,cAAc,CAAC;YAC/B,MAAM,CAAC,QAAQ,CAAC,gBAAgB,CAAC;YACjC,MAAM,CAAC,QAAQ,CAAC,YAAY,CAAC;YAC7B,MAAM,CAAC,QAAQ,CAAC,uBAAuB,CAAC,CAAC;QAE3C,IAAI,SAAS,EAAE;YACb,MAAM,UAAU,GAAG,MAAM;iBACtB,KAAK,CAAC,IAAI,CAAC;iBACX,MAAM,CACL,CAAC,IAAI,EAAE,EAAE,CACP,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC;gBACtB,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC;gBAC/B,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC;gBAC3B,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC;gBAC5B,IAAI,CAAC,QAAQ,CAAC,sBAAsB,CAAC,CACxC,CAAC;YAEJ,IAAI,aAAqB,CAAC;YAC1B,IAAI,MAAM,CAAC,QAAQ,CAAC,gBAAgB,CAAC,EAAE;gBACrC,MAAM,WAAW,GAAG,MAAM,CAAC,KAAK,CAAC,iCAAiC,CAAC,CAAC;gBACpE,IAAI,WAAW,EAAE;oBACf,aAAa,GAAG,aAAE,EAAC,mBAAmB,EAAE,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;iBACnE;qBAAM;oBACL,aAAa,GAAG,aAAE,EAAC,mBAAmB,CAAC,CAAC;iBACzC;aACF;iBAAM,IAAI,MAAM,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE;gBACxC,aAAa,GAAG,aAAE,EAAC,mBAAmB,CAAC,CAAC;aACzC;iBAAM,IAAI,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE;gBACzC,aAAa,GAAG,aAAE,EAAC,mBAAmB,CAAC,CAAC;aACzC;iBAAM;gBACL,MAAM,UAAU,GAAG,iBAAU,CAAC,CAAC,CAAC,0CAAE,IAAI,EAAE,KAAI,aAAE,EAAC,mBAAmB,CAAC,CAAC;gBACpE,aAAa,GAAG,UAAU,CAAC,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,UAAU,CAAC;aAC7F;YAED,aAAM,CAAC,KAAK,CAAC,aAAE,EAAC,mBAAmB,EAAE,EAAE,OAAO,EAAE,aAAa,EAAE,CAAC,CAAC,CAAC;YAClE,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,EAAE,EAAE,OAAO,EAAE,aAAa,EAAE,CAAC,CAAC,CAAC;SACtE;QAED,IAAI,MAAM,IAAI,MAAM,CAAC,IAAI,EAAE,EAAE;YAC3B,aAAM,CAAC,IAAI,CAAC,aAAE,EAAC,mBAAmB,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC;SAC3D;QAED,IAAI,MAAM,CAAC,QAAQ,CAAC,kBAAkB,CAAC,EAAE;YACvC,aAAM,CAAC,IAAI,CAAC,aAAE,EAAC,mBAAmB,CAAC,CAAC,CAAC;SACtC;aAAM;YACL,MAAM,WAAW,GAAG,MAAM;iBACvB,KAAK,CAAC,IAAI,CAAC;iBACX,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;iBAC7B,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YACb,aAAM,CAAC,IAAI,CAAC,aAAE,EAAC,mBAAmB,EAAE,EAAE,MAAM,EAAE,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;SAC1E;QACD,OAAO,IAAI,CAAC;KACb;IAAC,OAAO,KAAU,EAAE;QACnB,IAAI,cAAsB,CAAC;QAC3B,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,gBAAgB,CAAC,EAAE;YAC5C,MAAM,WAAW,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,iCAAiC,CAAC,CAAC;YAC3E,cAAc,GAAG,WAAW;gBAC1B,CAAC,CAAC,aAAE,EAAC,mBAAmB,EAAE,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC;gBACnD,CAAC,CAAC,aAAE,EAAC,mBAAmB,CAAC,CAAC;SAC7B;aAAM,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;YAC5C,cAAc,GAAG,aAAE,EAAC,mBAAmB,CAAC,CAAC;SAC1C;aAAM,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;YAC3C,cAAc,GAAG,aAAE,EAAC,mBAAmB,CAAC,CAAC;SAC1C;aAAM,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,gBAAgB,CAAC,EAAE;YACnD,cAAc,GAAG,aAAE,EAAC,mBAAmB,CAAC,CAAC;SAC1C;aAAM;YACL,cAAc,GAAG,aAAE,EAAC,mBAAmB,CAAC,CAAC;SAC1C;QAED,aAAM,CAAC,KAAK,CACV,aAAE,EAAC,mBAAmB,EAAE;YACtB,OAAO,EAAE,cAAc;YACvB,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC;SACzC,CAAC,CACH,CAAC;QACF,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,EAAE,EAAE,OAAO,EAAE,cAAc,EAAE,CAAC,CAAC,CAAC;KACvE;AACH,CAAC;AAED,0EAA0E;AAC1E,KAAK,UAAU,QAAQ,CAAC,SAAiB,EAAE,OAAe,EAAE,IAAI,GAAG,OAAO;IACxE,MAAM,MAAM,GAAG;QACb,UAAU;QACV,aAAa,cAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;QACvC,iBAAiB,cAAI,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE;QAC1C,UAAU,IAAI,EAAE;KACjB,CAAC;IACF,aAAM,CAAC,IAAI,CAAC,iCAAiC,uBAAe,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IACpF,MAAM,UAAU,GAAG,IAAI,kCAAc,CACnC,uBAAe,EACf,MAAM,EACN,cAAI,CAAC,OAAO,CAAC,SAAS,CAAC,EACvB,2BAAmB,EACnB,IAAI,CACL,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC;IACzC,OAAO,UAAU,CAAC,KAAK,EAAE,CAAC;AAC5B,CAAC;AAED,oGAAoG;AACpG,KAAK,UAAU,MAAM,CAAC,OAAe,EAAE,KAAe,EAAE,IAAI,GAAG,OAAO;IACpE,IAAI,CAAC,KAAK,IAAI,KAAK,CAAC,MAAM,IAAI,CAAC;QAAE,MAAM,IAAI,KAAK,CAAC,eAAC,EAAC,mBAAmB,CAAC,CAAC,CAAC;IACzE,MAAM,MAAM,GAAG,CAAC,UAAU,EAAE,UAAU,IAAI,EAAE,EAAE,aAAa,cAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IACrF,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;QAClB,MAAM,CAAC,IAAI,CAAC,UAAU,cAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IAC5C,CAAC,CAAC,CAAC;IACH,aAAM,CAAC,IAAI,CACT,+BAA+B,uBAAe,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,cAAI,CAAC,OAAO,CACtF,OAAO,CACR,EAAE,CACJ,CAAC;IACF,MAAM,UAAU,GAAG,IAAI,kCAAc,CACnC,uBAAe,EACf,MAAM,EACN,cAAI,CAAC,OAAO,CAAC,OAAO,CAAC,EACrB,2BAAmB,EACnB,IAAI,CACL,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC;IACzC,OAAO,UAAU,CAAC,KAAK,EAAE,CAAC;AAC5B,CAAC;;;;;;;;;;ACrOD,qEAAqD;AACrD,qBAAe,IAAI,oCAAgB,EAAE,CAAC;;;;;;;;;;;;;;ACDtC,wDAAoB;AACpB,4DAAwB;AAExB,SAAS,gBAAgB;IACvB,IAAI,UAAU,GAAG,cAAI,CAAC,SAAS,CAC7B,cAAI,CAAC,IAAI,CACP,OAAO,CAAC,GAAG,EAAE,EACb,KAAK,EACL,YAAE,CAAC,QAAQ,EAAE,KAAK,OAAO,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,YAAY,YAAE,CAAC,IAAI,EAAE,EAAE,CACrE,CACF,CAAC;IACF,OAAO,UAAU,CAAC;AACpB,CAAC;AAED,MAAM,QAAQ,GAAG,GAAG,YAAE,CAAC,QAAQ,EAAE,IAAI,YAAE,CAAC,IAAI,EAAE,GAAG,YAAE,CAAC,QAAQ,EAAE,KAAK,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;AAC3F,MAAM,OAAO,GAAG,OAAO,QAAQ,EAAE,CAAC;AAClC,MAAM,QAAQ,GAAG,QAAQ,QAAQ,EAAE,CAAC;AACpC,MAAM,QAAQ,GAAG,cAAI,CAAC,SAAS,CAAC,cAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC,CAAC;AAuBxE,4BAAQ;AAtBV,MAAM,SAAS,GAAG,cAAI,CAAC,SAAS,CAAC,cAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC;AAkB1E,8BAAS;AAjBX,MAAM,kBAAkB,GAAG,CAAC,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;AAgBxE,gDAAkB;AAfpB,MAAM,sBAAsB,GAAG,cAAI,CAAC,SAAS,CAAC,cAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,UAAU,CAAC,CAAC,CAAC;AAmBlF,wDAAsB;AAlBxB,MAAM,MAAM,GAAG,cAAc,CAAC;AAiB5B,wBAAM;AAhBR,MAAM,WAAW,GAAG,YAAE,CAAC,QAAQ,EAAE,CAAC;AAsBhC,kCAAW;AArBb,MAAM,mBAAmB,GAAG,EAAE,GAAG,EAAE,CAAC;AAuBlC,kDAAmB;AAtBrB,MAAM,eAAe,GAAG,YAAY,WAAW,IAAI,YAAE,CAAC,IAAI,EAAE,GAC1D,WAAW,KAAK,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EACrC,EAAE,CAAC;AACH,MAAM,eAAe,GAAG,cAAI,CAAC,SAAS,CAAC,cAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,eAAe,CAAC,CAAC,CAAC;AAUvF,0CAAe;AATjB,MAAM,cAAc,GAAG,gBAAgB,EAAE,CAAC;AAexC,wCAAc;AAdhB,MAAM,qBAAqB,GAAG,+DAA+D,CAAC;AAgB5F,sDAAqB;AAdvB,MAAM,cAAc,GAAG,MAAM,YAAE,CAAC,QAAQ,EAAE,IAAI,YAAE,CAAC,IAAI,EAAE,GAAG,YAAE,CAAC,QAAQ,EAAE,KAAK,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;AAUlG,wCAAc;AAThB,MAAM,cAAc,GAAG,cAAI,CAAC,SAAS,CAAC,cAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,cAAc,CAAC,CAAC,CAAC;AAUrF,wCAAc;;;;;;;;;;;;;;AC1ChB,2CAA0B;AAC1B,wGAAwD;AAExD,SAAS,eAAe;IACtB,MAAM,CAAC,GAAG,GAAG,aAAE,GAAE,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,EAAE,CAAC;IACzC,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IACvC,MAAM,CAAC,GAAG,GAAG,aAAE,GAAE,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,EAAE,CAAC;IACzC,OAAO,CAAC,GAAG,CAAC,CAAC;AACf,CAAC;AAED,UAAU;AACV,MAAM,MAAM;IAAZ;QACS,YAAO,GAAG,CAAC,CAAC;QACZ,OAAE,GAAG,EAAE,CAAC;QACR,SAAI,GAAG,KAAK,CAAC;QACb,WAAM,GAAG,EAAE,CAAC;QACZ,QAAG,GAAG,eAAe,EAAE,CAAC;QACxB,gBAAW,GAAG,CAAC,CAAC;QAChB,mBAAc,GAAG,GAAG,CAAC;QACrB,aAAQ,GAAG,OAAO,CAAC;QACnB,wBAAmB,GAAG,EAAE,CAAC;QACzB,wBAAmB,GAAG,EAAE,CAAC;QACzB,yBAAoB,GAAG,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;QACtC,2BAAsB,GAAG,KAAK,CAAC;QAC/B,uBAAkB,GAAG,CAAC,CAAC;QAE9B,oEAAoE;QAC7D,oBAAe,GAAG,CAAC,CAAC;QAC3B,kEAAkE;QAC3D,sBAAiB,GAAG,CAAC,CAAC;QAC7B,oCAAoC;QAC7B,gCAA2B,GAAG,CAAC,CAAC;QAEhC,qBAAgB,GAAG,KAAK,CAAC;QACzB,sBAAiB,GAAG,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;QAEhD,QAAG,GAAG,KAAK,CAAC;QACZ,eAAU,GAAG,EAAE,CAAC;QAChB,eAAU,GAAG,EAAE,CAAC;IAClB,CAAC;CAAA;AA4BQ,wBAAM;AA1Bf,6BAA6B;AAC7B,MAAM,mBAAmB;IAAzB;QACS,WAAM,GAAG,IAAI,MAAM,EAAE,CAAC;IAe/B,CAAC;IAZC,IAAI;QACF,IAAI,MAAM,GAAW,wBAAgB,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,EAAE,mBAAmB,CAAC,EAAE,CAAC,CAAC;QACrF,IAAI,MAAM,IAAI,IAAI,EAAE;YAClB,MAAM,GAAG,IAAI,MAAM,EAAE,CAAC;YACtB,wBAAgB,CAAC,KAAK,CAAC,QAAQ,EAAE,mBAAmB,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;SAClE;QACD,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACvB,CAAC;IAED,KAAK;QACH,wBAAgB,CAAC,KAAK,CAAC,QAAQ,EAAE,mBAAmB,CAAC,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IACxE,CAAC;;AAbuB,sBAAE,GAAG,QAAQ,CAAC;AAgBxC,MAAM,SAAS;IAAf;QACS,kBAAa,GAAG,CAAC,CAAC;IAC3B,CAAC;CAAA;AAED,MAAM,mBAAmB,GAAG,IAAI,mBAAmB,EAAE,CAAC;AAGrC,kDAAmB;AAFpC,MAAM,SAAS,GAAG,IAAI,SAAS,EAAE,CAAC;AAEI,8BAAS;;;;;;;;;ACnE/C,mCAAmC;AACnC,sFAAsF;;;;;;AAEtF,kEAA8B;AA4DjB,kBA5DN,iBAAO,CA4DM;AA1DpB,qFAA0C;AAC1C,qFAA0C;AAC1C,qFAA0C;AAC1C,qFAA0C;AAC1C,qFAA0C;AAC1C,qFAA0C;AAC1C,qFAA0C;AAC1C,qFAA0C;AAC1C,qFAA0C;AAC1C,qFAA0C;AAC1C,qFAA0C;AAE1C,iBAAO,CAAC,IAAI,CAAC;IACX,aAAa,EAAE;QACb,WAAW,EAAE,KAAK;KACnB;IACD,GAAG,EAAE,OAAO;IACZ,WAAW,EAAE,OAAO;IACpB,SAAS,EAAE;QACT,KAAK,EAAE;YACL,WAAW,EAAE,oBAAK;SACnB;QACD,KAAK,EAAE;YACL,WAAW,EAAE,oBAAK;SACnB;QACD,KAAK,EAAE;YACL,WAAW,EAAE,oBAAK;SACnB;QACD,KAAK,EAAE;YACL,WAAW,EAAE,oBAAK;SACnB;QACD,KAAK,EAAE;YACL,WAAW,EAAE,oBAAK;SACnB;QACD,KAAK,EAAE;YACL,WAAW,EAAE,oBAAK;SACnB;QACD,KAAK,EAAE;YACL,WAAW,EAAE,oBAAK;SACnB;QACD,KAAK,EAAE;YACL,WAAW,EAAE,oBAAK;SACnB;QACD,KAAK,EAAE;YACL,WAAW,EAAE,oBAAK;SACnB;QACD,KAAK,EAAE;YACL,WAAW,EAAE,oBAAK;SACnB;QACD,KAAK,EAAE;YACL,WAAW,EAAE,oBAAK;SACnB;KACF;CACF,CAAC,CAAC;AAEH,QAAQ;AACR,MAAM,EAAE,GAAG,iBAAO,CAAC,CAAC,CAAC;AAEZ,gBAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/DX,oEAA0B;AAC1B,2DAAiC;AACjC,qEAA+C;AAC/C,kEAA6B;AAE7B,MAAM,aAAa,GAAG,kBAAkB,CAAC;AACzC,MAAM,sBAAsB,GAAG,kBAAkB,CAAC;AAElD,MAAM,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;AACxB,MAAM,UAAU,GACd,GAAG,IAAI,CAAC,WAAW,EAAE,IAAI,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,IAAI,IAAI,CAAC,OAAO,EAAE,EAAE;IAChE,IAAI,IAAI,CAAC,QAAQ,EAAE,IAAI,IAAI,CAAC,UAAU,EAAE,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE,CAAC;AAElE,IAAI,kBAAE,CAAC,UAAU,CAAC,aAAa,CAAC,EAAE;IAChC,kBAAE,CAAC,UAAU,CAAC,aAAa,EAAE,QAAQ,UAAU,MAAM,CAAC,CAAC;CACxD;AAED,IAAI,kBAAE,CAAC,UAAU,CAAC,sBAAsB,CAAC,EAAE;IACzC,kBAAE,CAAC,UAAU,CAAC,sBAAsB,EAAE,gBAAgB,UAAU,MAAM,CAAC,CAAC;CACzE;AAED,MAAM,CAAC,SAAS,CAAC;IACf,SAAS,EAAE;QACT,GAAG,EAAE;YACH,IAAI,EAAE,QAAQ;YACd,MAAM,EAAE;gBACN,IAAI,EAAE,SAAS;gBACf,OAAO,EAAE,kCAAkC;aAC5C;SACF;QACD,GAAG,EAAE;YACH,IAAI,EAAE,MAAM;YACZ,QAAQ,EAAE,aAAa;YACvB,MAAM,EAAE;gBACN,IAAI,EAAE,SAAS;gBACf,OAAO,EAAE,8BAA8B;aACxC;SACF;QACD,GAAG,EAAE;YACH,IAAI,EAAE,MAAM;YACZ,QAAQ,EAAE,sBAAsB;YAChC,MAAM,EAAE;gBACN,IAAI,EAAE,SAAS;gBACf,OAAO,EAAE,8BAA8B;aACxC;SACF;KACF;IACD,UAAU,EAAE;QACV,OAAO,EAAE;YACP,SAAS,EAAE,CAAC,KAAK,EAAE,KAAK,CAAC;YACzB,KAAK,EAAE,MAAM;SACd;QACD,OAAO,EAAE;YACP,SAAS,EAAE,CAAC,KAAK,CAAC;YAClB,KAAK,EAAE,MAAM;SACd;KACF;CACF,CAAC,CAAC;AAEH,MAAM,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;AAC3C,MAAM,aAAa,GAAG,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;AAClD,SAAS,KAAK,CAAC,CAAS;IACtB,OAAO,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7B,CAAC;AAED,SAAS,gBAAgB;IACvB,MAAM,OAAO,GAAG,IAAI,GAAG,IAAI,CAAC;IAC5B,MAAM,IAAI,GAAG,kCAAU,GAAE,CAAC;IAE1B,MAAM,IAAI,GAAG,OAAO,CAAC,WAAW,EAAE,CAAC;IACnC,MAAM,OAAO,GACX,QAAQ,KAAK,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC,MAAM,KAAK,CAChE,IAAI,CAAC,QAAQ,GAAG,OAAO,CACxB,IAAI,GAAG,SAAS,KAAK,CAAC,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,GAAG,CAAC;IACjD,MAAM,QAAQ,GAAG,SAAS,KAAK,CAAC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,MAAM,KAAK,CAAC,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC;IAClG,MAAM,SAAS,GAAG,QAAQ,KAAK,CAAC,IAAI,CAAC,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC;IACxD,MAAM,MAAM,GAAG,aAAE,EAAC,sBAAsB,CAAC,CAAC;IAC1C,aAAa,CAAC,IAAI,CAAC,CAAC,IAAI,MAAM,GAAG,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;AAC9E,CAAC;AAED,WAAW,CAAC,gBAAgB,EAAE,IAAI,GAAG,CAAC,CAAC,CAAC;AAExC,qBAAe,MAAM,CAAC;;;;;;;;;;;;;;AClFtB,6DAAqC;AACrC,uCAAgC;AAChC,uEAA6B;AAC7B,4DAAwB;AACxB,2CAAiC;AACjC,8DAA0C;AAC1C,kEAA6B;AAC7B,mFAA2B;AAE3B,MAAM,WAAW,GAAG,oBAAS,EAAC,oBAAI,CAAC,CAAC;AAEpC;;GAEG;AACH,SAAgB,WAAW,CAAC,QAAgB;IAC1C,MAAM,GAAG,GAAG,cAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,WAAW,EAAE,CAAC;IACjD,OAAO,GAAG,KAAK,MAAM,CAAC;AACxB,CAAC;AAHD,kCAGC;AAED;;;;;GAKG;AACH,SAAgB,aAAa,CAAC,QAAgB;IAC5C,MAAM,GAAG,GAAG,cAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IACnC,MAAM,QAAQ,GAAG,cAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;IACzC,MAAM,GAAG,GAAG,cAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,WAAW,EAAE,CAAC;IAEjD,IAAI,GAAG,KAAK,MAAM,EAAE;QAClB,MAAM,QAAQ,GAAG,cAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QACjD,MAAM,eAAe,GAAG,cAAI,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,GAAG,MAAM,CAAC,CAAC;QAC1D,OAAO,mBAAU,EAAC,eAAe,CAAC,CAAC;KACpC;IAED,IAAI,GAAG,KAAK,KAAK,EAAE;QACjB,MAAM,QAAQ,GAAG,cAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;QAChD,MAAM,eAAe,GAAG,cAAI,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,GAAG,SAAS,CAAC,CAAC;QAC7D,OAAO,mBAAU,EAAC,eAAe,CAAC,CAAC;KACpC;IAED,IAAI,GAAG,KAAK,MAAM,EAAE;QAClB,MAAM,QAAQ,GAAG,cAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAEjD,IAAI,QAAQ,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE;YACnC,MAAM,YAAY,GAAG,QAAQ,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC;YACxD,MAAM,cAAc,GAAG,cAAI,CAAC,IAAI,CAAC,GAAG,EAAE,YAAY,GAAG,YAAY,CAAC,CAAC;YACnE,OAAO,mBAAU,EAAC,cAAc,CAAC,CAAC;SACnC;QAED,MAAM,eAAe,GAAG,cAAI,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,GAAG,MAAM,CAAC,CAAC;QAC1D,OAAO,mBAAU,EAAC,eAAe,CAAC,CAAC;KACpC;IAED,OAAO,KAAK,CAAC;AACf,CAAC;AA/BD,sCA+BC;AAED;;GAEG;AACH,SAAgB,gBAAgB,CAAC,QAAgB;IAC/C,OAAO,cAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,SAAS,CAAC;AACxE,CAAC;AAFD,4CAEC;AAED,IAAI,aAAa,GAAG,KAAK,CAAC;AAC1B;;GAEG;AACI,KAAK,UAAU,eAAe;IACnC,IAAI;QACF,IAAI,aAAa;YAAE,OAAO,IAAI,CAAC;QAC/B,IAAI,CAAC,mBAAU,EAAC,sBAAc,CAAC;YAAE,OAAO,KAAK,CAAC;QAC9C,IAAI;YACF,MAAM,kBAAE,CAAC,KAAK,CAAC,sBAAc,EAAE,KAAK,CAAC,CAAC;SACvC;QAAC,OAAO,UAAe,EAAE;YACxB,aAAM,CAAC,IAAI,CAAC,aAAE,EAAC,mBAAmB,EAAE,EAAE,OAAO,EAAE,UAAU,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;SACvE;QACD,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,WAAW,CAAC,IAAI,sBAAc,KAAK,EAAE;YAC5D,OAAO,EAAE,CAAC,GAAG,IAAI;SAClB,CAAC,CAAC;QACH,IAAI,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE;YAC5D,aAAM,CAAC,IAAI,CAAC,aAAE,EAAC,mBAAmB,EAAE,EAAE,IAAI,EAAE,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC;YAC7E,aAAa,GAAG,IAAI,CAAC;YACrB,OAAO,IAAI,CAAC;SACb;QACD,OAAO,KAAK,CAAC;KACd;IAAC,OAAO,KAAU,EAAE;QACnB,eAAe;QACf,OAAO,KAAK,CAAC;KACd;AACH,CAAC;AAtBD,0CAsBC;;;;;;;;;;;;;AC3FD,oEAA0B;AAC1B,wEAA+B;AAC/B,qEAAmD;AACnD,wDAAoB;AACpB,4DAAwB;AACxB,2EAA0D;AAC1D,uEAAuD;AACvD,kEAAsC;AACtC,0EAAmD;AAEnD,MAAM,YAAY,GAAG,aAAE,EAAC,oCAAoC,CAAC,CAAC;AAC9D,MAAM,aAAa,GAAG,IAAI,GAAG,IAAI,GAAG,CAAC,CAAC;AAUtC,MAAqB,WAAW;IAG9B,YAAmB,UAAkB,EAAE,EAAS,QAAiB;QAA9C,YAAO,GAAP,OAAO,CAAa;QAAS,aAAQ,GAAR,QAAQ,CAAS;QAF1D,QAAG,GAAW,GAAG,CAAC;QAGvB,IAAI,CAAC,cAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE;YAC7B,IAAI,CAAC,OAAO,GAAG,cAAI,CAAC,SAAS,CAAC,cAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,OAAO,CAAC,CAAC,CAAC;SAClE;aAAM;YACL,IAAI,CAAC,OAAO,GAAG,cAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;SACxC;QACD,IAAI,CAAC,QAAQ,EAAE;YACb,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;YACxB,IAAI,cAAO,CAAC,QAAQ,IAAI,OAAO;gBAAE,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;SACxD;IACH,CAAC;IAED,aAAa;QACX,OAAO,IAAI,CAAC,OAAO,KAAK,GAAG,IAAI,IAAI,CAAC,OAAO,KAAK,IAAI,CAAC;IACvD,CAAC;IAED,cAAc,CAAC,WAAmB,EAAE;QAClC,MAAM,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC;QAErC,IAAI,cAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,KAAK,CAAC;YAAE,OAAO,QAAQ,CAAC;QAE7E,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,YAAE,CAAC,QAAQ,EAAE,KAAK,OAAO,EAAE;YAC7B,MAAM,GAAG,GAAG,IAAI,MAAM,CAAC,yBAAyB,CAAC,CAAC;YAClD,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;gBACtB,SAAS,GAAG,cAAI,CAAC,SAAS,CAAC,cAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC,CAAC;aAC3D;iBAAM,IAAI,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;gBAC7B,SAAS,GAAG,cAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;aACtC;SACF;QAED,IAAI,CAAC,SAAS,EAAE;YACd,SAAS,GAAG,cAAI,CAAC,SAAS,CAAC,cAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC,CAAC;SACzE;QAED,IACE,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC,KAAK,CAAC;YACxC,eAAe,KAAK,GAAG;YACvB,eAAe,KAAK,IAAI;YAExB,MAAM,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC;QAChC,OAAO,SAAS,CAAC;IACnB,CAAC;IAED,SAAS,CAAC,cAAsB;QAC9B,IAAI,IAAI,CAAC,aAAa,EAAE;YAAE,OAAO,IAAI,CAAC;QACtC,MAAM,gBAAgB,GAAG,cAAI,CAAC,SAAS,CAAC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,CAAC;QAC7E,MAAM,eAAe,GAAG,cAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAErD,MAAM,QAAQ,GAAG,gBAAgB,CAAC,QAAQ,CAAC,cAAI,CAAC,GAAG,CAAC;YAClD,CAAC,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAC/B,CAAC,CAAC,gBAAgB,CAAC;QACrB,MAAM,OAAO,GAAG,eAAe,CAAC,QAAQ,CAAC,cAAI,CAAC,GAAG,CAAC;YAChD,CAAC,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAC9B,CAAC,CAAC,eAAe,CAAC;QAEpB,IAAI,QAAQ,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE;YAChC,MAAM,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,cAAI,CAAC,GAAG,CAAC,CAAC;YACvC,OAAO,OAAO,CAAC,KAAK,CAAC,cAAI,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE;gBACnD,OAAO,IAAI,KAAK,KAAK,CAAC,KAAK,CAAC,CAAC;YAC/B,CAAC,CAAC,CAAC;SACJ;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IAED,KAAK,CAAC,QAAgB;QACpB,IAAI,IAAI,CAAC,aAAa,EAAE;YAAE,OAAO,IAAI,CAAC;QACtC,OAAO,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,kBAAE,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC;IAClF,CAAC;IAED,EAAE,CAAC,OAAe;QAChB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;YAAE,MAAM,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC;QACxD,IAAI,CAAC,GAAG,GAAG,6BAAc,EAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IAC/C,CAAC;IAED,KAAK,CAAC,IAAI,CAAC,IAAO,EAAE,QAAQ,GAAG,EAAE,EAAE,cAAuB;QACxD,IAAI,QAAQ,GAAG,GAAG,IAAI,QAAQ,IAAI,CAAC,IAAI,IAAI,GAAG,CAAC;YAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;QAE3F,0EAA0E;QAC1E,MAAM,OAAO,GAAG,MAAM,kBAAE,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,EAAE,EAAE,EAAE,aAAa,EAAE,IAAI,EAAE,CAAC,CAAC;QAEjF,6DAA6D;QAC7D,IAAI,aAAa,GAAG,OAAO;aACxB,MAAM,CACL,CAAC,MAAM,EAAE,EAAE,CACT,CAAC,cAAc,IAAI,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC,CACtF;aACA,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;YAChB,IAAI,EAAE,MAAM,CAAC,IAAI;YACjB,IAAI,EAAE,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SAC9B,CAAC,CAAC,CAAC;QAEN,MAAM,KAAK,GAAG,aAAa,CAAC,MAAM,CAAC;QAEnC,6EAA6E;QAC7E,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YAC1B,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI;gBAAE,OAAO,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;YAC9C,OAAO,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC;QAEH,MAAM,UAAU,GAAG,IAAI,GAAG,QAAQ,CAAC;QACnC,MAAM,QAAQ,GAAG,UAAU,GAAG,QAAQ,CAAC;QACvC,MAAM,WAAW,GAAG,aAAa,CAAC,KAAK,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;QAE9D,MAAM,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,EAAE,EAAE;;YAClD,IAAI;gBACF,MAAM,IAAI,GAAG,MAAM,kBAAE,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBAC3D,MAAM,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAI,CAAC,IAAI,0CAAE,QAAQ,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC9E,OAAO;oBACL,IAAI,EAAE,IAAI,CAAC,IAAI;oBACf,IAAI,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oBACnC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;oBAC3B,IAAI;oBACJ,IAAI,EAAE,IAAI,CAAC,IAAI;iBAChB,CAAC;aACH;YAAC,OAAO,KAAU,EAAE;gBACnB,OAAO;oBACL,IAAI,EAAE,IAAI,CAAC,IAAI;oBACf,IAAI,EAAE,CAAC;oBACP,IAAI,EAAE,IAAI,IAAI,EAAE,CAAC,QAAQ,EAAE;oBAC3B,IAAI,EAAE,CAAC;oBACP,IAAI,EAAE,IAAI,CAAC,IAAI;iBAChB,CAAC;aACH;QACH,CAAC,CAAC,CAAC;QAEH,2CAA2C;QAC3C,MAAM,UAAU,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QAEnD,OAAO;YACL,KAAK,EAAE,UAAU;YACjB,IAAI;YACJ,QAAQ;YACR,KAAK;YACL,YAAY,EAAE,IAAI,CAAC,cAAc,EAAE;SACpC,CAAC;IACJ,CAAC;IAED,KAAK,CAAC,KAAK,CAAC,QAAgB,EAAE,UAAkB,EAAE,IAAa;QAC7D,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,UAAiB,CAAC,CAAC;YAAE,MAAM,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC;QAC/F,MAAM,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QAC9C,MAAM,WAAW,GAAG,YAAY,CAAC;QACjC,IAAI,IAAI,GAAG,OAAO,CAAC;QACnB,IAAI,kBAAE,CAAC,UAAU,CAAC,WAAW,CAAC;YAAE,IAAI,GAAG,WAAW,CAAC;QACnD,MAAM,MAAM,GAAa,EAAE,CAAC;QAC5B,IAAI,IAAI;YAAE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC5B,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;QAChC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACrB,OAAO,MAAM,IAAI,kCAAc,CAAC,IAAI,EAAE,MAAM,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;IACtE,CAAC;IAED,KAAK,CAAC,QAAQ,CAAC,QAAgB;QAC7B,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;YAAE,MAAM,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC;QACzD,MAAM,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QAC9C,MAAM,GAAG,GAAG,MAAM,kBAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACvC,MAAM,IAAI,GAAG,oBAAK,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,QAAQ,IAAI,OAAO,CAAC,CAAC;QACzD,OAAO,IAAI,CAAC;IACd,CAAC;IAED,KAAK,CAAC,SAAS,CAAC,QAAgB,EAAE,IAAY;QAC5C,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;YAAE,MAAM,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC;QACzD,MAAM,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QAC9C,MAAM,GAAG,GAAG,oBAAK,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,QAAQ,IAAI,OAAO,CAAC,CAAC;QACzD,OAAO,MAAM,kBAAE,CAAC,SAAS,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;IAC1C,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,QAAgB;QAC5B,2EAA2E;QAC3E,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC;YAAE,MAAM,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC;QAC7D,MAAM,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QAC7C,kBAAE,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;IACxB,CAAC;IAED,KAAK,CAAC,IAAI,CAAC,OAAe,EAAE,OAAe;QACzC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;YAAE,MAAM,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC;QACpF,MAAM,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QAChD,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QACvC,OAAO,MAAM,kBAAE,CAAC,IAAI,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;IAC5C,CAAC;IAED,KAAK,CAAC,MAAc;QAClB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAAE,MAAM,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC;QAC3D,MAAM,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QAC/C,OAAO,kBAAE,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;IAClC,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,MAAc;QACzB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;YAAE,MAAM,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC;QACvD,MAAM,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QAC/C,OAAO,IAAI,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YAC1B,kBAAE,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC,GAAG,EAAE,EAAE;gBAC5B,IAAI,CAAC,GAAG;oBAAE,CAAC,CAAC,IAAI,CAAC,CAAC;;oBACb,CAAC,CAAC,GAAG,CAAC,CAAC;YACd,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,KAAK,CAAC,IAAI,CAAC,MAAc,EAAE,QAAgB;QACzC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;YAAE,MAAM,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC;QACvD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC;YAAE,MAAM,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC;QAC7D,MAAM,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QAC/C,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QACzC,MAAM,kBAAE,CAAC,IAAI,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;IACtC,CAAC;IAEO,YAAY,CAAC,IAAY;QAC/B,MAAM,QAAQ,GAAG,kBAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACnC,MAAM,UAAU,GAAG,4BAAmB,CAAC,MAAM,CAAC,cAAc,CAAC;QAC7D,IAAI,QAAQ,CAAC,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,UAAU;YACjD,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,iCAAiC,EAAE,EAAE,GAAG,EAAE,UAAU,EAAE,CAAC,CAAC,CAAC;IAChF,CAAC;IAED,KAAK,CAAC,KAAK,CAAC,SAAiB,EAAE,OAAe,EAAE,IAAa;QAC3D,IAAI,CAAC,IAAI;YAAE,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC;QAChC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;YAAE,MAAM,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC;QACtF,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC;QAClD,OAAO,MAAM,yBAAU,EAAC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,CAAC;IAC9F,CAAC;IAED,KAAK,CAAC,GAAG,CAAC,SAAiB,EAAE,KAAe,EAAE,IAAa;;QACzD,IAAI,CAAC,IAAI;YAAE,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC;QAChC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC;YAAE,MAAM,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC;QAC9D,MAAM,UAAU,GAAG,4BAAmB,CAAC,MAAM,CAAC,cAAc,CAAC;QAC7D,MAAM,oBAAoB,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,UAAU,CAAC;QAC7D,MAAM,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QACrD,MAAM,SAAS,GAAG,EAAE,CAAC;QACrB,IAAI,SAAS,GAAG,CAAC,CAAC;QAClB,KAAK,MAAM,QAAQ,IAAI,KAAK,EAAE;YAC5B,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE;gBACxB,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAC9C,IAAI;oBACF,SAAS,IAAI,wBAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,0CAAE,IAAI,CAAC;iBAC/D;gBAAC,OAAO,KAAU,EAAE,GAAE;aACxB;SACF;QACD,IAAI,SAAS,GAAG,oBAAoB;YAClC,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,iCAAiC,EAAE,EAAE,GAAG,EAAE,UAAU,EAAE,CAAC,CAAC,CAAC;QAC9E,OAAO,MAAM,uBAAQ,EAAC,aAAa,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;IACxD,CAAC;IAED,KAAK,CAAC,IAAI,CAAC,MAAc,EAAE,IAAa;QACtC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;YAAE,MAAM,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC;QACvD,IAAI,IAAI,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;YACpC,OAAO,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;SAC3C;aAAM;YACL,MAAM,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;YAC5C,MAAM,IAAI,GAAG,kBAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAClC,IAAI,IAAI,CAAC,IAAI,GAAG,aAAa,EAAE;gBAC7B,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,gCAAgC,CAAC,CAAC,CAAC;aACvD;YACD,OAAO,MAAM,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;SACpC;IACH,CAAC;IAED,MAAM,CAAC,MAAc,EAAE,OAAe;QACpC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;YAAE,MAAM,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC;QACvD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;YAAE,MAAM,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC;QAC5D,MAAM,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QAC/C,MAAM,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QAC7C,kBAAE,CAAC,UAAU,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;IACrC,CAAC;IAEM,MAAM,CAAC,aAAa,CAAC,QAAiB;QAC3C,IAAI,CAAC,QAAQ;YAAE,OAAO,KAAK,CAAC;QAC5B,MAAM,SAAS,GAAG,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;QACjE,KAAK,MAAM,EAAE,IAAI,SAAS,EAAE;YAC1B,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAE,CAAC;gBAAE,OAAO,KAAK,CAAC;SACzC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;CACF;AAjRD,iCAiRC;;;;;;;;;;;;;;ACrSD,oEAA0B;AAC1B,wDAAoB;AACpB,4DAAwB;AAExB,SAAgB,aAAa,CAAC,QAAgB;IAC5C,MAAM,SAAS,GAAG,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;IACjE,KAAK,MAAM,EAAE,IAAI,SAAS,EAAE;QAC1B,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAE,CAAC;YAAE,OAAO,KAAK,CAAC;KACzC;IACD,OAAO,IAAI,CAAC;AACd,CAAC;AAND,sCAMC;AAED,SAAgB,gBAAgB,CAAC,IAA0C;IACzE,IAAI,CAAC,IAAI;QAAE,OAAO;IAClB,IAAI,IAAI,YAAY,KAAK,EAAE;QACzB,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;YACjB,kBAAE,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,EAAE,GAAG,EAAE,GAAE,CAAC,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;KACJ;SAAM;QACL,kBAAE,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,EAAE,GAAE,CAAC,CAAC,CAAC;KACpC;AACH,CAAC;AATD,4CASC;AAED,SAAgB,cAAc,CAAC,GAAG,KAAe;IAC/C,IAAI,YAAE,CAAC,QAAQ,EAAE,KAAK,OAAO,EAAE;QAC7B,OAAO,SAAS,CAAC,GAAG,KAAK,CAAC,CAAC;KAC5B;IACD,OAAO,cAAI,CAAC,SAAS,CAAC,cAAI,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;AAC7C,CAAC;AALD,wCAKC;AAED,SAAS,SAAS,CAAC,GAAG,KAAe;IACnC,IAAI,CAAC,KAAK,CAAC,MAAM;QAAE,OAAO,GAAG,CAAC;IAC9B,IAAI,KAAK,CAAC,MAAM,IAAI,CAAC;QAAE,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC;IACvC,MAAM,KAAK,GAAG,cAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IACzC,IAAI,CAAS,CAAC;IACd,IAAI,KAAK,CAAC,IAAI,EAAE;QACd,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;KACd;SAAM;QACL,CAAC,GAAG,cAAI,CAAC,SAAS,CAAC,cAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KACnD;IACD,IAAI,KAAK,CAAC,MAAM,IAAI,CAAC;QAAE,OAAO,CAAC,CAAC;IAEhC,OAAO,SAAS,CAAC,CAAC,EAAE,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AACzC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5CD,oEAA0B;AAC1B,4DAAwB;AACxB,8DAA0B;AAC1B,0DAAsB;AACtB,iEAAmD;AACnD,0EAAkC;AAClC,wEAAmC;AACnC,qEAAgD;AAChD,4DAAwB;AACxB,wDAAoB;AACpB,4DAAwB;AACxB,2CAA0B;AAC1B,0GAA8D;AAC9D,sGAAuD;AACvD,8DAAgC;AAChC,0DAA2C;AAC3C,2EAA+D;AAC/D,2EAA6E;AAC7E,8DAA2C;AAC3C,qGAA+D;AAC/D,iGAAoD;AACpD,uGAA2D;AAC3D,8DAA+D;AAC/D,8DAAkF;AAElF,SAAS,SAAS,CAAC,IAAY;IAC7B,OAAO,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;AACrC,CAAC;AAED,SAAS,SAAS,CAChB,MAAW,EACX,GAAY,EACZ,UAAkB,EAClB,UAAkB,EAClB,IAAY,EACZ,IAAa;IAEb,IAAI,UAAsC,CAAC;IAE3C,IAAI,GAAG,EAAE;QACP,MAAM,OAAO,GAAG;YACd,IAAI,EAAE,kBAAE,CAAC,YAAY,CAAC,cAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAC5C,GAAG,EAAE,kBAAE,CAAC,YAAY,CAAC,cAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAC5C,CAAC;QACF,UAAU,GAAG,eAAK,CAAC,YAAY,CAAC,OAAO,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC;KAC7D;SAAM;QACL,UAAU,GAAG,cAAI,CAAC,YAAY,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC;KACnD;IAED,UAAU,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,GAAG,EAAE,EAAE;QAC7B,YAAM,CAAC,KAAK,CAAC,aAAE,EAAC,6BAA6B,CAAC,CAAC,CAAC;QAChD,YAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAClB,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC;IAEH,UAAU,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC9B,YAAM,CAAC,IAAI,CAAC,oCAAoC,CAAC,CAAC;IAClD,YAAM,CAAC,IAAI,CAAC,aAAE,EAAC,2BAA2B,CAAC,CAAC,CAAC;IAC7C,YAAM,CAAC,IAAI,CAAC,aAAE,EAAC,wBAAwB,CAAC,CAAC,CAAC;IAC1C,IAAI,OAAO,GAAG,aAAE,EAAC,mBAAmB,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC;IAChD,IAAI,GAAG;QAAE,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IACpD,YAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACrB,YAAM,CAAC,IAAI,CAAC,aAAE,EAAC,sBAAsB,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;IAClD,YAAM,CAAC,IAAI,CAAC,aAAE,EAAC,sBAAsB,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;IAClD,YAAM,CAAC,IAAI,CAAC,oCAAoC,CAAC,CAAC;IAElD,IAAI,YAAE,CAAC,QAAQ,EAAE,IAAI,OAAO,IAAI,SAAS,CAAC,QAAQ,CAAC,EAAE;QACnD,kBAAI,EAAC,GAAG,CAAC,CAAC,CAAC,qBAAqB,IAAI,GAAG,CAAC,CAAC,CAAC,oBAAoB,IAAI,GAAG,CAAC,CAAC;KACxE;AACH,CAAC;AAED,KAAK,UAAU,WAAW;IACxB,IAAI;QACF,YAAM,CAAC,IAAI,CAAC,aAAE,EAAC,mBAAmB,CAAC,CAAC,CAAC;QACrC,YAAM,CAAC,IAAI,CAAC,aAAE,EAAC,mBAAmB,CAAC,CAAC,CAAC;KACtC;IAAC,OAAO,GAAG,EAAE;QACZ,YAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;KACnB;YAAS;QACR,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KACjB;AACH,CAAC;AAED,CAAC,SAAS,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG;IACpD,OAAO,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE;QACnB,YAAM,CAAC,IAAI,CAAC,GAAG,GAAG,iCAAiC,CAAC,CAAC;QACrD,WAAW,EAAE,CAAC;IAChB,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,EAAE;IAC7B,MAAM,OAAO,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;IACtF,IAAI,OAAO,KAAK,MAAM;QAAE,WAAW,EAAE,CAAC;AACxC,CAAC,CAAC,CAAC;AAEH,KAAK,UAAU,IAAI;;IACjB,iCAAiC;IACjC,8BAAgB,GAAE,CAAC;IAEnB,IAAI,sBAAY,IAAI,6BAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,QAAQ,0CAAE,MAAM,KAAI,CAAC,EAAE;QACvD,MAAM,uBAAY,CAAC,UAAU,CAAC,sBAAY,CAAC,QAAQ,CAAC,CAAC;QACrD,qBAAO,CAAC,cAAc,CAAC,qBAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAC5C;IAED,gCAAkB,GAAE,CAAC;IACrB,MAAM,OAAO,GAAG,wBAAU,GAAE,CAAC;IAE7B,OAAO,CAAC,GAAG,CAAC;;;;;;;eAOC,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE;aAC1B,OAAO;CACnB,CAAC,CAAC;IAED,sFAAsF;IACtF,yBAAc,CAAC,YAAY,EAAE,CAAC;IAE9B,+BAAiB,GAAE,CAAC;IAEpB,sBAAsB;IACtB,MAAM,sBAAU,CAAC,UAAU,EAAE,CAAC;IAC9B,MAAM,wBAAmB,CAAC,UAAU,EAAE,CAAC;IAEvC,MAAM,GAAG,GAAG,IAAI,aAAG,CAAC;QAClB,KAAK,EAAE,uBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,gBAAgB,KAAI,KAAK;QAC9C,aAAa,EAAE,WAAW;KAC3B,CAAC,CAAC;IAEH,wBAAwB;IACxB,GAAG,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,EAAE;QACxB,uCAAuC;QACvC,sKAAsK;IACxK,CAAC,CAAC,CAAC;IAEH,GAAG,CAAC,GAAG,CAAC,6BAAkB,CAAC,CAAC;IAC5B,GAAG,CAAC,GAAG,CACL,sBAAO,EAAC;QACN,SAAS,EAAE,IAAI;QACf,aAAa,EAAE;YACb,yBAAc,CAAC,GAAG;YAClB,yBAAc,CAAC,GAAG;YAClB,yBAAc,CAAC,IAAI;YACnB,yBAAc,CAAC,MAAM;SACtB;QACD,UAAU,EAAE;YACV,WAAW,EAAE,IAAI,GAAG,IAAI,GAAG,GAAG;YAC9B,QAAQ,EAAE,CAAC;SACZ;QACD,SAAS,EAAE,MAAM;QACjB,OAAO,CAAC,GAAG,EAAE,GAAG;YACd,YAAM,CAAC,KAAK,CAAC,oBAAoB,EAAE,GAAG,CAAC,CAAC;QAC1C,CAAC;KACF,CAAC,CACH,CAAC;IAEF,GAAG,CAAC,IAAI,GAAG,CAAC,aAAE,GAAE,CAAC,CAAC;IAClB,GAAG,CAAC,GAAG,CACL,yBAAO,EACL;QACE,GAAG,EAAE,aAAE,GAAE;QACT,MAAM,EAAE,QAAQ;QAChB,SAAS,EAAE,IAAI;QACf,QAAQ,EAAE,IAAI;QACd,MAAM,EAAE,IAAI;QACZ,OAAO,EAAE,KAAK;QACd,KAAK,EAAE,KAAK;QACZ,MAAM,EAAE,KAAK;KACd,EACD,GAAG,CACJ,CACF,CAAC;IAEF,GAAG,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;QAC1B,MAAM,UAAU,GAAG,CAAC,eAAe,EAAE,mBAAmB,CAAC,CAAC;QAC1D,KAAK,MAAM,QAAQ,IAAI,UAAU,EAAE;YACjC,IAAI,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC;gBAAE,OAAO,MAAM,IAAI,EAAE,CAAC;SAC9D;QACD,MAAM,IAAI,EAAE,CAAC;IACf,CAAC,CAAC,CAAC;IAEH,IAAI,sBAAY,IAAI,sBAAY,CAAC,MAAM,IAAI,EAAE,EAAE;QAC7C,MAAM,MAAM,GAAG,sBAAY,CAAC,MAAM,CAAC;QACnC,GAAG,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;YAC1B,IAAI,GAAG,CAAC,GAAG,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE;gBAC9B,MAAM,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC;gBACrB,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBACvC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;oBAC5B,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC;iBACzB;gBACD,MAAM,IAAI,EAAE,CAAC;gBACb,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC;aAChB;iBAAM;gBACL,GAAG,CAAC,QAAQ,CAAC,mCAAW,EAAC,MAAM,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;aAClD;QACH,CAAC,CAAC,CAAC;KACJ;IACD,GAAG,CAAC,GAAG,CAAC,qBAAkB,CAAC,CAAC;IAC5B,GAAG,CAAC,GAAG,CACL,wBAAS,EAAC,cAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,QAAQ,CAAC,EAAE;QAC5C,MAAM,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;KAC1B,CAAC,CACH,CAAC;IAEF,wBAAY,EAAC,GAAG,CAAC,CAAC;IAElB,OAAO,CAAC,EAAE,CAAC,mBAAmB,EAAE,UAAU,GAAG;QAC3C,YAAM,CAAC,KAAK,CAAC,4BAA4B,EAAE,GAAG,CAAC,CAAC;IAClD,CAAC,CAAC,CAAC;IAEH,OAAO,CAAC,EAAE,CAAC,oBAAoB,EAAE,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QAC7C,YAAM,CAAC,KAAK,CAAC,6BAA6B,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC;IACzD,CAAC,CAAC,CAAC;IAEH,IAAI,sBAAY;QACd,SAAS,CACP,GAAG,EACH,sBAAY,CAAC,GAAG,EAChB,sBAAY,CAAC,UAAU,EACvB,sBAAY,CAAC,UAAU,EACvB,sBAAY,CAAC,QAAQ,EACrB,sBAAY,CAAC,MAAM,CACpB,CAAC;AACN,CAAC;AAED,IAAI,EAAE,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE;IACnB,YAAM,CAAC,KAAK,CAAC,eAAe,EAAE,GAAG,CAAC,CAAC;IACnC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AAClB,CAAC,CAAC,CAAC;;;;;;;;;;ACrOH,qEAAqD;AAErD,MAAM,OAAO,GAAG,IAAI,oCAAgB,EAAE,CAAC;AAEvC,MAAM,2BAA2B;IACxB,KAAK,CAAC,KAAK,CAAC,QAAgB,EAAE,IAAY,EAAE,MAAW;QAC5D,OAAO,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;IAC/C,CAAC;IAEM,KAAK,CAAC,IAAI,CAAC,QAAgB,EAAE,MAAW,EAAE,IAAY;QAC3D,OAAO,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;IAC9C,CAAC;IAEM,KAAK,CAAC,IAAI,CAAC,QAAgB;QAChC,OAAO,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAChC,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,QAAgB,EAAE,IAAY;QAChD,OAAO,OAAO,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACxC,CAAC;CACF;AAED,qBAAe,IAAI,2BAA2B,EAAE,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACvBjD,4DAAwB;AACxB,oEAA0B;AAE1B,MAAa,qBAAqB;IAIhC,YAAY,GAAW,EAAE,WAAmB,GAAG;QAH/C,iDAAiB;QACjB,kDAAkB;QAGhB,2BAAI,kCAAY,cAAI,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,QAAQ,GAAG,GAAG,CAAC,OAAC;QAC/D,2BAAI,mCAAa,QAAQ,OAAC;IAC5B,CAAC;IAEO,eAAe,CAAC,WAAmB;QACzC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,EAAE;YAChC,MAAM,IAAI,KAAK,CAAC,iBAAiB,WAAW,EAAE,CAAC,CAAC;SACjD;QAED,MAAM,QAAQ,GAAG,cAAI,CAAC,IAAI,CAAC,2BAAI,sCAAS,EAAE,WAAW,GAAG,QAAQ,CAAC,CAAC;QAClE,MAAM,aAAa,GAAG,cAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;QAC/C,IAAI,CAAC,kBAAE,CAAC,UAAU,CAAC,cAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,EAAE;YAC/C,kBAAE,CAAC,UAAU,CAAC,cAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC;SAC5C;QACD,OAAO,aAAa,CAAC;IACvB,CAAC;IAEO,SAAS,CAAC,IAAY;QAC5B,MAAM,SAAS,GAAG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QACrC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;IACpD,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,WAAmB,EAAE,KAAwB,EAAE,IAAI,GAAG,KAAK;QAC7E,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC;YAAE,KAAK,GAAG,CAAC,KAAK,CAAC,CAAC;QAC3C,MAAM,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC;QACnD,MAAM,KAAK,GAAI,KAAkB,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;QAElF,IAAI,IAAI,EAAE;YACR,kBAAE,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;YAC5B,kBAAE,CAAC,cAAc,CAAC,QAAQ,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;SAC7C;aAAM;YACL,MAAM,kBAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;YAC9B,MAAM,kBAAE,CAAC,UAAU,CAAC,QAAQ,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;SAC/C;QAED,MAAM,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;IACzC,CAAC;IAEM,KAAK,CAAC,OAAO,CAAC,WAAmB;QACtC,MAAM,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC;QACnD,IAAI,CAAC,CAAC,MAAM,kBAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;YAAE,OAAO,EAAE,CAAC;QAChD,MAAM,KAAK,GAAG,MAAM,kBAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;QACnD,OAAO,KAAK;aACT,KAAK,CAAC,IAAI,CAAC;aACX,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;aACvB,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;YACT,IAAI;gBACF,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;aACtB;YAAC,WAAM;gBACN,OAAO,IAAI,CAAC;aACb;QACH,CAAC,CAAC;aACD,MAAM,CAAC,OAAO,CAAC,CAAC;IACrB,CAAC;IAEM,KAAK,CAAC,KAAK,CAAC,WAAmB,EAAE,SAAkC;QACxE,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;QAC5C,OAAO,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;IAC/B,CAAC;IAEM,KAAK,CAAC,SAAS,CAAC,WAAmB,EAAE,OAAiB;QAC3D,MAAM,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC;QACnD,MAAM,kBAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;QAC9B,MAAM,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;QACxE,MAAM,kBAAE,CAAC,SAAS,CAAC,QAAQ,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;IACjD,CAAC;IAEM,KAAK,CAAC,MAAM,CACjB,WAAmB,EACnB,SAAkC,EAClC,OAA4B;QAE5B,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;QAChD,MAAM,UAAU,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACvE,MAAM,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,UAAU,CAAC,CAAC;IAChD,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,WAAmB,EAAE,SAAkC;QACzE,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;QAChD,MAAM,QAAQ,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;QACtD,MAAM,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;IAC9C,CAAC;IAEM,KAAK,CAAC,KAAK,CAAC,WAAmB;QACpC,MAAM,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC;QACnD,IAAI,MAAM,kBAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE;YACjC,MAAM,kBAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;SAC3B;IACH,CAAC;IAEM,KAAK,CAAC,IAAI,CAAI,WAAmB,EAAE,KAAa;QACrD,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC;QAC1D,OAAO,OAAO,CAAC,KAAK,CAAC,CAAC,KAAK,CAAQ,CAAC;IACtC,CAAC;IAEO,KAAK,CAAC,cAAc,CAAC,WAAmB;QAC9C,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;QAChD,IAAI,OAAO,CAAC,MAAM,GAAG,2BAAI,uCAAU,EAAE;YACnC,MAAM,cAAc,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,2BAAI,uCAAU,CAAC,CAAC;YACtD,MAAM,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,cAAc,CAAC,CAAC;SACnD;IACH,CAAC;CACF;AA3GD,sDA2GC;;;;;;;;;;;;;;AC9GD,6CAAqC;AAErC,sGAAoC;AACpC,8DAA2C;AAE3C,MAAM,qBAAqB;IAA3B;QACU,WAAM,GAAG,wBAAY,GAAE,CAAC;IA+GlC,CAAC;IA7GS,KAAK,CAAC,OAAO;QACnB,IAAI;YACF,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;SAC7B;QAAC,OAAO,CAAC,EAAE;YACV,YAAM,CAAC,KAAK,CAAC,6CAA6C,GAAG,CAAC,CAAC,CAAC;YAChE,YAAM,CAAC,IAAI,CAAC,6EAA6E,CAAC,CAAC;YAC3F,qBAAO,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;SAC3B;IACH,CAAC;IAED;;OAEG;IACK,KAAK,CAAC,IAAI,CAAC,KAAa;QAC9B,OAAO,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACvC,CAAC;IAEO,KAAK,CAAC,GAAG,CAAC,GAAW,EAAE,KAAa;QAC1C,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IACpC,CAAC;IAEO,KAAK,CAAC,GAAG,CAAC,GAAW;QAC3B,OAAO,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACpC,CAAC;IAEO,KAAK,CAAC,GAAG,CAAC,GAAW;QAC3B,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAC7B,CAAC;IAEM,KAAK,CAAC,UAAU,CAAC,GAAW;QACjC,IAAI,CAAC,MAAM,GAAG,wBAAY,EAAC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;QACzC,YAAM,CAAC,IAAI,CAAC,mCAAmC,CAAC,CAAC;QACjD,MAAM,IAAI,CAAC,OAAO,EAAE,CAAC;QACrB,YAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;IACrC,CAAC;IAED,qBAAqB;IACb,aAAa,CAAC,IAAY;QAChC,MAAM,SAAS,GAAG,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;QACpC,KAAK,MAAM,EAAE,IAAI,SAAS,EAAE;YAC1B,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC;gBAAE,OAAO,KAAK,CAAC;SACrC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;OAEG;IACI,KAAK,CAAC,KAAK,CAAC,QAAgB,EAAE,IAAY,EAAE,MAAW;QAC5D,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;YAC3B,MAAM,IAAI,KAAK,CAAC,QAAQ,IAAI,oCAAoC,CAAC,CAAC;QACpE,MAAM,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,GAAG,GAAG,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC;IAChE,CAAC;IAED;;OAEG;IACI,KAAK,CAAC,IAAI,CAAC,QAAgB,EAAE,MAAW,EAAE,IAAY;QAC3D,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;YAC3B,MAAM,IAAI,KAAK,CAAC,QAAQ,IAAI,oCAAoC,CAAC,CAAC;QACpE,IAAI,MAAM,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC;QACnD,IAAI,MAAM,IAAI,IAAI,EAAE;YAClB,OAAO,IAAI,CAAC;SACb;QACD,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACtC,MAAM,MAAM,GAAG,IAAI,MAAM,EAAE,CAAC;QAC5B,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;IAC7C,CAAC;IAED;;OAEG;IACI,KAAK,CAAC,IAAI,CAAC,QAAgB;QAChC,IAAI,MAAM,GAAa,EAAE,CAAC;QAC1B,IAAI,CAAC,GAAG,KAAK,EAAU,CAAC;QACxB,MAAM,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,CAAC;QACzC,IAAI,MAAM,IAAI,IAAI,IAAI,MAAM,CAAC,MAAM,IAAI,CAAC,EAAE;YACxC,KAAK,IAAI,CAAC,IAAI,MAAM;gBAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,GAAG,GAAG,EAAE,EAAE,CAAC,CAAC,CAAC;SAC7D;QACD,OAAO,CAAC,CAAC;IACX,CAAC;IAED;;OAEG;IACI,KAAK,CAAC,MAAM,CAAC,QAAgB,EAAE,IAAY;QAChD,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;YAC3B,MAAM,IAAI,KAAK,CAAC,QAAQ,IAAI,oCAAoC,CAAC,CAAC;QACpE,MAAM,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC;IACxC,CAAC;IAED,wEAAwE;IACxE,wCAAwC;IAC9B,UAAU,CAAC,MAAW,EAAE,MAAW;QAC3C,KAAK,MAAM,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;YACnC,MAAM,WAAW,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;YAC9B,IAAI,WAAW,KAAK,SAAS;gBAAE,SAAS;YACxC,IAAI,WAAW,YAAY,KAAK,EAAE;gBAChC,MAAM,CAAC,CAAC,CAAC,GAAG,WAAW,CAAC;gBACxB,SAAS;aACV;YACD,IAAI,WAAW,YAAY,MAAM,IAAI,OAAO,WAAW,KAAK,QAAQ,EAAE;gBACpE,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC;gBACxC,SAAS;aACV;YACD,MAAM,CAAC,CAAC,CAAC,GAAG,WAAW,CAAC;SACzB;QACD,OAAO,MAAM,CAAC;IAChB,CAAC;CACF;AAED,qBAAe,IAAI,qBAAqB,EAAE,CAAC;;;;;;;;;;;;;ACtH3C,wGAA0C;AAC1C,0GAA4C;AAE5C,MAAM,aAAa;IAAnB;QACU,kBAAa,GAAa,sBAAY,CAAC;QAE/B,SAAI,GAAG;YACrB,IAAI,EAAE,CAAC;YACP,KAAK,EAAE,CAAC;SACT,CAAC;IAwBJ,CAAC;IAtBQ,cAAc,CAAC,IAAY;QAChC,QAAQ,IAAI,EAAE;YACZ,KAAK,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACnB,yBAAyB;gBACzB,IAAI,CAAC,aAAa,GAAG,sBAAY,CAAC;gBAClC,MAAM;aACP;YACD,KAAK,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACpB,4BAA4B;gBAC5B,IAAI,CAAC,aAAa,GAAG,uBAAa,CAAC;gBACnC,MAAM;aACP;YACD,OAAO,CAAC,CAAC;gBACP,IAAI,CAAC,aAAa,GAAG,sBAAY,CAAC;gBAClC,MAAM;aACP;SACF;IACH,CAAC;IAEM,UAAU;QACf,OAAO,IAAI,CAAC,aAAa,CAAC;IAC5B,CAAC;CACF;AAED,qBAAe,IAAI,aAAa,EAAE,CAAC;;;;;;;;;;ACpCnC,qEAAqD;AACrD,qBAAe,IAAI,oCAAgB,EAAE,CAAC;;;;;;;;;;;;;;ACDtC,4DAAwB;AAEX,0BAAkB,GAAG,CAAC,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;AAEpE,8BAAsB,GAAG,cAAI,CAAC,SAAS,CAClD,cAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,MAAM,EAAE,mBAAmB,CAAC,CACtD,CAAC;AAEW,qBAAa,GAAG,sBAAsB,CAAC;;;;;;;;;;;ACRpD,qEAAgD;AA8DhD,UAAU;AACV,MAAa,mBAAmB;IAAhC;QACS,OAAE,GAAG,EAAE,CAAC;QACR,SAAI,GAAG,KAAK,CAAC;QACb,WAAM,GAAG,EAAE,CAAC;QACZ,YAAO,GAAG,EAAE,CAAC;QACb,WAAM,GAAG,EAAE,CAAC;QACZ,mBAAc,GAAyB,EAAE,CAAC;QAEjD,gBAAW,GAA4C;YACrD,SAAS,EAAE,KAAK;YAChB,oBAAoB,EAAE,IAAI,GAAG,CAAC;YAC9B,OAAO,EAAE,IAAI,GAAG,EAAE;YAClB,YAAY,EAAE,IAAI;YAClB,oBAAoB,EAAE,EAAE;YACxB,kBAAkB,EAAE,KAAK;SAC1B,CAAC;IA4CJ,CAAC;IA1CC;;;;;;;;OAQG;IACI,0BAA0B;QAC/B,OAAO,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;YAC1C,IAAI,EAAE;gBACJ,IAAI,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;gBAC7C,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,MAAM;aAC3B;YACD,EAAE,EAAE;gBACF,IAAI,EAAE,GAAG,MAAM,CAAC,EAAE,CAAC,EAAE,IAAI,MAAM,CAAC,EAAE,CAAC,IAAI,EAAE;gBACzC,MAAM,EAAE,MAAM,CAAC,EAAE,CAAC,MAAM;aACzB;SACF,CAAC,CAAC,CAAC;IACN,CAAC;IAED;;OAEG;IACH,IAAW,IAAI;QACb,OAAO,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC;IACnC,CAAC;IAED;;OAEG;IACH,IAAW,eAAe;QACxB,OAAO,mCAAW,EAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC;IAC9C,CAAC;IAED;;OAEG;IACH,IAAW,QAAQ;QACjB,OAAO,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC;IAC1C,CAAC;CACF;AA3DD,kDA2DC;;;;;;;;;;;;;AC1HD,mEAA6E;AAE7E,8DAAwC;AACxC,qGAAsD;AACtD,qEAAwE;AACxE,8DAA0C;AAC1C,8DAAsC;AAEtC,MAAqB,aAAa;IAWhC,YAAY,IAAY,EAAE,MAA2B;QAP9C,SAAI,GAAW,EAAE,CAAC;QAClB,cAAS,GAAY,KAAK,CAAC;QAElB,mBAAc,GAAG,IAAI,0CAAsB,EAAE,CAAC;QAEvD,YAAO,GAAW,EAAE,CAAC;QAG1B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACvB,CAAC;IAEO,aAAa;QACnB,OAAO,SAAS,IAAI,CAAC,MAAM,CAAC,OAAO,UAAU,IAAI,CAAC,IAAI,WAAW,IAAI,CAAC,OAAO,EAAE,CAAC;IAClF,CAAC;IAEM,OAAO,CAAC,WAAqD;QAClE,IAAI,WAAW;YAAE,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,WAAW,CAAC;QACvD,2DAA2D;QAC3D,IAAI,IAAI,GAAG,QAAQ,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;QACxD,IAAI,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;YACnF,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;SAChD;QACD,IAAI,sBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,GAAG,EAAE;YACrB,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;SACxC;QACD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QAEpB,MAAM,UAAU,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QAExC,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,YAAM,CAAC,IAAI,CAAC,GAAG,aAAE,EAAC,kCAAkC,CAAC,IAAI,UAAU,EAAE,CAAC,CAAC;YACvE,IAAI,CAAC,UAAU,EAAE,CAAC;SACnB;QAED,2CAA2C;QAC3C,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,SAAS,CAAC,EAAE;YACtD,YAAM,CAAC,IAAI,CAAC,GAAG,aAAE,EAAC,oCAAoC,CAAC,IAAI,UAAU,EAAE,CAAC,CAAC;YACzE,OAAO,IAAI,CAAC,gBAAgB,EAAE,CAAC;SAChC;QAED,YAAM,CAAC,IAAI,CAAC,GAAG,aAAE,EAAC,gCAAgC,CAAC,IAAI,UAAU,EAAE,CAAC,CAAC;QACrE,IAAI,CAAC,MAAM,GAAG,yBAAE,EAAC,IAAI,CAAC,OAAO,EAAE;YAC7B,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW;YAC1B,IAAI,EAAE,mCAAW,EAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,YAAY;SAC1D,CAAC,CAAC;QAEH,2BAA2B;QAC3B,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,SAAS,EAAE,KAAK,IAAI,EAAE;YACnC,YAAM,CAAC,IAAI,CAAC,aAAE,EAAC,6BAA6B,EAAE,EAAE,CAAC,EAAE,UAAU,EAAE,CAAC,CAAC,CAAC;YAClE,MAAM,IAAI,CAAC,SAAS,EAAE,CAAC;QACzB,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,YAAY,EAAE,KAAK,IAAI,EAAE;YACtC,YAAM,CAAC,IAAI,CAAC,aAAE,EAAC,gCAAgC,EAAE,EAAE,CAAC,EAAE,UAAU,EAAE,CAAC,CAAC,CAAC;YACrE,MAAM,IAAI,CAAC,YAAY,EAAE,CAAC;QAC5B,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,eAAe,EAAE,KAAK,EAAE,KAAY,EAAE,EAAE;YACrD,MAAM,IAAI,CAAC,YAAY,EAAE,CAAC;QAC5B,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,KAAK,CAAC,WAAW,CAAC,QAAiB;QACxC,IAAI,CAAC,QAAQ;YAAE,QAAQ,GAAG,cAAO,CAAC,QAAQ,CAAC;QAC3C,YAAM,CAAC,IAAI,CACT,GAAG,aAAE,EAAC,iCAAiC,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,IAC7E,IAAI,CAAC,MAAM,CAAC,OACd,eAAe,QAAQ,EAAE,CAC1B,CAAC;QACF,OAAO,MAAM,IAAI,wBAAa,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,cAAc,EAAE;YAC3D,QAAQ;SACT,CAAC,CAAC;IACL,CAAC;IAED,mFAAmF;IACnF,wFAAwF;IACxF,sDAAsD;IAC/C,KAAK,CAAC,IAAI,CAAC,GAAY;QAC5B,IAAI,GAAG;YAAE,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,GAAG,CAAC;QAClC,MAAM,UAAU,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QACxC,IAAI;YACF,MAAM,GAAG,GAAG,MAAM,IAAI,wBAAa,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YAC1F,IAAI,GAAG,KAAK,IAAI,EAAE;gBAChB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBACtB,MAAM,IAAI,CAAC,WAAW,EAAE,CAAC;gBACzB,YAAM,CAAC,IAAI,CAAC,aAAE,EAAC,iCAAiC,EAAE,EAAE,CAAC,EAAE,UAAU,EAAE,CAAC,CAAC,CAAC;gBACtE,OAAO,IAAI,CAAC;aACb;YACD,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,YAAM,CAAC,IAAI,CAAC,aAAE,EAAC,iCAAiC,EAAE,EAAE,CAAC,EAAE,UAAU,EAAE,CAAC,CAAC,CAAC;YACtE,OAAO,KAAK,CAAC;SACd;QAAC,OAAO,KAAU,EAAE;YACnB,YAAM,CAAC,IAAI,CAAC,aAAE,EAAC,+BAA+B,EAAE,EAAE,CAAC,EAAE,UAAU,EAAE,CAAC,CAAC,CAAC;YACpE,YAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACnB,OAAO,KAAK,CAAC;SACd;IACH,CAAC;IAEM,IAAI,CAAC,KAAa,EAAE,IAAU;;QACnC,OAAO,UAAI,CAAC,MAAM,0CAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;IACxC,CAAC;IAEO,KAAK,CAAC,YAAY;QACxB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IACzB,CAAC;IAEO,KAAK,CAAC,SAAS;QACrB,sDAAsD;QACtD,OAAO,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IAC7C,CAAC;IAED,UAAU;QACR,IAAI,IAAI,CAAC,MAAM,EAAE;YACf,MAAM,UAAU,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;YACxC,YAAM,CAAC,IAAI,CAAC,aAAE,EAAC,4BAA4B,EAAE,EAAE,CAAC,EAAE,UAAU,EAAE,CAAC,CAAC,CAAC;YACjE,IAAI,CAAC,MAAM,CAAC,kBAAkB,EAAE,CAAC;YACjC,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC;YACzB,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;YACpB,OAAO,IAAI,CAAC,MAAM,CAAC;SACpB;QACD,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;QACxB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IACzB,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;;AAlIH,mCAmIC;AAlIwB,uBAAS,GAAG,GAAG,CAAC;AAChB,wBAAU,GAAG,GAAG,CAAC;;;;;;;;;;ACV1C,UAAU;AACV,MAAqB,YAAY;IAAjC;QACE,wCAAwC;QACxC,aAAQ,GAAW,KAAK,CAAC;QACzB,WAAM,GAAW,EAAE,CAAC;QACpB,WAAM,GAAW,EAAE,CAAC;QAEpB,qBAAqB;QACrB,qBAAgB,GAAY,KAAK,CAAC;QAElC,qBAAqB;QACrB,aAAQ,GAAW,KAAK,CAAC;QAEzB,8BAA8B;QAC9B,gBAAW,GAAW,CAAC,CAAC;QAExB,yCAAyC;QACzC,gBAAW,GAAY,KAAK,CAAC;QAE7B,8DAA8D;QAC9D,SAAI,GAAY,KAAK,CAAC;QAEtB,yCAAyC;QACzC,gBAAW,GAAW,CAAC,CAAC;QAExB,sCAAsC;QACtC,gBAAW,GAAW,EAAE,CAAC;QAEzB,oCAAoC;QACpC,YAAO,GAAW,CAAC,CAAC;QAEpB,8CAA8C;QAC9C,4BAAuB,GAAW,CAAC,CAAC;QAEpC,uBAAuB;QACvB,iBAAY,GAAY,IAAI,CAAC;QAE7B,8BAA8B;QAC9B,cAAS,GAAW,EAAE,CAAC;QAEvB,kEAAkE;QAClE,mBAAc,GAAG,IAAI,CAAC;QAEtB,kFAAkF;QAClF,2GAA2G;QAC3G,mBAAc,GAAG,KAAK,CAAC;QAEvB,yBAAyB;QACzB,aAAQ,GAAG,OAAO,CAAC;QAEnB,6BAA6B;QAC7B,mBAAc,GAAG,2CAA2C,CAAC;QAE7D,wCAAwC;QACxC,aAAQ,GAAG,EAAE,CAAC;QAEd,gFAAgF;QAChF,mBAAc,GAAG,KAAK,CAAC;QAEvB,QAAQ;QACR,6EAA6E;QAC7E,oCAAoC;QACpC,wDAAwD;QACxD,iBAAY,GAAG,KAAK,CAAC;QACrB,eAAU,GAAG,EAAE,CAAC;QAChB,YAAO,GAAG,EAAE,CAAC;QACb,iBAAY,GAAG,EAAE,CAAC;QAClB,QAAQ;QAER,oCAAoC;QACpC,QAAG,GAAG,KAAK,CAAC;QACZ,mCAAmC;QACnC,eAAU,GAAG,EAAE,CAAC;QAChB,mCAAmC;QACnC,eAAU,GAAG,EAAE,CAAC;IAClB,CAAC;CAAA;AA1ED,kCA0EC;;;;;;;;;;;ACzED,IAAY,gBAGX;AAHD,WAAY,gBAAgB;IAC1B,qDAAO;IACP,2DAAU;AACZ,CAAC,EAHW,gBAAgB,GAAhB,wBAAgB,KAAhB,wBAAgB,QAG3B;AAQD,MAAa,IAAI;IAAjB;QACE,SAAI,GAAW,EAAE,CAAC;QAClB,aAAQ,GAAW,EAAE,CAAC;QACtB,aAAQ,GAAW,EAAE,CAAC;QACtB,iBAAY,GAAW,gBAAgB,CAAC,MAAM,CAAC;QAC/C,SAAI,GAAW,EAAE,CAAC;QAClB,eAAU,GAAW,CAAC,CAAC;QACvB,iBAAY,GAAW,EAAE,CAAC;QAC1B,cAAS,GAAW,EAAE,CAAC;QACvB,cAAS,GAAoB,EAAE,CAAC;QAChC,WAAM,GAAW,EAAE,CAAC;QACpB,WAAM,GAAY,KAAK,CAAC;QACxB,WAAM,GAAG,EAAE,CAAC;QACZ,YAAO,GAAG,KAAK,CAAC;IAClB,CAAC;CAAA;AAdD,oBAcC;AAED,IAAY,IAKX;AALD,WAAY,IAAI;IACd,kCAAU;IACV,+BAAQ;IACR,iCAAS;IACT,8BAAQ;AACV,CAAC,EALW,IAAI,GAAJ,YAAI,KAAJ,YAAI,QAKf;;;;;;;;;AClCD,sCAAsC;AACtC,sFAAsF;;;;;;AAEtF,kEAA8B;AA4DjB,kBA5DN,iBAAO,CA4DM;AA1DpB,qFAA0C;AAC1C,qFAA0C;AAC1C,qFAA0C;AAC1C,qFAA0C;AAC1C,qFAA0C;AAC1C,qFAA0C;AAC1C,qFAA0C;AAC1C,qFAA0C;AAC1C,qFAA0C;AAC1C,qFAA0C;AAC1C,qFAA0C;AAE1C,iBAAO,CAAC,IAAI,CAAC;IACX,aAAa,EAAE;QACb,WAAW,EAAE,KAAK;KACnB;IACD,GAAG,EAAE,OAAO;IACZ,WAAW,EAAE,OAAO;IACpB,SAAS,EAAE;QACT,KAAK,EAAE;YACL,WAAW,EAAE,oBAAK;SACnB;QACD,KAAK,EAAE;YACL,WAAW,EAAE,oBAAK;SACnB;QACD,KAAK,EAAE;YACL,WAAW,EAAE,oBAAK;SACnB;QACD,KAAK,EAAE;YACL,WAAW,EAAE,oBAAK;SACnB;QACD,KAAK,EAAE;YACL,WAAW,EAAE,oBAAK;SACnB;QACD,KAAK,EAAE;YACL,WAAW,EAAE,oBAAK;SACnB;QACD,KAAK,EAAE;YACL,WAAW,EAAE,oBAAK;SACnB;QACD,KAAK,EAAE;YACL,WAAW,EAAE,oBAAK;SACnB;QACD,KAAK,EAAE;YACL,WAAW,EAAE,oBAAK;SACnB;QACD,KAAK,EAAE;YACL,WAAW,EAAE,oBAAK;SACnB;QACD,KAAK,EAAE;YACL,WAAW,EAAE,oBAAK;SACnB;KACF;CACF,CAAC,CAAC;AAEH,QAAQ;AACR,MAAM,EAAE,GAAG,iBAAO,CAAC,CAAC,CAAC;AAEZ,gBAAE;;;;;;;;;;;;;;AC/DX,qEAAiC;AAGjC,2DAAkC;AAClC,yDAAgC;AAChC,4DAAmC;AACnC,wDAA+B;AAE/B,mGAAoD;AACpD,6GAA6D;AAC7D,+GAA+D;AAC/D,+GAA0D;AAC1D,mHAA6D;AAC7D,yHAAgE;AAChE,uHAAmE;AACnE,+GAA8D;AAC9D,iGAAiD;AACjD,6GAA8D;AAC9D,6GAA4D;AAC5D,uGAAuD;AACvD,uGAAuD;AACvD,uGAAuD;AACvD,iHAAwD;AAExD,SAAgB,YAAY,CAAC,GAA8C;IACzE,MAAM,SAAS,GAAG,IAAI,gBAAM,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC;IACjD,SAAS,CAAC,GAAG,CAAC,yBAAc,CAAC,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,yBAAc,CAAC,cAAc,EAAE,CAAC,CAAC;IAC5E,SAAS,CAAC,GAAG,CAAC,iCAAkB,CAAC,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,iCAAkB,CAAC,cAAc,EAAE,CAAC,CAAC;IACpF,SAAS,CAAC,GAAG,CAAC,+BAAc,CAAC,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,+BAAc,CAAC,cAAc,EAAE,CAAC,CAAC;IAC5E,SAAS,CAAC,GAAG,CAAC,uBAAa,CAAC,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,uBAAa,CAAC,cAAc,EAAE,CAAC,CAAC;IAC1E,SAAS,CAAC,GAAG,CAAC,6BAAkB,CAAC,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,6BAAkB,CAAC,cAAc,EAAE,CAAC,CAAC;IACpF,SAAS,CAAC,GAAG,CAAC,4BAAkB,CAAC,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,4BAAkB,CAAC,cAAc,EAAE,CAAC,CAAC;IACpF,SAAS,CAAC,GAAG,CAAC,sBAAW,CAAC,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,sBAAW,CAAC,cAAc,EAAE,CAAC,CAAC;IACtE,SAAS,CAAC,GAAG,CAAC,6BAAa,CAAC,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,6BAAa,CAAC,cAAc,EAAE,CAAC,CAAC;IAC1E,SAAS,CAAC,GAAG,CAAC,8BAAU,CAAC,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,8BAAU,CAAC,cAAc,EAAE,CAAC,CAAC;IACpE,SAAS,CAAC,GAAG,CAAC,yBAAc,CAAC,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,yBAAc,CAAC,cAAc,EAAE,CAAC,CAAC;IAC5E,SAAS,CAAC,GAAG,CAAC,yBAAc,CAAC,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,yBAAc,CAAC,cAAc,EAAE,CAAC,CAAC;IAC5E,SAAS,CAAC,GAAG,CAAC,4BAAiB,CAAC,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,4BAAiB,CAAC,cAAc,EAAE,CAAC,CAAC;IAClF,SAAS,CAAC,GAAG,CAAC,kCAAc,CAAC,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,kCAAc,CAAC,cAAc,EAAE,CAAC,CAAC;IAC5E,SAAS,CAAC,GAAG,CAAC,6BAAiB,CAAC,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,6BAAiB,CAAC,cAAc,EAAE,CAAC,CAAC;IAClF,SAAS,CAAC,GAAG,CAAC,4BAAgB,CAAC,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,4BAAgB,CAAC,cAAc,EAAE,CAAC,CAAC;IAEhF,GAAG,CAAC,GAAG,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC,CAAC;AAC9D,CAAC;AAnBD,oCAmBC;;;;;;;;;;;AC1CD,+DAAsC;AACtC,8DAA6B;AAC7B,4EAA6D;AAC7D,wFAA0E;AAC1E,8DAAgD;AAEhD,MAAM,eAAe,GAAG,YAAY,CAAC;AAErC,SAAgB,UAAU,CAAC,OAAe,EAAE,MAAe;IACzD,OAAO,KAAK,EAAE,GAAY,EAAE,IAAc,EAAE,EAAE;QAC5C,MAAM,WAAW,GAAG,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC;QACrC,MAAM,IAAI,GAAG,qCAAc,EAAC,GAAG,CAAC,CAAC;QAEjC,IAAI,CAAC,IAAI;YAAE,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,+BAA+B,CAAC,CAAC,CAAC;QAEhE,IAAI,IAAI,CAAC,UAAU,KAAK,WAAI,CAAC,KAAK,EAAE;YAClC,OAAO,MAAM,IAAI,EAAE,CAAC;SACrB;QAED,MAAM,aAAa,GAAG,GAAG,eAAe,IAAI,IAAI,CAAC,IAAI,IAAI,WAAW,EAAE,CAAC;QACvE,MAAM,OAAO,GAAG,iCAAoB,CAAC,GAAG,CAAU,aAAa,CAAC,CAAC;QAEjE,IAAI,OAAO,EAAE;YACX,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;YACjB,GAAG,CAAC,IAAI;gBACN,MAAM;oBACN,aAAE,EAAC,mBAAmB,EAAE;wBACtB,OAAO,EAAE,iCAAoB,CAAC,GAAG,CAAC,aAAa,CAAC;qBACjD,CAAC,CAAC;YACL,OAAO;SACR;QAED,iCAAoB,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;QACvD,OAAO,MAAM,IAAI,EAAE,CAAC;IACtB,CAAC,CAAC;AACJ,CAAC;AA3BD,gCA2BC;AAED,SAAgB,yBAAyB,CAAC,GAAW;IACnD,OAAO,KAAK,EAAE,GAAY,EAAE,IAAc,EAAE,EAAE;QAC5C,MAAM,MAAM,GAAG,kCAAW,EAAC,GAAG,CAAC,IAAI,aAAa,CAAC;QACjD,MAAM,GAAG,GAAG,0BAA0B,MAAM,IAAI,GAAG,EAAE,CAAC;QACtD,OAAO,MAAM,0BAAe,EAAC,GAAG,EAAE,KAAK,IAAI,EAAE;YAC3C,OAAO,MAAM,IAAI,EAAE,CAAC;QACtB,CAAC,CAAC,CAAC;IACL,CAAC,CAAC;AACJ,CAAC;AARD,8DAQC;;;;;;;;;;;;;;AC7CD,qEAAmD;AACnD,8DAA6B;AAC7B,wFAAkG;AAClG,iGAAiD;AAEjD;;GAEG;AACH,SAAS,iBAAiB,CAAC,GAA6B;IACtD,MAAM,iBAAiB,GAAG,mBAAmB,CAAC;IAC9C,MAAM,uBAAuB,GAAG,CAAC,CAAC;IAClC,MAAM,WAAW,GAAG,IAAI,CAAC;IACzB,MAAM,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;IACzC,IAAI,CAAC,GAAG,CAAC,OAAO;QAAE,OAAO,KAAK,CAAC;IAC/B,IAAI,YAAY,GAAa,GAAG,CAAC,OAAO,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC;IAClE,YAAY,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,WAAW,GAAG,IAAI,GAAG,WAAW,CAAC,CAAC;IAC/E,IAAI,YAAY,CAAC,MAAM,IAAI,uBAAuB,EAAE;QAClD,OAAO,KAAK,CAAC;KACd;IACD,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC/B,GAAG,CAAC,OAAO,CAAC,iBAAiB,CAAC,GAAG,YAAY,CAAC;IAC9C,OAAO,IAAI,CAAC;AACd,CAAC;AAED,kBAAkB;AAClB,SAAgB,kBAAkB,CAAC,GAA6B;IAC9D,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;IACjB,GAAG,CAAC,IAAI,GAAG,GAAG,aAAE,EAAC,+BAA+B,CAAC,EAAE,CAAC;AACtD,CAAC;AAHD,gDAGC;AAED,SAAS,UAAU,CAAC,GAA6B;IAC/C,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;IACjB,GAAG,CAAC,IAAI,GAAG,GAAG,aAAE,EAAC,yCAAyC,CAAC,EAAE,CAAC;AAChE,CAAC;AAED,SAAS,SAAS,CAAC,GAA6B;IAC9C,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;IACjB,GAAG,CAAC,IAAI,GAAG,GAAG,aAAE,EAAC,yCAAyC,CAAC,EAAE,CAAC;AAChE,CAAC;AAED,SAAS,QAAQ,CAAC,GAA6B;IAC7C,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;IACjB,GAAG,CAAC,IAAI,GAAG,GAAG,aAAE,EAAC,8BAA8B,CAAC,EAAE,CAAC;AACrD,CAAC;AAED,SAAS,OAAO,CAAC,GAA6B;IAC5C,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;IACjB,GAAG,CAAC,IAAI,GAAG,GAAG,aAAE,EAAC,6BAA6B,CAAC,EAAE,CAAC;AACpD,CAAC;AAQD,mCAAmC;AACnC,qBAAe,CAAC,SAAyB,EAAE,EAAE;IAC3C,OAAO,KAAK,EAAE,GAA6B,EAAE,IAAc,EAAE,EAAE;;QAC7D,IACE,CAAC,SAAS,CAAC,UAAU,IAAI,IAAI,IAAI,SAAS,CAAC,UAAU,KAAK,IAAI,CAAC;YAC/D,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,EAAE,EAC5B;YACA,sBAAsB;YACtB,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,EAAE;gBAC3B,OAAO,OAAO,CAAC,GAAG,CAAC,CAAC;aACrB;SACF;QAED,iEAAiE;QACjE,MAAM,GAAG,GAAG,UAAG,CAAC,OAAO,0CAAE,MAAM,CAAC,mBAAmB,CAAC,KAAI,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC;QACzE,IAAI,GAAG,EAAE;YACP,MAAM,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;YAC3B,MAAM,IAAI,GAAG,sCAAe,EAAC,MAAM,CAAC,CAAC;YACrC,IAAI,IAAI,IAAI,IAAI,CAAC,UAAU,IAAI,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;gBACtD,OAAO,MAAM,IAAI,EAAE,CAAC;aACrB;iBAAM;gBACL,OAAO,QAAQ,CAAC,GAAG,CAAC,CAAC;aACtB;SACF;QAED,uGAAuG;QACvG,IAAI,SAAS,CAAC,KAAK,KAAK,KAAK,EAAE;YAC7B,IAAI,CAAC,6BAAM,EAAC,GAAG,CAAC;gBAAE,OAAO,SAAS,CAAC,GAAG,CAAC,CAAC;YACxC,MAAM,YAAY,GAAG,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC;YACrC,MAAM,SAAS,GAAG,SAAG,CAAC,OAAO,0CAAG,OAAO,CAAC,CAAC;YACzC,IAAI,YAAY,KAAK,SAAS,EAAE;gBAC9B,OAAO,UAAU,CAAC,GAAG,CAAC,CAAC;aACxB;SACF;QAED,kGAAkG;QAClG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;YAC7C,yCAAyC;YACzC,IAAI,UAAG,CAAC,OAAO,0CAAG,OAAO,CAAC,MAAK,IAAI,IAAI,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;gBACrF,MAAM,IAAI,GAAG,sBAAU,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;gBAEzD,YAAY;gBACZ,IAAI,IAAI,IAAI,IAAI,CAAC,UAAU,GAAG,CAAC,EAAE;oBAC/B,OAAO,6BAAM,EAAC,GAAG,CAAC,CAAC;iBACpB;gBAED,sEAAsE;gBACtE,IAAI,IAAI,IAAI,IAAI,CAAC,UAAU,IAAI,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;oBACtD,OAAO,MAAM,IAAI,EAAE,CAAC;iBACrB;aACF;YACD,+BAA+B;SAChC;aAAM;YACL,OAAO,MAAM,IAAI,EAAE,CAAC;SACrB;QAED,2CAA2C;QAC3C,kCAAc,CAAC,GAAG,CAAC,qCAAkB,EAAE,kCAAc,CAAC,GAAG,CAAC,qCAAkB,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QACtF,OAAO,kBAAkB,CAAC,GAAG,CAAC,CAAC;IACjC,CAAC,CAAC;AACJ,CAAC,CAAC;;;;;;;;;;;ACpHF,+DAAsC;AACtC,wFAA6D;AAE7D,SAAgB,eAAe,CAAC,GAAY;;IAC1C,MAAM,OAAO,GAAG,SAAG,CAAC,OAAO,0CAAE,OAAO,CAAC;IACrC,MAAM,WAAW,GAAG,aAAO,aAAP,OAAO,uBAAP,OAAO,CAAG,cAAc,CAAC,mCAAI,EAAE,CAAC;IACpD,OAAO,WAAW,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;AACzD,CAAC;AAJD,0CAIC;AAED;;;GAGG;AACI,KAAK,UAAU,kBAAkB,CAAC,GAAY,EAAE,IAAyB;IAC9E,IAAI,eAAe,CAAC,GAAG,CAAC,EAAE;QACxB,MAAM,IAAI,GAAG,qCAAc,EAAC,GAAG,CAAC,CAAC;QACjC,MAAM,OAAO,GAAG,KAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,UAAU,MAAK,WAAI,CAAC,KAAK,CAAC;QAChD,IAAI,CAAC,OAAO;YAAE,MAAM,IAAI,KAAK,CAAC,qDAAqD,CAAC,CAAC;KACtF;IACD,OAAO,MAAM,IAAI,EAAE,CAAC;AACtB,CAAC;AAPD,gDAOC;;;;;;;;;;;;;;ACpBD,+CAAgC;AAChC,+FAAyD;AACzD,8DAA0C;AAC1C,8DAAwC;AAExC,kDAAkD;AAC3C,KAAK,UAAU,UAAU,CAC9B,GAAwE,EACxE,IAAc;;IAEd,4CAA4C;IAC5C,IAAI,GAAG,CAAC,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE;QAC/B,qBAAmB,CAAC,eAAe,EAAE,CAAC;KACvC;IAED,6CAA6C;IAC7C,IAAI,SAAG,CAAC,KAAK,0CAAE,WAAW;QAAE,GAAG,CAAC,KAAK,CAAC,QAAQ,GAAG,GAAG,CAAC,KAAK,CAAC,WAAW,CAAC;IACvE,IAAI,SAAG,CAAC,KAAK,0CAAE,SAAS;QAAE,GAAG,CAAC,KAAK,CAAC,QAAQ,GAAG,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC;IAEnE,4GAA4G;IAC5G,IAAI;QACF,MAAM,IAAI,EAAE,CAAC;KACd;IAAC,OAAO,KAAU,EAAE;QACnB,GAAG,CAAC,IAAI,GAAG,KAAK,CAAC;KAClB;IAED,IAAI,sBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,WAAW,EAAE;QAC7B,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC;QACrD,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,8BAA8B,EAAE,iCAAiC,CAAC,CAAC;QACpF,GAAG,CAAC,QAAQ,CAAC,GAAG,CACd,8BAA8B,EAC9B,uEAAuE,CACxE,CAAC;KACH;IACD,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,cAAc,EAAE,YAAY,CAAC,CAAC;IAC/C,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,WAAW,EAAE,wBAAU,GAAE,CAAC,CAAC;IAE5C,iDAAiD;IACjD,IAAI,GAAG,CAAC,IAAI,YAAY,KAAK,EAAE;QAC7B,MAAM,KAAK,GAAG,GAAG,CAAC,IAAa,CAAC;QAChC,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;QACjB,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;YACxB,MAAM,EAAE,GAAG,CAAC,MAAM;YAClB,IAAI,EAAE,KAAK,CAAC,OAAO;YACnB,IAAI,EAAE,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE;SAC3B,CAAC,CAAC;QACH,OAAO;KACR;IAED,2BAA2B;IAC3B,IAAI,GAAG,CAAC,IAAI,YAAY,eAAM,EAAE;QAC9B,OAAO;KACR;IAED,iBAAiB;IACjB,IAAI,GAAG,CAAC,MAAM,IAAI,GAAG,EAAE;QACrB,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;QACjB,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;YACxB,MAAM,EAAE,GAAG,CAAC,MAAM;YAClB,IAAI,EAAE,iBAAiB;YACvB,IAAI,EAAE,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE;SAC3B,CAAC,CAAC;QACH,OAAO;KACR;IAED,4DAA4D;IAC5D,IAAI,OAAO,GAAG,CAAC,IAAI,IAAI,QAAQ,EAAE;QAC/B,MAAM,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC;QAC1B,MAAM,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;QACtB,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;YACxB,MAAM;YACN,IAAI;YACJ,IAAI,EAAE,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE;SAC3B,CAAC,CAAC;QACH,OAAO;KACR;IAED,6DAA6D;IAC7D,IAAI,GAAG,CAAC,IAAI,KAAK,IAAI,IAAI,GAAG,CAAC,IAAI,KAAK,KAAK,IAAI,GAAG,CAAC,IAAI,KAAK,SAAS,EAAE;QACrE,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;QACjB,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;YACxB,MAAM,EAAE,GAAG;YACX,IAAI,EAAE,GAAG,CAAC,IAAI,IAAI,IAAI;YACtB,IAAI,EAAE,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE;SAC3B,CAAC,CAAC;QACH,OAAO;KACR;IAED,cAAc;IACd,IAAI,GAAG,CAAC,MAAM,IAAI,GAAG,EAAE;QACrB,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;YACxB,MAAM,EAAE,GAAG,CAAC,MAAM;YAClB,IAAI,EAAE,GAAG,CAAC,IAAI;YACd,IAAI,EAAE,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE;SAC3B,CAAC,CAAC;QACH,OAAO;KACR;AACH,CAAC;AA3FD,gCA2FC;;;;;;;;;;AChGD,aAAa;AACb,SAAS,KAAK,CAAC,MAAW,EAAE,SAAc;IACxC,IAAI,MAAM,EAAE;QACV,KAAK,MAAM,GAAG,IAAI,SAAS,EAAE;YAC3B,MAAM,OAAO,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;YAE/B,IAAI,MAAM,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,MAAM,CAAC,GAAG,CAAC,KAAK,EAAE;gBAC3C,MAAM,IAAI,KAAK,CAAC,sBAAsB,GAAG,gBAAgB,CAAC,CAAC;YAE7D,IAAI,OAAO,KAAK,MAAM,EAAE;gBACtB,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;gBAClC,IAAI,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;oBAAE,MAAM,IAAI,KAAK,CAAC,sBAAsB,GAAG,mBAAmB,CAAC,CAAC;gBACtF,SAAS;aACV;YAED,IAAI,OAAO,KAAK,MAAM,EAAE;gBACtB,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;gBAClC,SAAS;aACV;YAED,IAAI,OAAO,KAAK,IAAI,EAAE;gBACpB,MAAM,CAAC,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC;gBAC3C,IAAI,CAAC,IAAI,cAAc,IAAI,CAAC,IAAI,IAAI;oBAClC,MAAM,IAAI,KAAK,CAAC,sBAAsB,GAAG,iBAAiB,CAAC,CAAC;gBAC9D,MAAM,CAAC,GAAG,CAAC,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;gBACpC,SAAS;aACV;YAED,IAAI,OAAO,KAAK,KAAK,EAAE;gBACrB,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,YAAY,KAAK,CAAC,EAAE;oBACnC,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;oBACvC,IAAI,CAAC,CAAC,MAAM,YAAY,KAAK,CAAC;wBAC5B,MAAM,IAAI,KAAK,CAAC,sBAAsB,GAAG,mBAAmB,CAAC,CAAC;oBAChE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC;iBACtB;gBACD,SAAS;aACV;YAED,IAAI,OAAO,KAAK,MAAM,EAAE;gBACtB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBAAE,MAAM,IAAI,KAAK,CAAC,sBAAsB,GAAG,oBAAoB,CAAC,CAAC;gBACjF,SAAS;aACV;SACF;QACD,OAAO,IAAI,CAAC;KACb;IACD,MAAM,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAC;AACpC,CAAC;AAQD,iBAAiB;AACjB,mBAAyB,SAAiB;IACxC,OAAO,KAAK,EAAE,GAA6B,EAAE,IAAc,EAAE,EAAE;QAC7D,IAAI;YACF,SAAS,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC9D,SAAS,CAAC,OAAO,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,KAAK,EAAE,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;YAC3D,SAAS,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC;YAChE,OAAO,MAAM,IAAI,EAAE,CAAC;SACrB;QAAC,OAAO,GAAQ,EAAE;YACjB,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;YACjB,GAAG,CAAC,IAAI,GAAG,GAAG,GAAG,CAAC,OAAO,IAAI,kCAAkC,EAAE,CAAC;SACnE;IACH,CAAC,CAAC;AACJ,CAAC;AAZD,+BAYC;;;;;;;;;;;;;ACrED,qEAAiC;AACjC,+DAAsC;AACtC,gGAAkD;AAClD,8FAAgD;AAChD,wFAA8D;AAC9D,qGAAsD;AACtD,qGAA+D;AAE/D,MAAM,MAAM,GAAG,IAAI,gBAAM,CAAC,EAAE,MAAM,EAAE,UAAU,EAAE,CAAC,CAAC;AAElD,yBAAyB;AACzB,kCAAkC;AAClC,wEAAwE;AACxE,MAAM,CAAC,GAAG,CAAC,uBAAuB,EAAE,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE;IACnF,MAAM,MAAM,GAAG,IAAI,KAAK,EAAE,CAAC;IAC3B,KAAK,MAAM,QAAQ,IAAI,wBAAsB,CAAC,QAAQ,CAAC,OAAO,EAAE,EAAE;QAChE,MAAM,aAAa,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;QAClC,MAAM,CAAC,IAAI,CAAC;YACV,IAAI,EAAE,aAAa,CAAC,IAAI;YACxB,EAAE,EAAE,aAAa,CAAC,MAAM,CAAC,EAAE;YAC3B,IAAI,EAAE,aAAa,CAAC,MAAM,CAAC,IAAI;YAC/B,MAAM,EAAE,aAAa,CAAC,MAAM,CAAC,MAAM;YACnC,SAAS,EAAE,aAAa,CAAC,SAAS;YAClC,OAAO,EAAE,aAAa,CAAC,MAAM,CAAC,OAAO;SACtC,CAAC,CAAC;KACJ;IACD,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;AACpB,CAAC,CAAC,CAAC;AAEH,yBAAyB;AACzB,8CAA8C;AAC9C,MAAM,CAAC,GAAG,CACR,2BAA2B,EAC3B,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EACjC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE,EAAE,CAAC,EAC3E,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAC5C,MAAM,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IACpC,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;IAC7C,MAAM,YAAY,GAAG,GAAG,CAAC,KAAK,CAAC,aAAa,CAAC;IAC7C,MAAM,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC;IAChC,MAAM,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAClC,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;IACnE,IAAI,OAAO,GAAa,EAAE,CAAC;IAC3B,IAAI;QACF,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;KAC3B;IAAC,OAAO,KAAK,EAAE;QACd,SAAS;KACV;IACD,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,iBAAiB,EAAE;QAC/E,IAAI;QACJ,QAAQ;QACR,SAAS,EAAE;YACT,YAAY;YACZ,MAAM;YACN,GAAG,EAAE,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI;SACzC;KACF,CAAC,CAAC;IACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;AACpB,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,uCAAuC;AACvC,MAAM,CAAC,GAAG,CAAC,yBAAyB,EAAE,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE;IACrF,MAAM,MAAM,GAAG,IAAI,KAAK,EAAE,CAAC;IAC3B,KAAK,MAAM,QAAQ,IAAI,wBAAsB,CAAC,QAAQ,CAAC,OAAO,EAAE,EAAE;QAChE,MAAM,aAAa,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;QAClC,IAAI,aAAa,GAAG,IAAI,CAAC;QACzB,IAAI;YACF,aAAa,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;SACjF;QAAC,OAAO,GAAG,EAAE;YACZ,SAAS;SACV;QACD,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;KAC5B;IACD,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;AACpB,CAAC,CAAC,CAAC;AAEH,yBAAyB;AACzB,4DAA4D;AAC5D,MAAM,CAAC,GAAG,CAAC,kBAAkB,EAAE,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE;IAC9E,MAAM,MAAM,GAAG,IAAI,KAAK,EAAE,CAAC;IAC3B,KAAK,MAAM,QAAQ,IAAI,wBAAsB,CAAC,QAAQ,CAAC,OAAO,EAAE,EAAE;QAChE,MAAM,aAAa,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;QAClC,IAAI,aAAa,GAAG,EAAE,CAAC;QACvB,IAAI;YACF,aAAa,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;SACrF;QAAC,OAAO,GAAG,EAAE;YACZ,wBAAwB;SACzB;QACD,iDAAiD;QACjD,MAAM,CAAC,IAAI,CAAC;YACV,IAAI,EAAE,aAAa,CAAC,IAAI;YACxB,EAAE,EAAE,aAAa,CAAC,MAAM,CAAC,EAAE;YAC3B,IAAI,EAAE,aAAa,CAAC,MAAM,CAAC,IAAI;YAC/B,MAAM,EAAE,aAAa,CAAC,MAAM,CAAC,MAAM;YACnC,SAAS,EAAE,aAAa,CAAC,SAAS;YAClC,OAAO,EAAE,aAAa,CAAC,MAAM,CAAC,OAAO;YACrC,SAAS,EAAE,aAAa;SACzB,CAAC,CAAC;KACJ;IACD,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;AACpB,CAAC,CAAC,CAAC;AAEH,yBAAyB;AACzB,qBAAqB;AACrB,MAAM,CAAC,IAAI,CACT,iBAAiB,EACjB,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EACjC,uBAAS,EAAC,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,EAAE,CAAC,EAClF,KAAK,EAAE,GAAG,EAAE,EAAE;;IACZ,MAAM,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC;IACnC,+BAA+B;IAC/B,MAAM,QAAQ,GAAG,MAAM,wBAAsB,CAAC,qBAAqB,CAAC;QAClE,MAAM,EAAE,SAAS,CAAC,MAAM;QACxB,IAAI,EAAE,SAAS,CAAC,IAAI;QACpB,EAAE,EAAE,SAAS,CAAC,EAAE;QAChB,MAAM,EAAE,eAAS,CAAC,MAAM,mCAAI,EAAE;QAC9B,OAAO,EAAE,eAAS,CAAC,OAAO,mCAAI,EAAE;KACjC,CAAC,CAAC;IAEH,kCAAe,CAAC,GAAG,CAAC,eAAe,EAAE;QACnC,WAAW,EAAE,GAAG,CAAC,EAAE;QACnB,aAAa,EAAE,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC;QACxC,SAAS,EAAE,QAAQ,CAAC,IAAI;KACzB,CAAC,CAAC;IAEH,GAAG,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;AAC3B,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,mCAAmC;AACnC,MAAM,CAAC,GAAG,CACR,iBAAiB,EACjB,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EACjC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,CAAC,EACtC,KAAK,EAAE,GAAG,EAAE,EAAE;;IACZ,MAAM,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC5C,MAAM,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,IAAI,EAAE,CAAC;IACzC,MAAM,aAAa,GAAG,UAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,OAAO,KAAI,EAAE,CAAC;IAC/C,MAAM,MAAM,GAAG,wBAAsB,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IAExD,IAAI,aAAa,KAAI,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,SAAS,GAAE;QACtC,MAAM,IAAI,wBAAa,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,cAAc,EAAE;YACtD,GAAG,aAAa;YAChB,IAAI,EAAE,SAAS,CAAC,UAAU;SAC3B,CAAC,CAAC;KACJ;IAED,IAAI,CAAC,wBAAsB,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC;QAAE,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;IAE3F,MAAM,wBAAsB,CAAC,IAAI,CAAC,IAAI,EAAE;QACtC,IAAI,EAAE,SAAS,CAAC,IAAI;QACpB,EAAE,EAAE,SAAS,CAAC,EAAE;QAChB,MAAM,EAAE,eAAS,CAAC,MAAM,mCAAI,EAAE;QAC9B,MAAM,EAAE,SAAS,CAAC,MAAM;QACxB,OAAO,EAAE,SAAS,CAAC,OAAO;QAC1B,cAAc,EAAE,eAAS,CAAC,cAAc,mCAAI,EAAE;KAC/C,CAAC,CAAC;IAEH,kCAAe,CAAC,GAAG,CAAC,sBAAsB,EAAE;QAC1C,WAAW,EAAE,GAAG,CAAC,EAAE;QACnB,aAAa,EAAE,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC;QACxC,SAAS,EAAE,IAAI;KAChB,CAAC,CAAC;IAEH,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC;AAClB,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,wBAAwB;AACxB,MAAM,CAAC,MAAM,CACX,iBAAiB,EACjB,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EACjC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,CAAC,EACtC,KAAK,EAAE,GAAG,EAAE,EAAE;;IACZ,MAAM,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC5C,IAAI,CAAC,wBAAsB,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC;QAAE,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;IAC3F,MAAM,wBAAsB,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;IACvD,kCAAe,CAAC,GAAG,CAAC,eAAe,EAAE;QACnC,WAAW,EAAE,GAAG,CAAC,EAAE;QACnB,aAAa,EAAE,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC;QACxC,SAAS,EAAE,IAAI;KAChB,CAAC,CAAC;IACH,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC;AAClB,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,6BAA6B;AAC7B,MAAM,CAAC,GAAG,CACR,sBAAsB,EACtB,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EACjC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,CAAC,EACtC,KAAK,EAAE,GAAG,EAAE,EAAE;;IACZ,MAAM,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC5C,IAAI,CAAC,wBAAsB,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC;QAAE,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;IAC3F,IAAI;QACF,8BAAsB,CAAC,WAAW,CAAC,IAAI,CAAC,0CAAE,OAAO,EAAE,CAAC;QACpD,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC;KACjB;IAAC,OAAO,KAAU,EAAE;QACnB,GAAG,CAAC,IAAI,GAAG,KAAK,CAAC;KAClB;AACH,CAAC,CACF,CAAC;AAEF,qBAAe,MAAM,CAAC;;;;;;;;;;;;;ACjNtB,qEAAiC;AACjC,gGAAkD;AAClD,8FAAgD;AAChD,qGAA+D;AAC/D,qGAAsD;AACtD,+DAAsC;AAEtC,MAAM,MAAM,GAAG,IAAI,gBAAM,CAAC,EAAE,MAAM,EAAE,cAAc,EAAE,CAAC,CAAC;AAEtD,yBAAyB;AACzB,+CAA+C;AAC/C,MAAM,CAAC,GAAG,CACR,QAAQ,EACR,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EACjC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,EAAE,CAAC,EAC1C,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,oBAAoB,EAAE,EAAE,CAAC,CAAC;QACxF,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,eAAe;AACf,MAAM,CAAC,IAAI,CACT,QAAQ,EACR,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EACjC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,EAAE,CAAC,EAC1C,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC;QAChC,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAC3D,uBAAuB,EACvB,MAAM,CACP,CAAC;QACF,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,6BAA6B;AAC7B,MAAM,CAAC,MAAM,CACX,QAAQ,EACR,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EACjC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,EAAE,CAAC,EAC3D,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,OAAO,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QAC1C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,uBAAuB,EAAE;YACrF,OAAO;SACR,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,sEAAsE;AACtE,MAAM,CAAC,GAAG,CACR,aAAa,EACb,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EACjC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,EAAE,CAAC,EAC1C,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,wBAAwB,EAAE,EAAE,CAAC,CAAC;QAC5F,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,qEAAqE;AACrE,MAAM,CAAC,GAAG,CACR,eAAe,EACf,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EACjC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,EAAE,CAAC,EAC1C,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,0BAA0B,EAAE,EAAE,CAAC,CAAC;QAC9F,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,kEAAkE;AAClE,MAAM,CAAC,GAAG,CACR,WAAW,EACX,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EACjC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,EAAE,CAAC,EAC1C,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,sBAAsB,EAAE,EAAE,CAAC,CAAC;QAC1F,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,qBAAe,MAAM,CAAC;;;;;;;;;;;;;AC5HtB,qEAAiC;AACjC,+DAAsC;AACtC,8DAA6B;AAC7B,qEAAiD;AACjD,gGAAkD;AAClD,8FAAgD;AAChD,wFAA8D;AAC9D,wFAA6E;AAC7E,wEAA+C;AAC/C,4FAA4F;AAC5F,qGAAsD;AACtD,qGAA+D;AAC/D,8DAA0C;AAE1C,MAAM,MAAM,GAAG,IAAI,gBAAM,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC,CAAC;AAEhD,MAAM,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;IAC7B,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC5C,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAC5C,MAAM,QAAQ,GAAG,kCAAW,EAAC,GAAG,CAAC,CAAC;IAClC,IAAI,uBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,cAAc,MAAK,KAAK,IAAI,wCAAiB,EAAC,GAAG,CAAC,GAAG,EAAE,EAAE;QACzE,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;QACjB,GAAG,CAAC,IAAI,GAAG,IAAI,KAAK,CAAC,aAAE,EAAC,0BAA0B,CAAC,CAAC,CAAC;QACrD,OAAO;KACR;IACD,IAAI,6CAAoB,EAAC,QAAQ,EAAE,QAAQ,EAAE,YAAY,CAAC,EAAE;QAC1D,MAAM,IAAI,EAAE,CAAC;KACd;SAAM;QACL,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;QACjB,GAAG,CAAC,IAAI,GAAG,aAAE,EAAC,uCAAuC,CAAC,CAAC;KACxD;AACH,CAAC,CAAC,CAAC;AAEH,MAAM,CAAC,GAAG,CACR,SAAS,EACT,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,EACnD,uBAAS,EAAC;IACR,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE;CAC1C,CAAC,EACF,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,aAAa,EAAE;YAC3E,YAAY;SACb,CAAC,CAAC;QACH,IAAI,CAAC,8CAAqB,EAAC,kCAAW,EAAC,GAAG,CAAC,CAAC;YAAE,OAAO,MAAM,CAAC,IAAI,CAAC;QACjE,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,GAAG,CACR,OAAO,EACP,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,EACnD,uBAAS,EAAC;IACR,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE;CAC3F,CAAC,EACF,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACxC,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACpC,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QAC7C,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QAC7C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE;YACzE,YAAY;YACZ,MAAM;YACN,QAAQ;YACR,IAAI;YACJ,QAAQ;SACT,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,GAAG,CACR,QAAQ,EACR,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,sBAAU,EAAC,CAAC,CAAC,EACb,uBAAS,EAAC;IACR,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE;IACzC,IAAI,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE;CACvD,CAAC,EACF,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC/C,MAAM,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC7C,MAAM,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC3C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,YAAY,EAAE;YAC1E,MAAM;YACN,YAAY;YACZ,KAAK;YACL,IAAI;SACL,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,IAAI,CACT,QAAQ,EACR,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,sBAAU,EAAC,CAAC,CAAC,EACb,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,EAAE,CAAC,EAClF,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC/C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,YAAY,EAAE;YAC1E,MAAM;YACN,YAAY;SACb,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,IAAI,CACT,QAAQ,EACR,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,sBAAU,EAAC,CAAC,CAAC,EACb,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,EAAE,CAAC,EAClF,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC/C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,YAAY,EAAE;YAC1E,MAAM;YACN,YAAY;SACb,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,GAAG,CACR,GAAG,EACH,sBAAU,EAAC,CAAC,CAAC,EACb,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,EAAE,CAAC,EAClF,KAAK,EAAE,GAAG,EAAE,EAAE;;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC/C,MAAM,IAAI,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC;QACnC,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAC3D,WAAW,EACX;YACE,YAAY;YACZ,MAAM;YACN,IAAI;SACL,EACD,MAAM,CACP,CAAC;QACF,kCAAe,CAAC,GAAG,CAAC,sBAAsB,EAAE;YAC1C,WAAW,EAAE,GAAG,CAAC,EAAE;YACnB,aAAa,EAAE,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC;YACxC,WAAW,EAAE,YAAY;YACzB,SAAS,EAAE,QAAQ;YACnB,IAAI,EAAE,MAAM;SACb,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,IAAI,CACT,OAAO,EACP,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,sBAAU,EAAC,CAAC,CAAC,EACb,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,EAClF,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,OAAa,CAAC;QAC/C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE;YACzE,YAAY;YACZ,OAAO;SACR,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,IAAI,CACT,oBAAoB,EACpB,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,sBAAU,EAAC,CAAC,CAAC,EACb,uBAAS,EAAC;IACR,KAAK,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE;IACzC,IAAI,EAAE,EAAE,GAAG,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE;CACzC,CAAC,EACF,KAAK,EAAE,GAAG,EAAE,EAAE;;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACzC,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAEpD,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,IAAI,CAAC,aAAa;YAAE,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,CAAC,GAAG,eAAe,QAAQ,EAAE,CAAC,CAAC;QAEzF,MAAM,UAAU,GAAG,uBAAQ,GAAE,CAAC;QAC9B,GAAG,CAAC,IAAI,GAAG,UAAU,CAAC;QAEtB,kCAAe,CAAC,GAAG,CAAC,iCAAiC,EAAE;YACrD,WAAW,EAAE,GAAG,CAAC,EAAE;YACnB,aAAa,EAAE,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC;YACxC,WAAW,EAAE,YAAY;YACzB,SAAS,EAAE,QAAQ;YACnB,GAAG,EAAE,GAAG;YACR,QAAQ,EAAE,QAAQ;SACnB,CAAC,CAAC;QAEH,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,wBAAwB,EAAE;YACvE,GAAG;YACH,QAAQ;YACR,YAAY;SACb,CAAC,CAAC;KACJ;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,GAAG,CACR,OAAO,EACP,sBAAU,EAAC,CAAC,CAAC,EACb,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,EAClF,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,OAAa,CAAC;QAC/C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE;YACzE,YAAY;YACZ,OAAO;SACR,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,MAAM,CACX,GAAG,EACH,sBAAU,EAAC,CAAC,CAAC,EACb,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE,EAAE,CAAC,EACnF,KAAK,EAAE,GAAG,EAAE,EAAE;;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC;QACpC,MAAM,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC;QACzC,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,aAAa,EAAE;YAC3E,YAAY;YACZ,OAAO;SACR,CAAC,CAAC;QACH,kCAAe,CAAC,GAAG,CAAC,sBAAsB,EAAE;YAC1C,WAAW,EAAE,GAAG,CAAC,EAAE;YACnB,aAAa,EAAE,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC;YACxC,WAAW,EAAE,MAAM,CAAC,YAAY,CAAC;YACjC,SAAS,EAAE,QAAQ;YACnB,IAAI,EAAE,OAAO;SACd,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,IAAI,CACT,WAAW,EACX,sBAAU,EAAC,CAAC,CAAC,EACb,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC;IACR,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE;IACzC,IAAI,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE;CACtE,CAAC,EACF,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC/C,MAAM,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC;QACzC,MAAM,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC3C,MAAM,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC3C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,GAAG,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CACxD,eAAe,EACf;YACE,YAAY;YACZ,OAAO;YACP,MAAM;YACN,IAAI;YACJ,IAAI;SACL,EACD,CAAC,CACF,CAAC;QACF,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,GAAG,CACR,WAAW,EACX,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,sBAAU,EAAC,CAAC,CAAC,EACb,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE,EAAE,CAAC,EAC3E,KAAK,EAAE,GAAG,EAAE,EAAE;;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QAC7C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,IAAI,CAAC,aAAa;YAAE,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,CAAC,GAAG,eAAe,QAAQ,EAAE,CAAC,CAAC;QACzF,MAAM,IAAI,GAAG,aAAa,CAAC,MAAM,CAAC,QAAQ,CAAC;QAC3C,MAAM,cAAc,GAAG,aAAa,CAAC,MAAM,CAAC,0BAA0B,EAAE,CAAC;QACzE,MAAM,QAAQ,GAAG,uBAAQ,GAAE,CAAC;QAC5B,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,mBAAmB,EAAE;YAClE,IAAI,EAAE,UAAU;YAChB,QAAQ,EAAE,QAAQ;YAClB,SAAS,EAAE;gBACT,QAAQ;gBACR,YAAY;aACb;SACF,CAAC,CAAC;QACH,kCAAe,CAAC,GAAG,CAAC,wBAAwB,EAAE;YAC5C,WAAW,EAAE,GAAG,CAAC,EAAE;YACnB,aAAa,EAAE,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC;YACxC,WAAW,EAAE,YAAY;YACzB,SAAS,EAAE,QAAQ;YACnB,IAAI,EAAE,QAAQ;SACf,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG;YACT,QAAQ;YACR,IAAI;YACJ,cAAc;SACf,CAAC;KACH;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,GAAG,CACR,SAAS,EACT,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,EAAE,CAAC,EAC5E,KAAK,EAAE,GAAG,EAAE,EAAE;;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,SAAS,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;QAC/C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,IAAI,CAAC,aAAa;YAAE,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,CAAC,GAAG,eAAe,QAAQ,EAAE,CAAC,CAAC;QACzF,MAAM,IAAI,GAAG,aAAa,CAAC,MAAM,CAAC,QAAQ,CAAC;QAC3C,MAAM,cAAc,GAAG,aAAa,CAAC,MAAM,CAAC,0BAA0B,EAAE,CAAC;QACzE,MAAM,QAAQ,GAAG,uBAAQ,GAAE,CAAC;QAC5B,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,mBAAmB,EAAE;YAClE,IAAI,EAAE,QAAQ;YACd,QAAQ,EAAE,QAAQ;YAClB,SAAS,EAAE;gBACT,SAAS;gBACT,YAAY;aACb;SACF,CAAC,CAAC;QACH,kCAAe,CAAC,GAAG,CAAC,sBAAsB,EAAE;YAC1C,WAAW,EAAE,GAAG,CAAC,EAAE;YACnB,aAAa,EAAE,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC;YACxC,WAAW,EAAE,YAAY;YACzB,SAAS,EAAE,QAAQ;SACpB,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG;YACT,QAAQ;YACR,IAAI;YACJ,cAAc;SACf,CAAC;KACH;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,qBAAe,MAAM,CAAC;;;;;;;;;;;;;ACpatB,qEAAiC;AACjC,gGAAkD;AAClD,wFAA6G;AAC7G,iGAAiD;AACjD,wFAA+D;AAC/D,4FAAyF;AACzF,8FAAgD;AAChD,2CAA0B;AAC1B,8DAA6B;AAC7B,+DAAsC;AACtC,wFAAiE;AACjE,qEAA8C;AAE9C,MAAM,MAAM,GAAG,IAAI,gBAAM,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,CAAC;AAE/C,yBAAyB;AACzB,mBAAmB;AACnB,MAAM,CAAC,GAAG,CACR,QAAQ,EACR,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,EACjE,KAAK,EAAE,GAA6B,EAAE,EAAE;IACtC,gDAAgD;IAChD,IAAI,6BAAM,EAAC,GAAG,CAAC,EAAE;QACf,GAAG,CAAC,IAAI,GAAG,+BAAQ,EAAC,GAAG,CAAC,CAAC;KAC1B;SAAM;QACL,MAAM,IAAI,KAAK,CAAC,qCAAqC,CAAC,CAAC;KACxD;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,gBAAgB;AAChB,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE;IAC/F,+BAA+B;IAC/B,IAAI,IAAI,GAAG,kCAAW,EAAC,GAAG,CAAC,CAAC;IAC5B,oDAAoD;IACpD,MAAM,QAAQ,GAAG,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC;IAEpC,gDAAgD;IAChD,IAAI,8CAAqB,EAAC,IAAI,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI;QAAE,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAEjF,2CAA2C;IAC3C,IAAI,6BAAM,EAAC,GAAG,CAAC,EAAE;QACf,MAAM,GAAG,GAAG,MAAM,yCAAkB,EAAC,IAAI,EAAE,SAAS,EAAE,iCAAS,EAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,CAAC;QACpF,GAAG,CAAC,KAAK,GAAG,+BAAQ,EAAC,GAAG,CAAC,CAAC;QAC1B,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CAAC,CAAC;AAEH,yBAAyB;AACzB,mCAAmC;AACnC,MAAM,CAAC,GAAG,CAAC,SAAS,EAAE,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,GAA6B,EAAE,EAAE;IAC9F,MAAM,QAAQ,GAAG,kCAAW,EAAC,GAAG,CAAC,CAAC;IAClC,IAAI,QAAQ,EAAE;QACZ,MAAM,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC;QAChC,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,GAAG,MAAM,CAAC;QACpC,IAAI,CAAC,sBAAU,CAAC,gBAAgB,CAAC,QAAQ,CAAC;YACxC,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,oCAAoC,CAAC,CAAC,CAAC;QAC5D,MAAM,sBAAU,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,CAAC;QACtD,GAAG,CAAC,IAAI,GAAG,6BAAM,EAAC,GAAG,CAAC,CAAC;KACxB;AACH,CAAC,CAAC,CAAC;AAEH,yBAAyB;AACzB,8BAA8B;AAC9B,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,GAA6B,EAAE,EAAE;IAC3F,MAAM,QAAQ,GAAG,kCAAW,EAAC,GAAG,CAAC,CAAC;IAClC,MAAM,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC;IACvC,MAAM,IAAI,GAAG,sBAAU,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;IAC9C,IAAI,MAAM,GAAG,EAAE,CAAC;IAChB,IAAI;QACF,IAAI,IAAI,EAAE;YACR,IAAI,MAAM,EAAE;gBACV,MAAM,GAAG,aAAE,GAAE,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;gBAClC,MAAM,sBAAU,CAAC,IAAI,CAAC,QAAQ,EAAE;oBAC9B,MAAM,EAAE,MAAM;iBACf,CAAC,CAAC;aACJ;iBAAM;gBACL,MAAM,sBAAU,CAAC,IAAI,CAAC,QAAQ,EAAE;oBAC9B,MAAM,EAAE,EAAE;iBACX,CAAC,CAAC;aACJ;SACF;QACD,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,KAAU,EAAE;QACnB,GAAG,CAAC,IAAI,GAAG,KAAK,CAAC;KAClB;AACH,CAAC,CAAC,CAAC;AAEH,yBAAyB;AACzB,MAAM;AACN,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,wBAAU,EAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,GAA6B,EAAE,EAAE;IACxF,MAAM,QAAQ,GAAG,kCAAW,EAAC,GAAG,CAAC,CAAC;IAClC,IAAI,QAAQ,EAAE;QACZ,MAAM,MAAM,GAAG,MAAM,8BAAO,EAAC,GAAG,CAAC,CAAC;QAClC,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;AACH,CAAC,CAAC,CAAC;AAEH,yBAAyB;AACzB,MAAM;AACN,MAAM,CAAC,IAAI,CACT,aAAa,EACb,wBAAU,EAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,EACxB,uBAAS,EAAC,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,EAAE,CAAC,EAC1D,KAAK,EAAE,GAA6B,EAAE,EAAE;;IACtC,MAAM,QAAQ,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC;IAC3C,MAAM,SAAS,GAAG,sBAAU,CAAC,QAAQ,CAAC,QAAQ,EAAE,2CAAc,EAAC,GAAG,CAAC,mCAAI,EAAE,EAAE,CAAC,CAAC,CAAC;IAC9E,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAChD,IAAI,MAAM,IAAI,CAAC,SAAS,EAAE;QACxB,GAAG,CAAC,IAAI,GAAG,KAAK,CAAC;QACjB,OAAO;KACR;IACD,MAAM,QAAQ,GAAG,kCAAW,EAAC,GAAG,CAAC,CAAC;IAClC,MAAM,uCAAgB,EAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;IACzC,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC;AAClB,CAAC,CACF,CAAC;AAEF,sBAAsB;AACtB,MAAM,CAAC,GAAG,CACR,iBAAiB,EACjB,wBAAU,EAAC,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,EACzC,uBAAS,EAAC;IACR,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE;CAC5B,CAAC,EACF,KAAK,EAAE,GAA6B,EAAE,EAAE;IACtC,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IACpD,MAAM,IAAI,GAAG,0CAAiB,EAAC,QAAQ,CAAC,CAAC;IACzC,IAAI,CAAC,IAAI,EAAE;QACT,GAAG,CAAC,IAAI,GAAG;YACT,IAAI,EAAE,IAAI;YACV,QAAQ,EAAE,IAAI;SACf,CAAC;KACH;SAAM;QACL,GAAG,CAAC,IAAI,GAAG;YACT,IAAI,EAAE,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,IAAI;YAChB,QAAQ,EAAE,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,QAAQ;SACzB,CAAC;KACH;AACH,CAAC,CACF,CAAC;AAEF,qBAAe,MAAM,CAAC;;;;;;;;;;;;;AChJtB,qEAAiC;AACjC,8DAA0B;AAC1B,oEAA0B;AAC1B,4DAAwB;AACxB,0DAAiE;AACjE,+DAAsC;AACtC,8DAA6B;AAC7B,gGAAkD;AAClD,8FAAgD;AAChD,wFAAuE;AACvE,8DAAwC;AACxC,wFAA8D;AAC9D,wFAA0D;AAC1D,wEAA+C;AAC/C,4FAA4F;AAC5F,qGAAsD;AACtD,qGAA+D;AAC/D,iGAAiD;AACjD,8DAA0C;AAE1C,MAAM,MAAM,GAAG,IAAI,gBAAM,CAAC,EAAE,MAAM,EAAE,WAAW,EAAE,CAAC,CAAC;AAEnD,yBAAyB;AACzB,iCAAiC;AACjC,MAAM,CAAC,GAAG,CACR,GAAG,EACH,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,CAAC,EACxD,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,IAAI,CAAC,6CAAoB,EAAC,kCAAW,EAAC,GAAG,CAAC,EAAE,QAAQ,EAAE,YAAY,CAAC;YACjE,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,+BAA+B,CAAC,CAAC,CAAC;QACvD,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,iBAAiB,EAAE;YAC/E,YAAY;SACb,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,kBAAkB;AAClB,MAAM,CAAC,IAAI,CACT,GAAG,EACH,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EACjC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,EAAE,CAAC,EAE1C,KAAK,EAAE,GAAG,EAAE,EAAE;;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC;QAChC,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;QACtF,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;QAClB,kCAAe,CAAC,GAAG,CAAC,iBAAiB,EAAE;YACrC,SAAS,EAAE,QAAQ;YACnB,WAAW,EAAE,MAAM,CAAC,YAAY;YAChC,WAAW,EAAE,GAAG,CAAC,EAAE;YACnB,aAAa,EAAE,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC;YACxC,aAAa,EAAE,MAAM,CAAC,QAAQ;SAC/B,CAAC,CAAC;KACJ;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,6CAA6C;AAC7C,MAAM,CAAC,IAAI,CACT,SAAS,EACT,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EACjC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,EAAE,CAAC,EAC9D,KAAK,EAAE,GAAG,EAAE,EAAE;;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,kDAAkD;QAClD,MAAM,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC;QAChC,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,IAAI,CAAC,aAAa;YAAE,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,CAAC,GAAG,eAAe,QAAQ,EAAE,CAAC,CAAC;QACzF,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;QACtF,MAAM,eAAe,GAAG,MAAM,CAAC,YAAY,CAAC;QAC5C,IAAI,CAAC,eAAe;YAAE,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,sCAAsC,CAAC,CAAC,CAAC;QAClF,kCAAe,CAAC,GAAG,CAAC,iBAAiB,EAAE;YACrC,SAAS,EAAE,QAAQ;YACnB,WAAW,EAAE,eAAe;YAC5B,WAAW,EAAE,GAAG,CAAC,EAAE;YACnB,aAAa,EAAE,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC;YACxC,aAAa,EAAE,MAAM,CAAC,QAAQ;SAC/B,CAAC,CAAC;QACH,kDAAkD;QAClD,MAAM,IAAI,GAAG,aAAa,CAAC,MAAM,CAAC,QAAQ,CAAC;QAC3C,MAAM,cAAc,GAAG,aAAa,CAAC,MAAM,CAAC,0BAA0B,EAAE,CAAC;QACzE,MAAM,QAAQ,GAAG,uBAAQ,GAAE,CAAC;QAC5B,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,mBAAmB,EAAE;YAClE,IAAI,EAAE,QAAQ;YACd,QAAQ,EAAE,QAAQ;YAClB,SAAS,EAAE;gBACT,SAAS,EAAE,GAAG;gBACd,YAAY,EAAE,eAAe;aAC9B;SACF,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG;YACT,YAAY,EAAE,eAAe;YAC7B,QAAQ;YACR,IAAI;YACJ,cAAc;SACf,CAAC;KACH;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,6CAA6C;AAC7C,MAAM,CAAC,GAAG,CACR,GAAG,EACH,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EACjC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,CAAC,EACxD,KAAK,EAAE,GAAG,EAAE,EAAE;;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC;QAChC,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,iBAAiB,EAAE;YAC/E,YAAY;YACZ,MAAM;SACP,CAAC,CAAC;QACH,kCAAe,CAAC,GAAG,CAAC,wBAAwB,EAAE;YAC5C,SAAS,EAAE,QAAQ;YACnB,WAAW,EAAE,YAAY;YACzB,WAAW,EAAE,GAAG,CAAC,EAAE;YACnB,aAAa,EAAE,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC;YACxC,aAAa,EAAE,MAAM,CAAC,QAAQ;SAC/B,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,kBAAkB;AAClB,MAAM,CAAC,MAAM,CACX,GAAG,EACH,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EACjC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,OAAO,EAAE,EAAE,CAAC,EACxF,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,aAAa,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC;QAC7C,MAAM,UAAU,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC;QAC/C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,IAAI,CAAC,aAAa,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC;YACjD,MAAM,IAAI,KAAK,CAAC,uCAAuC,CAAC,CAAC;QAC3D,MAAM,WAAW,GAAG,aAAa,CAAC,GAAG,CAAC,CAAC,IAAY,EAAE,EAAE;YACrD,OAAO,EAAE,YAAY,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC;QAC1C,CAAC,CAAC,CAAC;QACH,sBAAU,CAAC,mBAAmB,CAAC,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;QACxD,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,iBAAiB,EAAE;YAC/E,aAAa;YACb,UAAU;SACX,CAAC,CAAC;QACH,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAA6C,EAAE,EAAE;;YACzE,kCAAe,CAAC,GAAG,CACjB,iBAAiB,EACjB;gBACE,SAAS,EAAE,QAAQ;gBACnB,WAAW,EAAE,CAAC,CAAC,YAAY;gBAC3B,WAAW,EAAE,GAAG,CAAC,EAAE;gBACnB,aAAa,EAAE,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC;gBACxC,aAAa,EAAE,CAAC,CAAC,QAAQ;aAC1B,EACD,OAAO,CACR,CAAC;QACJ,CAAC,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,mCAAmC;AACnC,MAAM,CAAC,IAAI,CAAC,aAAa,EAAE,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE;IAC1E,IAAI;QACF,MAAM,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC;QACnC,+CAAwB,EAAC,SAAS,EAAE,KAAK,EAAE,QAAgB,EAAE,aAAuB,EAAE,EAAE;YACtF,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;YACnE,IAAI,wBAAa,CAAC,aAAa,CAAC;iBAC7B,OAAO,CAAC,eAAe,EAAE;gBACxB,aAAa;aACd,CAAC;iBACD,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE;gBACV,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,QAAoD,EAAE,EAAE;;oBAC3E,kCAAe,CAAC,GAAG,CAAC,gBAAgB,EAAE;wBACpC,SAAS,EAAE,QAAQ;wBACnB,WAAW,EAAE,QAAQ,CAAC,YAAY;wBAClC,WAAW,EAAE,GAAG,CAAC,EAAE;wBACnB,aAAa,EAAE,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC;wBACxC,aAAa,EAAE,QAAQ,CAAC,QAAQ;qBACjC,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;YACL,CAAC,CAAC;iBACD,KAAK,CAAC,GAAG,EAAE,GAAE,CAAC,CAAC,CAAC;QACrB,CAAC,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC;KACjB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CAAC,CAAC;AAEH,yBAAyB;AACzB,mCAAmC;AACnC,MAAM,CAAC,IAAI,CAAC,aAAa,EAAE,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE;IAC1E,IAAI;QACF,MAAM,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC;QACnC,+CAAwB,EAAC,SAAS,EAAE,KAAK,EAAE,QAAgB,EAAE,aAAuB,EAAE,EAAE;YACtF,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;YACnE,IAAI,wBAAa,CAAC,aAAa,CAAC;iBAC7B,OAAO,CAAC,eAAe,EAAE;gBACxB,aAAa;aACd,CAAC;iBACD,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE;gBACV,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,QAAoD,EAAE,EAAE;;oBAC3E,kCAAe,CAAC,GAAG,CAAC,eAAe,EAAE;wBACnC,SAAS,EAAE,QAAQ;wBACnB,WAAW,EAAE,QAAQ,CAAC,YAAY;wBAClC,WAAW,EAAE,GAAG,CAAC,EAAE;wBACnB,aAAa,EAAE,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC;wBACxC,aAAa,EAAE,QAAQ,CAAC,QAAQ;qBACjC,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;YACL,CAAC,CAAC;iBACD,KAAK,CAAC,GAAG,EAAE,GAAE,CAAC,CAAC,CAAC;QACrB,CAAC,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC;KACjB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CAAC,CAAC;AAEH,yBAAyB;AACzB,mCAAmC;AACnC,MAAM,CAAC,IAAI,CAAC,aAAa,EAAE,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE;IAC1E,IAAI;QACF,MAAM,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC;QACnC,+CAAwB,EAAC,SAAS,EAAE,KAAK,EAAE,QAAgB,EAAE,aAAuB,EAAE,EAAE;YACtF,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;YACnE,IAAI,wBAAa,CAAC,aAAa,CAAC;iBAC7B,OAAO,CAAC,eAAe,EAAE,EAAE,aAAa,EAAE,CAAC;iBAC3C,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE;gBACV,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,QAAoD,EAAE,EAAE;;oBAC3E,kCAAe,CAAC,OAAO,CAAC,eAAe,EAAE;wBACvC,SAAS,EAAE,QAAQ;wBACnB,WAAW,EAAE,QAAQ,CAAC,YAAY;wBAClC,WAAW,EAAE,GAAG,CAAC,EAAE;wBACnB,aAAa,EAAE,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC;wBACxC,aAAa,EAAE,QAAQ,CAAC,QAAQ;qBACjC,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;YACL,CAAC,CAAC;iBACD,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE,GAAE,CAAC,CAAC,CAAC;QACxB,CAAC,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC;KACjB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CAAC,CAAC;AAEH,yBAAyB;AACzB,sCAAsC;AACtC,MAAM,CAAC,IAAI,CAAC,gBAAgB,EAAE,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE;IAC7E,IAAI;QACF,MAAM,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC;QACnC,+CAAwB,EAAC,SAAS,EAAE,KAAK,EAAE,QAAgB,EAAE,aAAuB,EAAE,EAAE;YACtF,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;YACnE,IAAI,wBAAa,CAAC,aAAa,CAAC;iBAC7B,OAAO,CAAC,kBAAkB,EAAE,EAAE,aAAa,EAAE,CAAC;iBAC9C,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE;gBACV,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,QAAoD,EAAE,EAAE;;oBAC3E,kCAAe,CAAC,GAAG,CAAC,kBAAkB,EAAE;wBACtC,SAAS,EAAE,QAAQ;wBACnB,WAAW,EAAE,QAAQ,CAAC,YAAY;wBAClC,WAAW,EAAE,GAAG,CAAC,EAAE;wBACnB,aAAa,EAAE,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC;wBACxC,aAAa,EAAE,QAAQ,CAAC,QAAQ;qBACjC,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;YACL,CAAC,CAAC;iBACD,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE,GAAE,CAAC,CAAC,CAAC;QACxB,CAAC,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC;KACjB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CAAC,CAAC;AAEH,yBAAyB;AACzB,yBAAyB;AACzB,MAAM,CAAC,GAAG,CAAC,qBAAqB,EAAE,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE;IAChF,IAAI,uBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,cAAc,MAAK,KAAK,IAAI,CAAC,8CAAqB,EAAC,kCAAW,EAAC,GAAG,CAAC,CAAC,EAAE;QACtF,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;QACjB,GAAG,CAAC,IAAI,GAAG,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,CAAC,CAAC,CAAC;QAC9C,OAAO;KACR;IAED,MAAM,IAAI,GAAG,sBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,cAAc,CAAC;IAE1C,IAAI;QACF,IAAI,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,UAAU,CAAC,qBAAa,CAAC,EAAE;YACnC,MAAM,QAAQ,GAAG,cAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,qBAAa,CAAC,CAAC;YACzD,MAAM,QAAQ,GAAG,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,KAAK,CAAC,qBAAa,EAAE,CAAC,CAAC,CAAC;YAC/C,MAAM,QAAQ,GAAG,cAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,aAAR,QAAQ,cAAR,QAAQ,GAAI,EAAE,CAAC,CAAC;YACrD,IAAI,kBAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE;gBAC3B,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,kBAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC;aAC7D;iBAAM;gBACL,MAAM,IAAI,KAAK,CAAC,6BAA6B,CAAC,CAAC;aAChD;YACD,OAAO;SACR;QAED,6BAA6B;QAC7B,MAAM,cAAc,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC,WAAW;QAEvD,0CAA0C;QAC1C,IAAI;YACF,MAAM,KAAK,GAAG,MAAM,kBAAE,CAAC,IAAI,CAAC,8BAAsB,CAAC,CAAC;YACpD,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;YACvB,MAAM,OAAO,GAAG,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;YAE5C,YAAY;YACZ,IAAI,OAAO,GAAG,cAAc,EAAE;gBAC5B,MAAM,UAAU,GAAG,MAAM,kBAAE,CAAC,QAAQ,CAAC,8BAAsB,EAAE,OAAO,CAAC,CAAC;gBACtE,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;gBAClC,OAAO;aACR;SACF;QAAC,OAAO,KAAK,EAAE;YACd,uDAAuD;SACxD;QAED,MAAM,GAAG,GAAG,MAAM,eAAK,CAAC,OAAO,CAAC;YAC9B,MAAM,EAAE,KAAK;YACb,GAAG,EAAE,IAAI;SACV,CAAC,CAAC;QACH,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG;YAAE,MAAM,IAAI,KAAK,CAAC,2BAA2B,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC;QACjF,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;QAEpB,qBAAqB;QACrB,kBAAE,CAAC,SAAS,CAAC,8BAAsB,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE;YACpF,YAAM,CAAC,IAAI,CAAC,+CAA+C,8BAAsB,KAAK,GAAG,EAAE,CAAC,CAAC;QAC/F,CAAC,CAAC,CAAC;KACJ;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,EAAE,CAAC;KACf;AACH,CAAC,CAAC,CAAC;AAEH,yBAAyB;AACzB,kBAAkB;AAClB,MAAM,CAAC,GAAG,CACR,UAAU,EACV,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EACjC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,EAAE,CAAC,EACxC,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,MAAM,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IACtC,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,eAAK,CAAC,OAAO,CAAC;YACnC,MAAM,EAAE,GAAG,CAAC,OAAO,CAAC,MAAM;YAC1B,GAAG,EAAE,IAAI;YACT,IAAI,EAAE,GAAG,CAAC,OAAO,CAAC,IAAI;SACvB,CAAC,CAAC;QACH,IAAI,QAAQ,CAAC,MAAM,KAAK,GAAG;YAAE,MAAM,IAAI,KAAK,CAAC,sBAAsB,CAAC,CAAC;QACrE,GAAG,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;KAC1B;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,EAAE,CAAC;KACf;AACH,CAAC,CACF,CAAC;AAEF,qBAAe,MAAM,CAAC;;;;;;;;;;;;;ACpYtB,qEAAiC;AAEjC,qEAAqD;AACrD,+DAAsC;AACtC,8DAA6B;AAC7B,gGAAkD;AAClD,8FAAgD;AAChD,wFAOqC;AACrC,8DAAwC;AACxC,wFAA2D;AAC3D,yGAAyD;AACzD,8DAA0C;AAC1C,8DAAgD;AAEhD,MAAM,MAAM,GAAG,IAAI,gBAAM,CAAC,EAAE,MAAM,EAAE,WAAW,EAAE,CAAC,CAAC;AAEnD,MAAM,CAAC,IAAI,CACT,GAAG,EACH,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EACjC,uBAAS,EAAC;IACR,IAAI,EAAE;QACJ,cAAc,EAAE,MAAM;KACvB;CACF,CAAC,EACF,KAAK,EAAE,GAAG,EAAE,EAAE;;IACZ,IAAI;QACF,MAAM,aAAa,GAAG,8BAAM,EAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAkB,CAAC;QAC/E,MAAM,MAAM,GAAG,SAAG,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,mCAAI,EAAE,CAAC;QAC3C,YAAM,CAAC,IAAI,CAAC,8CAA8C,EAAE,aAAa,EAAE,MAAM,CAAC,CAAC;QACnF,IAAI,aAAa,KAAK,gCAAa,CAAC,IAAI,EAAE;YACxC,GAAG,CAAC,IAAI,GAAG,MAAM,oCAAa,EAAC,MAAM,CAAC,CAAC;YACvC,OAAO;SACR;QACD,IAAI,CAAC,gCAAa,CAAC,KAAK,EAAE,gCAAa,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE;YACpE,GAAG,CAAC,IAAI,GAAG,MAAM,yCAAkB,EAAC,aAAa,EAAE,MAAM,CAAC,CAAC;YAC3D,OAAO;SACR;QACD,IAAI,aAAa,KAAK,gCAAa,CAAC,cAAc,EAAE;YAClD,GAAG,CAAC,IAAI,GAAG,MAAM,4CAAqB,EAAC,MAAM,CAAC,CAAC;YAC/C,OAAO;SACR;QACD,IAAI,aAAa,KAAK,gCAAa,CAAC,SAAS,EAAE;YAC7C,GAAG,CAAC,IAAI,GAAG,0BAAc,CAAC,gBAAgB,CAAC,oCAAa,EAAC,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,QAAQ,CAAC,CAAC,CAAC;YAC5E,OAAO;SACR;KACF;IAAC,OAAO,GAAG,EAAE;QACZ,YAAM,CAAC,KAAK,CAAC,0BAA0B,GAAG,GAAG,CAAC,CAAC;QAC/C,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,GAAG,CACR,MAAM,EACN,wBAAU,EAAC,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,EACzC,uBAAS,EAAC;IACR,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE;CACjG,CAAC,EACF,KAAK,EAAE,GAA6B,EAAE,EAAE;IACtC,MAAM,QAAQ,GAAG,oCAAa,EAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;IACnE,MAAM,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;IAC9C,MAAM,QAAQ,GAAG,GAAG,kBAAkB,CACpC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,CACjC,kCAAkC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,eAC3D,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,UACpB,WAAW,CAAC;IACZ,IAAI,0BAAc,CAAC,cAAc,CAAC,QAAQ,EAAE,KAAK,CAAC,EAAE;QAClD,YAAM,CAAC,IAAI,CAAC,kDAAkD,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;QAC3F,mCAAY,EAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;QAC5B,OAAO,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;KAC/B;SAAM;QACL,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,CAAC,CAAC,CAAC;KAC1C;AACH,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,IAAI,CACT,uBAAuB,EACvB,wBAAU,EAAC,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,EACzC,uBAAS,EAAC;IACR,IAAI,EAAE;QACJ,SAAS,EAAE,MAAM;QACjB,QAAQ,EAAE,MAAM;QAChB,IAAI,EAAE,MAAM;KACb;CACF,CAAC,EACF,KAAK,EAAE,GAAG,EAAE,EAAE;;IACZ,MAAM,OAAO,GAAG,uBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,OAAO,KAAI,EAAE,CAAC;IAC5C,MAAM,YAAY,GAAG,uBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,YAAY,KAAI,EAAE,CAAC;IACtD,MAAM,SAAS,GAAG,sCAAQ,EAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,mCAAI,CAAC,CAAC;IAC5D,MAAM,QAAQ,GAAG,oCAAM,EAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,mCAAI,EAAE,CAAC;IACzD,MAAM,IAAI,GAAG,oCAAM,EAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,mCAAI,EAAE,CAAC;IAEjD,WAAW;IACX,MAAM,UAAU,GAAG,oCAAM,EAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,mCAAI,EAAE,CAAC;IAC7D,MAAM,QAAQ,GAAG,oCAAM,EAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,mCAAI,EAAE,CAAC;IAEzD,MAAM,QAAQ,GAAG,MAAM,0BAAe,EAAC,OAAO,IAAI,EAAE,EAAE,KAAK,IAAI,EAAE;QAC/D,2CAA2C;QAC3C,MAAM,WAAW,GAAG,MAAM,uCAAgB,EACxC,OAAO,EACP,YAAY,EACZ,SAAS,EACT,QAAQ,EACR,IAAI,EACJ,KAAK,CACN,CAAC;QAEF,MAAM,KAAK,GAAG,WAAW,aAAX,WAAW,uBAAX,WAAW,CAAE,KAAK,CAAC;QACjC,IAAI,CAAC,KAAK,IAAI,CAAC,YAAW,aAAX,WAAW,uBAAX,WAAW,CAAE,OAAO,GAAE;YACnC,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,CAAC,CAAC,CAAC;SAC1C;QAED,MAAM,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,OAAO,CAEhD,CAAC;QAEF,YAAM,CAAC,IAAI,CAAC,iDAAiD,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;QAE5F,IAAI,CAAC,MAAM,IAAI,CAAC,SAAS,EAAE;YACzB,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,CAAC,CAAC,CAAC;SAC1C;QAED,MAAM,MAAM,GAAG;YACb,WAAW,EAAE,SAAS;YACtB,OAAO,EAAE,MAAM;YACf,QAAQ,EAAE,QAAQ;YAClB,OAAO,EAAE,QAAQ;YACjB,KAAK,EAAE,KAAK;YACZ,WAAW,EAAE,UAAU;YACvB,IAAI,EAAE,IAAI;SACX,CAAC;QAEF,IAAI;YACF,OAAO,MAAM,yCAAkB,EAC7B,UAAU,CAAC,CAAC,CAAC,gCAAa,CAAC,KAAK,CAAC,CAAC,CAAC,gCAAa,CAAC,GAAG,EACpD,MAAM,EACN;gBACE,eAAe,EAAE,KAAK,IAAI,EAAE;oBAC1B,+BAA+B;oBAC/B,MAAM,uCAAgB,EAAC,OAAO,EAAE,YAAY,EAAE,SAAS,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;gBACjF,CAAC;aACF,CACF,CAAC;SACH;QAAC,OAAO,KAAK,EAAE;YACd,YAAM,CAAC,KAAK,CAAC,aAAE,EAAC,mBAAmB,CAAC,EAAE,KAAK,CAAC,CAAC;YAE7C,MAAM,KAAK,CAAC;SACb;IACH,CAAC,CAAC,CAAC;IAEH,GAAG,CAAC,IAAI,GAAG,QAAQ,CAAC;AACtB,CAAC,CACF,CAAC;AACF,qBAAe,MAAM,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjKtB,qEAAiC;AACjC,qEAAyE;AACzE,+DAAsC;AACtC,8DAA6B;AAC7B,qEAAiD;AACjD,gGAAkD;AAClD,8FAAgD;AAChD,wFAA4F;AAC5F,wFAA8D;AAC9D,wFAA0D;AAC1D,wEAA+C;AAC/C,4FAA4F;AAC5F,kGAAqF;AACrF,qGAA+D;AAC/D,8DAA0C;AAE1C,MAAM,MAAM,GAAG,IAAI,gBAAM,CAAC,EAAE,MAAM,EAAE,qBAAqB,EAAE,CAAC,CAAC;AAE7D,6CAA6C;AAC7C,MAAM,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;IAC7B,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC5C,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAC5C,MAAM,QAAQ,GAAG,kCAAW,EAAC,GAAG,CAAC,CAAC;IAClC,IAAI,6CAAoB,EAAC,QAAQ,EAAE,QAAQ,EAAE,YAAY,CAAC,EAAE;QAC1D,MAAM,IAAI,EAAE,CAAC;KACd;SAAM;QACL,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;QACjB,GAAG,CAAC,IAAI,GAAG,aAAE,EAAC,uCAAuC,CAAC,CAAC;KACxD;AACH,CAAC,CAAC,CAAC;AAEH,yBAAyB;AACzB,0BAA0B;AAC1B,MAAM,CAAC,GAAG,CACR,OAAO,EACP,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,CAAC,EACxD,KAAK,EAAE,GAAG,EAAE,EAAE;;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,eAAe,EAAE;YAC7E,aAAa,EAAE,CAAC,YAAY,CAAC;SAC9B,CAAC,CAAC;QACH,kCAAe,CAAC,GAAG,CAAC,gBAAgB,EAAE;YACpC,SAAS,EAAE,QAAQ;YACnB,WAAW,EAAE,YAAY;YACzB,WAAW,EAAE,GAAG,CAAC,EAAE;YACnB,aAAa,EAAE,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC;YACxC,aAAa,EAAE,kBAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,SAAS,0CAAG,CAAC,CAAC,0CAAE,QAAQ;SAChD,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,IAAI,GAAG,YAAY,0CAAyB,EAAE;YAC5C,GAAG,CAAC,IAAI,GAAG,EAAE,CAAC;YACd,OAAO;SACR;QACD,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,gCAAgC;AAChC,MAAM,CAAC,GAAG,CACR,OAAO,EACP,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,CAAC,EACxD,KAAK,EAAE,GAAG,EAAE,EAAE;;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,eAAe,EAAE;YAC7E,aAAa,EAAE,CAAC,YAAY,CAAC;SAC9B,CAAC,CAAC;QACH,kCAAe,CAAC,GAAG,CAAC,eAAe,EAAE;YACnC,SAAS,EAAE,QAAQ;YACnB,WAAW,EAAE,YAAY;YACzB,WAAW,EAAE,GAAG,CAAC,EAAE;YACnB,aAAa,EAAE,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC;YACxC,aAAa,EAAE,kBAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,SAAS,0CAAG,CAAC,CAAC,0CAAE,QAAQ;SAChD,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,yCAAyC;AACzC,0HAA0H;AAC1H,MAAM,CAAC,GAAG,CACR,UAAU,EACV,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,EAAE,CAAC,EACzE,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,OAAO,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QAC1C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,kBAAkB,EAAE;YAChF,YAAY;YACZ,OAAO;SACR,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,uBAAuB;AACvB,MAAM,CAAC,GAAG,CACR,UAAU,EACV,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,CAAC,EACxD,KAAK,EAAE,GAAG,EAAE,EAAE;;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,kBAAkB,EAAE;YAChF,aAAa,EAAE,CAAC,YAAY,CAAC;SAC9B,CAAC,CAAC;QACH,kCAAe,CAAC,GAAG,CAAC,kBAAkB,EAAE;YACtC,SAAS,EAAE,QAAQ;YACnB,WAAW,EAAE,YAAY;YACzB,WAAW,EAAE,GAAG,CAAC,EAAE;YACnB,aAAa,EAAE,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC;YACxC,aAAa,EAAE,kBAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,SAAS,0CAAG,CAAC,CAAC,0CAAE,QAAQ;SAChD,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,yBAAyB;AACzB,MAAM,CAAC,GAAG,CACR,OAAO,EACP,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,CAAC,EACxD,KAAK,EAAE,GAAG,EAAE,EAAE;;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,eAAe,EAAE;YAC7E,aAAa,EAAE,CAAC,YAAY,CAAC;SAC9B,CAAC,CAAC;QACH,kCAAe,CAAC,OAAO,CAAC,eAAe,EAAE;YACvC,SAAS,EAAE,QAAQ;YACnB,WAAW,EAAE,YAAY;YACzB,WAAW,EAAE,GAAG,CAAC,EAAE;YACnB,aAAa,EAAE,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC;YACxC,aAAa,EAAE,kBAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,SAAS,0CAAG,CAAC,CAAC,0CAAE,QAAQ;SAChD,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,0BAA0B;AAC1B,MAAM,CAAC,IAAI,CACT,eAAe,EACf,sBAAU,EAAC,CAAC,CAAC,EACb,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC;IACR,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE;IAC5D,IAAI,EAAE,EAAE;CACT,CAAC,EACF,KAAK,EAAE,GAAG,EAAE,EAAE;;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,WAAW,EAAE,CAAC,IAAI,EAAE,CAAC;QAClE,MAAM,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC;QAEnC,8DAA8D;QAC9D,MAAM,qBAAqB,GAAG,CAAC,eAAe,CAAC,CAAC;QAChD,IACE,qBAAqB,CAAC,QAAQ,CAAC,QAAQ,CAAC;YACxC,CAAC,8CAAqB,EAAC,SAAG,CAAC,OAAO,0CAAG,MAAM,CAAC,CAAC,EAC7C;YACA,MAAM,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAC;SACnC;QAED,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,uBAAuB,EAAE;YACrF,YAAY;YACZ,QAAQ;YACR,SAAS;SACV,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,4BAA4B;AAC5B,MAAM,CAAC,GAAG,CACR,oBAAoB,EACpB,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC;IACR,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE;CAC1C,CAAC,EACF,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC;QACnC,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,qFAAqF;QACrF,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,4BAA4B,EAAE;YAC1F,YAAY;YACZ,SAAS;SACV,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,iCAAiC;AACjC,MAAM,CAAC,GAAG,CACR,qBAAqB,EACrB,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,EACpD,uBAAS,EAAC;IACR,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE;CAC1C,CAAC,EACF,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QAC7C,MAAM,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC;QACnC,MAAM,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;QAChC,0DAA0D;QAC1D,IAAI,CAAC,MAAM,IAAI,CAAC,8CAAqB,EAAC,kCAAW,EAAC,GAAG,CAAC,CAAC,EAAE;YACvD,MAAM,IAAI,KAAK,CAAC,qBAAqB,CAAC,CAAC;SACxC;QACD,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,GAAG,CAAC,IAAI,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,6BAA6B,EAAE;YACvF,YAAY;YACZ,QAAQ;YACR,SAAS;SACV,CAAC,CAAC;KACJ;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,uEAAuE;AACvE,MAAM,CAAC,IAAI,CACT,iBAAiB,EACjB,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,CAAC,EACxD,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,IAAI,CAAC,aAAa;YAAE,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,CAAC,GAAG,eAAe,QAAQ,EAAE,CAAC,CAAC;QACzF,MAAM,IAAI,GAAG,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC;QACvC,MAAM,MAAM,GAAG,aAAa,CAAC,MAAM,CAAC,MAAM,CAAC;QAC3C,MAAM,cAAc,GAAG,aAAa,CAAC,MAAM,CAAC,0BAA0B,EAAE,CAAC;QACzE,MAAM,QAAQ,GAAG,uBAAQ,GAAE,CAAC;QAC5B,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,mBAAmB,EAAE;YAClE,IAAI,EAAE,gBAAgB;YACtB,QAAQ,EAAE,QAAQ;YAClB,SAAS,EAAE;gBACT,YAAY;aACb;SACF,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG;YACT,QAAQ;YACR,IAAI;YACJ,MAAM;YACN,cAAc;SACf,CAAC;KACH;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,kEAAkE;AAClE,MAAM,CAAC,IAAI,CACT,sBAAsB,EACtB,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,CAAC,EACxD,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,KAAK,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC;QACrC,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAC3D,8BAA8B,EAC9B;YACE,YAAY;YACZ,KAAK;SACN,CACF,CAAC;QACF,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,sDAAsD;AACtD,MAAM,CAAC,GAAG,CACR,sBAAsB,EACtB,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,EAAE,CAAC,EAC1E,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACpC,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAC3D,8BAA8B,EAC9B;YACE,YAAY;YACZ,QAAQ;YACR,MAAM,EAAE,IAAI;YACZ,IAAI;SACL,CACF,CAAC;QACF,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,yDAAyD;AACzD,MAAM,CAAC,GAAG,CACR,sBAAsB,EACtB,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,EAAE,CAAC,EAC1E,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACpC,MAAM,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC;QAChC,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAC3D,8BAA8B,EAC9B;YACE,YAAY;YACZ,QAAQ;YACR,MAAM;YACN,IAAI;SACL,CACF,CAAC;QACF,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,iEAAiE;AACjE,MAAM,CAAC,GAAG,CACR,kBAAkB,EAClB,sBAAU,EAAC,CAAC,CAAC,EACb,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC;IACR,KAAK,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE;IACzC,IAAI,EAAE,EAAE;CACT,CAAC,EACF,KAAK,EAAE,GAAG,EAAE,EAAE;;IACZ,IAAI;QACF,mEAAmE;QACnE,6EAA6E;QAC7E,MAAM,QAAQ,GAAG,8BAAM,EAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,8BAAM,EAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC;QAEhC,IAAI,YAAY,GAAoB,IAAI,CAAC;QAEzC,IAAI,MAAM,CAAC,GAAG,YAAY,KAAK,IAAI,8CAAqB,EAAC,kCAAW,EAAC,GAAG,CAAC,CAAC,EAAE;YAC1E,YAAY,GAAI,MAAM,CAAC,GAAa,CAAC,GAAG,CAAC,CAAC,GAAQ,EAAE,EAAE;gBACpD,MAAM,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC;gBAC/B,IAAI,GAAG,CAAC,MAAM,GAAG,EAAE;oBAAE,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,kBAAkB,CAAC,CAAC,CAAC;gBAC7D,OAAO,GAAG,CAAC;YACb,CAAC,CAAC,CAAC;YACH,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC3B,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,CAAC,CAAC,CAAC;aAC1C;YACD,YAAY,GAAG,YAAa,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SAC/D;QAED,2BAA2B;QAC3B,MAAM,MAAM,GAAG,8BAAM,EAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,QAAQ,GAAG,gCAAQ,EAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QAC3C,MAAM,YAAY,GAAG,8BAAM,EAAC,MAAM,CAAC,YAAY,CAAC,CAAC;QACjD,MAAM,UAAU,GAAG,iCAAS,EAAC,MAAM,CAAC,UAAU,CAAC,CAAC;QAEhD,8BAA8B;QAC9B,MAAM,UAAU,GAAG;YACjB,EAAE,EAAE,8BAAM,EAAC,YAAM,CAAC,UAAU,0CAAE,EAAE,CAAC;YACjC,IAAI,EAAE,gCAAQ,EAAC,YAAM,CAAC,UAAU,0CAAE,IAAI,CAAC;YACvC,IAAI,EAAE,YAAM,CAAC,UAAU,0CAAE,IAAI;SAC9B,CAAC;QAEF,2BAA2B;QAC3B,MAAM,SAAS,GAAG;YAChB,SAAS,EAAE,iCAAS,EAAC,YAAM,CAAC,SAAS,0CAAE,SAAS,CAAC;YACjD,WAAW,EAAE,iCAAS,EAAC,YAAM,CAAC,SAAS,0CAAE,WAAW,CAAC;YACrD,mBAAmB,EAAE,gCAAQ,EAAC,YAAM,CAAC,SAAS,0CAAE,mBAAmB,CAAC;SACrE,CAAC;QAEF,wBAAwB;QACxB,MAAM,cAAc,GAAG;YACrB,SAAS,EAAE,iCAAS,EAAC,YAAM,CAAC,cAAc,0CAAE,SAAS,CAAC;YACtD,GAAG,EAAE,iCAAS,EAAC,YAAM,CAAC,cAAc,0CAAE,GAAG,CAAC;YAC1C,YAAY,EAAE,gCAAQ,EAAC,YAAM,CAAC,cAAc,0CAAE,YAAY,CAAC;YAC3D,YAAY,EAAE,gCAAQ,EAAC,YAAM,CAAC,cAAc,0CAAE,YAAY,CAAC;SAC5D,CAAC;QAEF,gBAAgB;QAChB,MAAM,kBAAkB,GAAG;YACzB,eAAe,EAAE,8BAAM,EAAC,YAAM,CAAC,kBAAkB,0CAAE,eAAe,CAAC;YACnE,YAAY,EAAE,8BAAM,EAAC,YAAM,CAAC,kBAAkB,0CAAE,YAAY,CAAC;SAC9D,CAAC;QAEF,MAAM,IAAI,GAAG,CAAC,+BAAO,EAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,gCAAQ,EAAC,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QACnE,MAAM,EAAE,GAAG,CAAC,+BAAO,EAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,8BAAM,EAAC,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QAC3D,MAAM,EAAE,GAAG,CAAC,+BAAO,EAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,8BAAM,EAAC,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QAC3D,MAAM,QAAQ,GAAG,8BAAM,EAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QACzC,MAAM,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,8BAAM,EAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QAC3E,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,IAAI,EAAE,CAAC,CAAC;QACzE,MAAM,eAAe,GAAG,8CAAqB,EAAC,kCAAW,EAAC,GAAG,CAAC,CAAC,CAAC;QAEhE,IAAI,cAAc,GAAG,EAAE,CAAC;QACxB,cAAc,GAAG,kDAA2B,EAAC,MAAM,EAAE,eAAe,CAAC,CAAC;QAEtE,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,iBAAiB,EAAE;YAC1D,YAAY;YACZ,MAAM,EAAE;gBACN,UAAU,EAAE,CAAC,+BAAO,EAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI;gBAC3D,SAAS,EAAE,CAAC,+BAAO,EAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI;gBACxD,cAAc,EAAE,CAAC,+BAAO,EAAC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI;gBACvE,kBAAkB,EAAE,CAAC,+BAAO,EAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC,IAAI;gBACnF,IAAI;gBACJ,EAAE;gBACF,EAAE;gBACF,WAAW;gBACX,MAAM;gBACN,QAAQ;gBACR,YAAY;gBACZ,UAAU;gBACV,GAAG,EAAE,YAAY;gBACjB,QAAQ;gBACR,GAAG,cAAc;aAClB;SACF,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC;KACjB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,sCAAsC;AACtC,MAAM,CAAC,GAAG,CACR,YAAY,EACZ,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,EACnD,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,CAAC,EACxD,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,IAAI,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,oBAAoB,EAAE;YAChF,YAAY;SACb,CAAC,CAAC;QACH,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE;YAClB,IAAI,IAAI,EACN,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC;YAC3B,IAAI,OAAO,YAAY,KAAK,EAAE;gBAC5B,OAAO,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;aACtB;YACD,IAAI,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC;YACzB,IAAI,OAAO,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBACxC,IAAI,IAAI,IAAI,CAAC;aACd;YACD,IAAI,MAAM,CAAC,MAAM,GAAG,IAAI,EAAE;gBACxB,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC;aAC9B;SACF;QACD,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,yBAAyB;AACzB,MAAM,CAAC,IAAI,CACT,mBAAmB,EACnB,sBAAU,EAAC,CAAC,CAAC,EACb,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,EAClD,uBAAS,EAAC;IACR,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE;IACzC,IAAI,EAAE,EAAE,WAAW,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE;CAC7C,CAAC,EACF,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI,uBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,cAAc,MAAK,KAAK,IAAI,CAAC,8CAAqB,EAAC,kCAAW,EAAC,GAAG,CAAC,CAAC,EAAE;QACtF,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;QACjB,GAAG,CAAC,IAAI,GAAG,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,CAAC,CAAC,CAAC;QAC9C,OAAO;KACR;IACD,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAE5C,8CAA8C;QAC9C,0EAA0E;QAC1E,MAAM,WAAW,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACzD,MAAM,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAE7C,MAAM,SAAS,GAAG,sBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,cAAc,CAAC;QAC/C,IAAI,CAAC,SAAS;YAAE,MAAM,IAAI,KAAK,CAAC,uBAAuB,CAAC,CAAC;QAEzD,MAAM,YAAY,GAAG,MAAM,uCAAgB,GAAE,CAAC;QAC9C,MAAM,QAAQ,GAAG,aAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,QAAQ,KAAI,EAAE,CAAC;QAE9C,IAAI,CAAC,CAAC,QAAQ,YAAY,KAAK,CAAC;YAAE,MAAM,IAAI,KAAK,CAAC,6BAA6B,CAAC,CAAC;QAEjF,gCAAgC;QAChC,MAAM,kBAAkB,GAAG,QAAQ,CAAC,IAAI,CACtC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,KAAK,KAAK,KAAK,IAAI,CAAC,CAAC,WAAW,KAAK,WAAW,CAC1D,CAAC;QACF,IAAI,CAAC,kBAAkB;YAAE,MAAM,IAAI,KAAK,CAAC,6BAA6B,CAAC,CAAC;QAExE,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,uBAAuB,EAAE;YAChE,QAAQ,EAAE,kBAAkB;YAC5B,YAAY;YACZ,SAAS,EAAE,kBAAkB;SAC9B,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC;KACjB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,qBAAe,MAAM,CAAC;;;;;;;;;;;;;AClkBtB,qEAAiC;AACjC,+DAAsC;AACtC,gGAAkD;AAClD,qGAAsD;AACtD,qGAA+D;AAE/D,MAAM,MAAM,GAAG,IAAI,gBAAM,CAAC,EAAE,MAAM,EAAE,eAAe,EAAE,CAAC,CAAC;AAEvD,8DAA6B;AAC7B,qEAAiD;AACjD,8FAAgD;AAChD,wFAA0D;AAC1D,4FAAqE;AAErE,MAAM,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;IAC7B,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAC5C,MAAM,UAAU,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;IAChD,MAAM,QAAQ,GAAG,kCAAW,EAAC,GAAG,CAAC,CAAC;IAClC,IAAI,6CAAoB,EAAC,QAAQ,EAAE,QAAQ,EAAE,UAAU,CAAC,EAAE;QACxD,MAAM,IAAI,EAAE,CAAC;KACd;SAAM;QACL,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,CAAC,CAAC,CAAC;KAC1C;AACH,CAAC,CAAC,CAAC;AAEH,MAAM,CAAC,GAAG,CACR,OAAO,EACP,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,EAAE,CAAC,EAC9D,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAC5C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;IACnE,MAAM,QAAQ,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;IACrF,GAAG,CAAC,IAAI,GAAG,QAAQ,CAAC;AACtB,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,IAAI,CACT,WAAW,EACX,sBAAU,EAAC,CAAC,CAAC,EACb,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EACjC,uBAAS,EAAC;IACR,KAAK,EAAE;QACL,QAAQ,EAAE,MAAM;QAChB,UAAU,EAAE,MAAM;KACnB;IACD,IAAI,EAAE;QACJ,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE,MAAM;KAChB;CACF,CAAC,EACF,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAC5C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;IACnE,MAAM,QAAQ,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,uBAAuB,EAAE;QACvF,IAAI,EAAE,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI;QAC3B,OAAO,EAAE,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO;KAClC,CAAC,CAAC;IACH,GAAG,CAAC,IAAI,GAAG,QAAQ,CAAC;AACtB,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,IAAI,CACT,QAAQ,EACR,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC;IACR,KAAK,EAAE;QACL,QAAQ,EAAE,MAAM;QAChB,UAAU,EAAE,MAAM;KACnB;IACD,IAAI,EAAE;QACJ,EAAE,EAAE,MAAM;KACX;CACF,CAAC,EACF,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAC5C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;IAEnE,MAAM,QAAQ,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,oBAAoB,EAAE;QACpF,UAAU,EAAE,GAAG,CAAC,KAAK,CAAC,UAAU;QAChC,EAAE,EAAE,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;KACxB,CAAC,CAAC;IACH,GAAG,CAAC,IAAI,GAAG,QAAQ,CAAC;AACtB,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,MAAM,CACX,SAAS,EACT,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EACjC,uBAAS,EAAC;IACR,KAAK,EAAE;QACL,QAAQ,EAAE,MAAM;KACjB;IACD,IAAI,EAAE;QACJ,EAAE,EAAE,MAAM;KACX;CACF,CAAC,EACF,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAC5C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;IAEnE,MAAM,QAAQ,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,qBAAqB,EAAE;QACrF,EAAE,EAAE,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;KACxB,CAAC,CAAC;IACH,GAAG,CAAC,IAAI,GAAG,QAAQ,CAAC;AACtB,CAAC,CACF,CAAC;AAEF,qBAAe,MAAM,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3GtB,qEAAiC;AACjC,8FAAgD;AAChD,gGAAkD;AAClD,wFAA6F;AAC7F,8DAA0C;AAC1C,8FAAqE;AACrE,8DAAwC;AACxC,8DAA6B;AAC7B,8DAA0B;AAC1B,qEAAmD;AACnD,+DAAsC;AAEtC,wFAA8D;AAE9D,MAAM,MAAM,GAAG,IAAI,gBAAM,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,CAAC;AAE/C,sBAAsB;AACtB,cAAc;AACd,MAAM,CAAC,IAAI,CACT,QAAQ,EACR,wBAAU,EAAC,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,EACzC,uBAAS,EAAC,EAAE,IAAI,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,EAAE,CAAC,EAC3D,KAAK,EAAE,GAA6B,EAAE,EAAE;IACtC,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACnD,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACnD,MAAM,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC3C,IAAI,CAAC,iCAAU,EAAC,GAAG,CAAC;QAAE,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,2BAA2B,CAAC,CAAC,CAAC;IACvE,IAAI,4BAAK,EAAC,GAAG,CAAC;QAAE,OAAO,CAAC,GAAG,CAAC,IAAI,GAAG,SAAS,CAAC,CAAC;IAC9C,IAAI;QACF,GAAG,CAAC,IAAI,GAAG,4BAAK,EAAC,GAAG,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;QAChD,kCAAe,CAAC,IAAI,CAAC,YAAY,EAAE;YACjC,WAAW,EAAE,GAAG,CAAC,EAAE;YACnB,aAAa,EAAE,QAAQ;YACvB,YAAY,EAAE,IAAI;SACnB,CAAC,CAAC;KACJ;IAAC,OAAO,KAAU,EAAE;QACnB,IAAI,KAAK,YAAY,6BAAc,IAAI,CAAC,IAAI,EAAE;YAC5C,GAAG,CAAC,IAAI,GAAG,UAAU,CAAC;YACtB,OAAO;SACR;QACD,GAAG,CAAC,IAAI,GAAG,KAAK,CAAC;QACjB,kCAAe,CAAC,OAAO,CAAC,YAAY,EAAE;YACpC,WAAW,EAAE,GAAG,CAAC,EAAE;YACnB,aAAa,EAAE,QAAQ;YACvB,YAAY,EAAE,KAAK;SACpB,CAAC,CAAC;KACJ;AACH,CAAC,CACF,CAAC;AAEF,sBAAsB;AACtB,aAAa;AACb,MAAM,CAAC,GAAG,CACR,SAAS,EACT,wBAAU,EAAC,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,EAC5D,KAAK,EAAE,GAA6B,EAAE,EAAE;IACtC,6BAAM,EAAC,GAAG,CAAC,CAAC;IACZ,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC;AAClB,CAAC,CACF,CAAC;AAEF,sBAAsB;AACtB,0CAA0C;AAC1C,MAAM,CAAC,GAAG,CACR,aAAa,EACb,wBAAU,EAAC,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,EAC5D,KAAK,EAAE,GAA6B,EAAE,EAAE;IACtC,GAAG,CAAC,IAAI,GAAG;QACT,SAAS,EAAE,sBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,SAAS;KACnC,CAAC;AACJ,CAAC,CACF,CAAC;AAEF,sBAAsB;AACtB,sDAAsD;AACtD,MAAM,CAAC,GAAG,CACR,SAAS,EACT,wBAAU,EAAC,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,EAC5D,KAAK,EAAE,GAA6B,EAAE,EAAE;IACtC,IAAI,SAAS,GAAG,IAAI,CAAC;IACrB,IAAI,sBAAU,CAAC,OAAO,CAAC,IAAI,KAAK,CAAC,EAAE;QACjC,SAAS,GAAG,KAAK,CAAC;KACnB;IACD,GAAG,CAAC,IAAI,GAAG;QACT,aAAa,EAAE,kCAAc,CAAC,GAAG,CAAC,eAAe,EAAE,IAAI,CAAC;QACxD,SAAS;QACT,QAAQ,EAAE,uBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,QAAQ,KAAI,IAAI;QACxC,QAAQ,EAAE;YACR,cAAc,EAAE,uBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,cAAc,KAAI,KAAK;YACrD,cAAc,EAAE,uBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,cAAc,KAAI,KAAK;YACrD,YAAY,EAAE,uBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,YAAY,KAAI,KAAK;YACjD,UAAU,EAAE,uBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,UAAU,KAAI,IAAI;YAC5C,cAAc,EAAE,uBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,cAAc,KAAI,KAAK;YACrD,OAAO,EAAE,uBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,OAAO,KAAI,IAAI;SACd;KAC3B,CAAC;AACJ,CAAC,CACF,CAAC;AAEF,sBAAsB;AACtB,0EAA0E;AAC1E,MAAM,CAAC,GAAG,CACR,UAAU,EACV,wBAAU,EAAC,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,EACzC,uBAAS,EAAC,EAAE,IAAI,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,EAAE,CAAC,EAC3D,KAAK,EAAE,GAA6B,EAAE,EAAE;IACtC,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACnD,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACnD,IAAI,sBAAU,CAAC,OAAO,CAAC,IAAI,KAAK,CAAC,EAAE;QACjC,IAAI,CAAC,sBAAU,CAAC,gBAAgB,CAAC,QAAQ,CAAC;YACxC,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,oCAAoC,CAAC,CAAC,CAAC;QAC5D,YAAM,CAAC,IAAI,CAAC,aAAE,EAAC,4BAA4B,EAAE,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC;QAC5D,MAAM,sBAAU,CAAC,MAAM,CAAC;YACtB,QAAQ;YACR,QAAQ;YACR,UAAU,EAAE,EAAE;SACf,CAAC,CAAC;QACH,kCAAe,CAAC,GAAG,CAAC,aAAa,EAAE;YACjC,WAAW,EAAE,GAAG,CAAC,EAAE;YACnB,aAAa,EAAE,QAAQ;YACvB,gBAAgB,EAAE,QAAQ;SAC3B,CAAC,CAAC;QACH,4BAAK,EAAC,GAAG,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;QAC/B,OAAO,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC;KAC1B;IACD,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,gCAAgC,CAAC,CAAC,CAAC;AACxD,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,GAAG,CACR,QAAQ,EACR,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,EAAE,CAAC,EACxC,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EACjC,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,eAAK,CAAC,OAAO,CAAC;YACnC,MAAM,EAAG,GAAG,CAAC,KAAK,CAAC,MAAiB,IAAI,GAAG,CAAC,MAAM;YAClD,GAAG,EAAE,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC;SAC9B,CAAC,CAAC;QACH,IAAI,QAAQ,CAAC,MAAM,KAAK,GAAG;YAAE,MAAM,IAAI,KAAK,CAAC,sBAAsB,CAAC,CAAC;QACrE,GAAG,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;KAC1B;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,qBAAe,MAAM,CAAC;;;;;;;;;;;;;ACnJtB,qEAAiC;AACjC,gGAAkD;AAClD,8FAAgD;AAChD,wFAAuD;AACvD,iGAAiD;AACjD,8DAA6B;AAC7B,+DAAsC;AACtC,wFAA8D;AAG9D,MAAM,MAAM,GAAG,IAAI,gBAAM,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,CAAC;AAE/C,WAAW;AACX,MAAM,CAAC,IAAI,CACT,GAAG,EACH,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EACjC,uBAAS,EAAC,EAAE,IAAI,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,EAAE,CAAC,EAC/E,KAAK,EAAE,GAA6B,EAAE,EAAE;;IACtC,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACnD,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACnD,MAAM,UAAU,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IACvD,IAAI,CAAC,sBAAU,CAAC,gBAAgB,CAAC,QAAQ,CAAC;QACxC,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,sCAAsC,CAAC,CAAC,CAAC;IAC9D,IAAI,sBAAU,CAAC,aAAa,CAAC,QAAQ,CAAC;QACpC,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,qCAAqC,CAAC,CAAC,CAAC;IAC7D,kCAAe,CAAC,GAAG,CAAC,aAAa,EAAE;QACjC,WAAW,EAAE,GAAG,CAAC,EAAE;QACnB,aAAa,EAAE,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC;QACxC,gBAAgB,EAAE,QAAQ;KAC3B,CAAC,CAAC;IACH,GAAG,CAAC,IAAI,GAAG,MAAM,+BAAQ,EAAC,GAAG,EAAE,QAAQ,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC;AACjE,CAAC,CACF,CAAC;AAEF,cAAc;AACd,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,GAA6B,EAAE,EAAE;;IACzF,MAAM,KAAK,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC;IAC/B,IAAI;QACF,KAAK,MAAM,QAAQ,IAAI,KAAK,EAAE;YAC5B,MAAM,IAAI,GAAG,sBAAU,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAChD,kCAAe,CAAC,GAAG,CACjB,aAAa,EACb;gBACE,WAAW,EAAE,GAAG,CAAC,EAAE;gBACnB,aAAa,EAAE,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC;gBACxC,gBAAgB,EAAE,KAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,QAAQ,KAAI,SAAS;aAC9C,EACD,SAAS,CACV,CAAC;YACF,MAAM,sBAAU,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;SAC3C;QACD,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC;KACjB;IAAC,OAAO,KAAU,EAAE;QACnB,GAAG,CAAC,KAAK,CAAC,GAAG,EAAE,aAAE,EAAC,oCAAoC,CAAW,CAAC,CAAC;KACpE;AACH,CAAC,CAAC,CAAC;AAEH,uBAAuB;AACvB,MAAM,CAAC,GAAG,CACR,SAAS,EACT,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EACjC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE,EAAE,CAAC,EACzD,KAAK,EAAE,GAA6B,EAAE,EAAE;IACtC,sEAAsE;IACtE,MAAM,QAAQ,GAAG,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACtE,MAAM,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC1D,MAAM,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzC,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;IAEnD,MAAM,SAAS,GAAQ,EAAE,CAAC;IAC1B,IAAI,QAAQ,IAAI,QAAQ,KAAK,WAAW;QAAE,SAAS,CAAC,UAAU,CAAC,GAAG,IAAI,QAAQ,GAAG,CAAC;IAClF,IAAI,IAAI,IAAI,IAAI,KAAK,WAAW,IAAI,IAAI,KAAK,MAAM;QAAE,SAAS,CAAC,YAAY,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;IAC5F,IAAI,UAAU,GAAG,sBAAU,CAAC,eAAe,EAAE,CAAC,UAAU,CAAC,SAAS,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;IACpF,gCAAgC;IAChC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;IACpD,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;QAC5B,CAAC,CAAC,QAAQ,GAAG,EAAE,CAAC;QAChB,CAAC,CAAC,IAAI,GAAG,EAAE,CAAC;IACd,CAAC,CAAC,CAAC;IACH,GAAG,CAAC,IAAI,GAAG,UAAU,CAAC;AACxB,CAAC,CACF,CAAC;AAEF,qBAAe,MAAM,CAAC;;;;;;;;;;;;;ACpFtB,qEAAiC;AACjC,+DAAsC;AACtC,8DAA6B;AAC7B,qEAA4E;AAC5E,gGAAkD;AAClD,8FAAgD;AAChD,8FAAmE;AACnE,wFAA6E;AAC7E,4FAAqE;AACrE,qGAAsD;AACtD,qGAA+D;AAC/D,8DAA0C;AAC1C,4DAA4C;AAE5C,MAAM,MAAM,GAAG,IAAI,gBAAM,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC;AAE9C,8BAA8B;AAC9B,MAAM,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;;IAC7B,IACE,GAAG,CAAC,IAAI,KAAK,kBAAkB;QAC/B,GAAG,CAAC,IAAI,KAAK,aAAa;QAC1B,GAAG,CAAC,IAAI,KAAK,WAAW;QACxB,GAAG,CAAC,IAAI,KAAK,iBAAiB,EAC9B;QACA,OAAO,MAAM,IAAI,EAAE,CAAC;KACrB;IAED,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,KAAI,SAAG,CAAC,OAAO,CAAC,IAAI,0CAAE,IAAI,EAAC,CAAC;IACtE,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,KAAI,SAAG,CAAC,OAAO,CAAC,IAAI,0CAAE,QAAQ,EAAC,CAAC;IAC1E,MAAM,QAAQ,GAAG,kCAAW,EAAC,GAAG,CAAC,CAAC;IAElC,oCAAoC;IACpC,IAAI,uBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,cAAc,MAAK,KAAK,IAAI,wCAAiB,EAAC,GAAG,CAAC,GAAG,EAAE,EAAE;QACzE,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;QACjB,GAAG,CAAC,IAAI,GAAG,IAAI,KAAK,CAAC,aAAE,EAAC,0BAA0B,CAAC,CAAC,CAAC;QACrD,OAAO;KACR;IAED,wBAAwB;IACxB,IAAI,YAAY,IAAI,QAAQ,EAAE;QAC5B,IAAI,6CAAoB,EAAC,QAAQ,EAAE,QAAQ,EAAE,YAAY,CAAC,EAAE;YAC1D,MAAM,IAAI,EAAE,CAAC;SACd;aAAM;YACL,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;YACjB,GAAG,CAAC,IAAI,GAAG,aAAE,EAAC,uCAAuC,CAAC,CAAC;SACxD;KACF;SAAM;QACL,MAAM,IAAI,EAAE,CAAC;KACd;AACH,CAAC,CAAC,CAAC;AAEH,MAAM,CAAC,GAAG,CAAC,cAAc,EAAE,sBAAU,EAAC,GAAG,CAAC,EAAE,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE;IAC1F,IAAI;QACF,MAAM,MAAM,GAAG,MAAM,uCAAiB,CAAC,oBAAoB,EAAE,CAAC;QAC9D,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CAAC,CAAC;AAEH,MAAM,CAAC,GAAG,CACR,OAAO,EACP,sBAAU,EAAC,GAAG,CAAC,EACf,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC;IACR,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE;CAC1C,CAAC,EACF,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACtD,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAC7E,MAAM,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QACvE,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,oBAAoB,EAAE;YAClF,YAAY;YACZ,IAAI;YACJ,QAAQ;YACR,MAAM,EAAE,MAAM,IAAI,EAAE;SACrB,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,GAAG,CACR,OAAO,EACP,sBAAU,EAAC,GAAG,CAAC,EACf,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC;IACR,KAAK,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE;CACxB,CAAC,EAEF,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACpC,MAAM,MAAM,GAAG,MAAM,uCAAiB,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC3D,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,GAAG,CACR,SAAS,EACT,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,qCAAyB,EAAC,oBAAoB,CAAC,EAC/C,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC;QAC5C,MAAM,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAC7C,MAAM,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;QAC5C,MAAM,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,CAAC;QACjD,MAAM,OAAO,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC;QAChD,MAAM,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,CAAC;QAC7C,MAAM,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,CAAC;QACjD,MAAM,WAAW,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,WAAW,IAAI,KAAK,CAAC,CAAC;QAE3D,IAAI,MAAM,GAAG,CAAC,IAAI,MAAM,GAAG,MAAM,EAAE;YACjC,MAAM,IAAI,KAAK,CAAC,qCAAqC,CAAC,CAAC;SACxD;QACD,IAAI,KAAK,GAAG,CAAC,IAAI,KAAK,GAAG,EAAE,EAAE;YAC3B,MAAM,IAAI,KAAK,CAAC,gCAAgC,CAAC,CAAC;SACnD;QAED,MAAM,MAAM,GAAG,MAAM,uCAAiB,CAAC,cAAc,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE;YAC1E,MAAM;YACN,OAAO;YACP,IAAI;YACJ,MAAM;YACN,WAAW;SACZ,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,GAAG,CACR,WAAW,EACX,sBAAU,EAAC,CAAC,CAAC,EACb,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC;IACR,KAAK,EAAE,EAAE,SAAS,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE;CAC7C,CAAC,EACF,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,SAAS,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QAC9C,MAAM,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,IAAI,UAAU,CAAC,CAAC;QACtD,MAAM,MAAM,GAAG,MAAM,uCAAiB,CAAC,kBAAkB,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;QAC7E,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,IAAI,CACT,WAAW,EACX,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,sBAAU,EAAC,CAAC,CAAC,EACb,qCAAyB,EAAC,sBAAsB,CAAC,EACjD,uBAAS,EAAC;IACR,IAAI,EAAE;QACJ,QAAQ,EAAE,MAAM;QAChB,IAAI,EAAE,MAAM;QACZ,GAAG,EAAE,MAAM;QACX,QAAQ,EAAE,MAAM;QAChB,WAAW,EAAE,MAAM;KACpB;CACF,CAAC,EACF,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,GAAG,EAAE,QAAQ,EAAE,WAAW,EAAE,WAAW,EAAE,SAAS,EAAE,GAC1E,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC;QAEnB,uCAAuC;QACvC,IAAI,CAAC,sBAAY,EAAC,GAAG,CAAC,EAAE;YACtB,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;YACjB,GAAG,CAAC,IAAI,GAAG,IAAI,KAAK,CAAC,uBAAuB,CAAC,CAAC;YAC9C,OAAO;SACR;QAED,mCAAmC;QACnC,IAAI,WAAW,IAAI,CAAC,sBAAY,EAAC,WAAW,CAAC,EAAE;YAC7C,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;YACjB,GAAG,CAAC,IAAI,GAAG,IAAI,KAAK,CAAC,gCAAgC,CAAC,CAAC;YACvD,OAAO;SACR;QAED,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,uBAAuB,EAAE;YACrF,YAAY,EAAE,IAAI;YAClB,GAAG;YACH,QAAQ;YACR,IAAI,EAAE,WAAW;YACjB,WAAW;YACX,SAAS;SACV,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,IAAI,CACT,gBAAgB,EAChB,sBAAU,EAAC,CAAC,CAAC,EACb,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC;IACR,IAAI,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE;CACzE,CAAC,EACF,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC;QACtE,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,IAAI,IAAI,KAAK,UAAU,EAAE;YACvB,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,oBAAoB,EAAE;gBAClF,YAAY,EAAE,IAAI;gBAClB,QAAQ;aACT,CAAC,CAAC;YACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;SACnB;aAAM;YACL,sEAAsE;YACtE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,aAAa,EAAE;gBAC3E,YAAY,EAAE,IAAI;gBAClB,OAAO,EAAE,CAAC,QAAQ,CAAC;aACpB,CAAC,CAAC;YACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;SACnB;KACF;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,GAAG,CACR,eAAe,EACf,sBAAU,EAAC,GAAG,CAAC,EACf,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC;IACR,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE;CACzF,CAAC,EACF,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,KAAK,CAAC;QAC5D,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;QAC3E,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,4BAA4B,EAAE;YAC1F,YAAY,EAAE,IAAI;YAClB,KAAK;YACL,IAAI;YACJ,QAAQ;SACT,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,IAAI,CACT,SAAS,EACT,sBAAU,EAAC,GAAG,CAAC,EACf,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC;IACR,IAAI,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE;CAC3D,CAAC,EACF,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC;QACtD,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,sBAAsB,EAAE;YACpF,YAAY,EAAE,IAAI;YAClB,QAAQ;SACT,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,IAAI,CACT,SAAS,EACT,sBAAU,EAAC,CAAC,CAAC,EACb,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC;IACR,IAAI,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE;CAC3D,CAAC,EACF,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC;QACtD,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnE,MAAM,MAAM,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,sBAAsB,EAAE;YACpF,YAAY,EAAE,IAAI;YAClB,QAAQ;SACT,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,IAAI,CACT,aAAa,EACb,sBAAU,EAAC,GAAG,CAAC,EACf,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC;IACR,IAAI,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE;CACxB,CAAC,EACF,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,MAAkB,CAAC;QACnD,MAAM,MAAM,GAAG,MAAM,uCAAiB,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;QAChE,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;KACnB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,qBAAe,MAAM,CAAC;;;;;;;;;;;;;ACxUtB,qEAAiC;AACjC,qEAA+D;AAC/D,wDAAoB;AACpB,+DAAsC;AACtC,gGAAkD;AAClD,wFAA8D;AAC9D,wFAKqC;AACrC,qGAAsD;AACtD,qGAA+D;AAC/D,+FAAyD;AACzD,8DAAgE;AAEhE,MAAM,MAAM,GAAG,IAAI,gBAAM,CAAC,EAAE,MAAM,EAAE,WAAW,EAAE,CAAC,CAAC;AAEnD,yBAAyB;AACzB,uDAAuD;AACvD,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE;IAC7E,yDAAyD;IACzD,MAAM,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC,wBAAsB,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC,CAAC,GAAG,CAC5E,KAAK,EAAE,CAAC,CAAC,EAAE,aAAa,CAAC,EAAE,EAAE;QAC3B,IAAI,UAAU,GAAQ,EAAE,CAAC;QACzB,IAAI;YACF,UAAU,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;SAC9E;QAAC,OAAO,GAAG,EAAE;YACZ,6CAA6C;SAC9C;QACD,+BAA+B;QAC/B,UAAU,CAAC,IAAI,GAAG,aAAa,CAAC,IAAI,CAAC;QACrC,UAAU,CAAC,EAAE,GAAG,aAAa,CAAC,MAAM,CAAC,EAAE,CAAC;QACxC,UAAU,CAAC,IAAI,GAAG,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC;QAC5C,UAAU,CAAC,MAAM,GAAG,aAAa,CAAC,MAAM,CAAC,MAAM,CAAC;QAChD,UAAU,CAAC,SAAS,GAAG,aAAa,CAAC,SAAS,CAAC;QAC/C,UAAU,CAAC,OAAO,GAAG,aAAa,CAAC,MAAM,CAAC,OAAO,CAAC;QAClD,UAAU,CAAC,cAAc,GAAG,aAAa,CAAC,MAAM,CAAC,cAAc,CAAC;QAChE,OAAO,UAAU,CAAC;IACpB,CAAC,CACF,CAAC;IAEF,MAAM,cAAc,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;IACvD,MAAM,QAAQ,GAAG,kCAAU,GAAE,CAAC;IAC9B,+DAA+D;IAC/D,MAAM,YAAY,GAA2B;QAC3C,OAAO,EAAE,wBAAU,GAAE;QACrB,sBAAsB,EAAE,oCAAsB,GAAE;QAChD,OAAO,EAAE;YACP,GAAG,EAAE,QAAQ,CAAC,UAAU;YACxB,MAAM,EAAE,OAAO,CAAC,WAAW,EAAE,CAAC,GAAG;YACjC,GAAG,EAAE,QAAQ,CAAC,GAAG;SAClB;QACD,MAAM,EAAE;YACN,OAAO,EAAE,kCAAc,CAAC,GAAG,CAAC,8BAAW,EAAE,CAAC,CAAC;YAC3C,aAAa,EAAE,kCAAc,CAAC,GAAG,CAAC,qCAAkB,EAAE,CAAC,CAAC;YACxD,MAAM,EAAE,kCAAc,CAAC,GAAG,CAAC,+BAAY,EAAE,CAAC,CAAC;YAC3C,WAAW,EAAE,kCAAc,CAAC,GAAG,CAAC,yCAAsB,EAAE,CAAC,CAAC;SAC3D;QACD,MAAM,EAAE;YACN,IAAI,EAAE,YAAE,CAAC,QAAQ,EAAE;YACnB,IAAI,EAAE,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE;YAC1B,QAAQ,EAAE,QAAQ,CAAC,QAAQ;YAC3B,OAAO,EAAE,QAAQ,CAAC,OAAO;YACzB,IAAI,EAAE,QAAQ,CAAC,IAAI;YACnB,OAAO,EAAE,YAAE,CAAC,OAAO,EAAE;YACrB,IAAI,EAAE,OAAO,CAAC,OAAO;YACrB,QAAQ,EAAE,QAAQ,CAAC,QAAQ;YAC3B,OAAO,EAAE,QAAQ,CAAC,OAAO;YACzB,QAAQ,EAAE,QAAQ,CAAC,QAAQ;YAC3B,OAAO,EAAE,QAAQ,CAAC,OAAO;YACzB,MAAM,EAAE,YAAE,CAAC,MAAM,EAAE;YACnB,GAAG,EAAE,QAAQ,CAAC,QAAQ;SACvB;QACD,KAAK,EAAE;YACL,MAAM,EAAE,qBAAmB,CAAC,mBAAmB,EAAE;YACjD,OAAO,EAAE,qBAAmB,CAAC,mBAAmB,EAAE;SACnD;QACD,WAAW,EAAE,wBAAsB,CAAC,KAAK,EAAE;QAC3C,MAAM,EAAE,cAAc;KACvB,CAAC;IAEF,GAAG,CAAC,IAAI,GAAG,YAAY,CAAC;AAC1B,CAAC,CAAC,CAAC;AAEH,yBAAyB;AACzB,0BAA0B;AAC1B,MAAM,CAAC,GAAG,CAAC,iBAAiB,EAAE,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE;;IAC7E,MAAM,KAAK,GAAG,CAAC,CAAC,UAAG,aAAH,GAAG,uBAAH,GAAG,CAAE,KAAK,0CAAE,KAAK,KAAI,EAAE,CAAC,CAAC;IAEzC,IAAI,KAAK,CAAC,KAAK,CAAC;QAAE,OAAO,GAAG,CAAC,KAAK,CAAC,GAAG,EAAE,2CAA2C,CAAC,CAAC;IAErF,IAAI,KAAK,IAAI,CAAC,IAAI,KAAK,GAAG,GAAG;QAC3B,OAAO,GAAG,CAAC,KAAK,CAAC,GAAG,EAAE,oDAAoD,CAAC,CAAC;IAE9E,GAAG,CAAC,IAAI,GAAG,MAAM,kCAAe,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AAC9C,CAAC,CAAC,CAAC;AAEH,qBAAe,MAAM,CAAC;;;;;;;;;;;;;ACnGtB,qEAAiC;AACjC,0DAA8C;AAC9C,+DAAsC;AACtC,8DAA6B;AAC7B,gGAAkD;AAClD,8FAAgD;AAChD,wFAA8D;AAC9D,wFAA0D;AAC1D,4FAAqE;AACrE,qGAAsD;AACtD,qGAA+D;AAC/D,MAAM,MAAM,GAAG,IAAI,gBAAM,CAAC,EAAE,MAAM,EAAE,qBAAqB,EAAE,CAAC,CAAC;AAE7D,6CAA6C;AAC7C,MAAM,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;IAC7B,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC5C,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAC5C,MAAM,QAAQ,GAAG,kCAAW,EAAC,GAAG,CAAC,CAAC;IAClC,IAAI,6CAAoB,EAAC,QAAQ,EAAE,QAAQ,EAAE,YAAY,CAAC,EAAE;QAC1D,MAAM,IAAI,EAAE,CAAC;KACd;SAAM;QACL,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;QACjB,GAAG,CAAC,IAAI,GAAG,aAAE,EAAC,uCAAuC,CAAC,CAAC;KACxD;AACH,CAAC,CAAC,CAAC;AAEH,yBAAyB;AACzB,kCAAkC;AAClC,MAAM,CAAC,GAAG,CACR,GAAG,EACH,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,CAAC,EACxD,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,IAAI,GAAG,MAAM,IAAI,wBAAa,CAAC,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,CACxF,eAAe,EACf;YACE,YAAY;SACb,CACF,CAAC;QACF,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC;KACjB;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,0BAA0B;AAC1B,MAAM,CAAC,IAAI,CACT,GAAG,EACH,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC;IACR,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE;IACzC,IAAI,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE;CAClF,CAAC,EACF,KAAK,EAAE,GAAG,EAAE,EAAE;;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,IAAI,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC;QAE9B,mDAAmD;QACnD,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC/B,0BAAkB,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,EAAE;YAChC,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC;gBAAE,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,sCAAsC,CAAC,CAAC,CAAC;QACrF,CAAC,CAAC,CAAC;QAEH,kCAAe,CAAC,GAAG,CAAC,sBAAsB,EAAE;YAC1C,WAAW,EAAE,GAAG,CAAC,EAAE;YACnB,aAAa,EAAE,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC;YACxC,WAAW,EAAE,YAAY;YACzB,SAAS,EAAE,QAAQ;YACnB,SAAS,EAAE,IAAI;SAChB,CAAC,CAAC;QAEH,GAAG,CAAC,IAAI,GAAG,MAAM,IAAI,wBAAa,CAAC,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,CACtF,mBAAmB,EACnB;YACE,YAAY;YACZ,IAAI;YACJ,KAAK,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;YACzB,IAAI,EAAE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;YACvB,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,IAAI,EAAE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;SACxB,CACF,CAAC;KACH;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,yBAAyB;AACzB,wBAAwB;AACxB,MAAM,CAAC,MAAM,CACX,GAAG,EACH,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,IAAI,EAAE,CAAC,EAChC,uBAAS,EAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,CAAC,EACxD,KAAK,EAAE,GAAG,EAAE,EAAE;;IACZ,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QAEzC,kCAAe,CAAC,GAAG,CAAC,sBAAsB,EAAE;YAC1C,WAAW,EAAE,GAAG,CAAC,EAAE;YACnB,aAAa,EAAE,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC;YACxC,WAAW,EAAE,YAAY;YACzB,SAAS,EAAE,QAAQ;YACnB,SAAS,EAAE,IAAI;SAChB,CAAC,CAAC;QAEH,GAAG,CAAC,IAAI,GAAG,MAAM,IAAI,wBAAa,CAAC,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,CACtF,iBAAiB,EACjB;YACE,YAAY;YACZ,IAAI;SACL,CACF,CAAC;KACH;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;KAChB;AACH,CAAC,CACF,CAAC;AAEF,qBAAe,MAAM,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChItB,qEAAiC;AAEjC,yDAA+B;AAC/B,4DAAwB;AACxB,2CAA0B;AAC1B,mGAAqE;AACrE,0DAAiE;AAEjE,+DAAsC;AACtC,8DAAsC;AACtC,qEAAiD;AACjD,gGAAkD;AAClD,sFAIoC;AACpC,8DAAwC;AACxC,wFAA8D;AAC9D,qGAAsD;AACtD,iGAAiD;AACjD,8DAA4D;AAC5D,8DAA+C;AAE/C,MAAM,MAAM,GAAG,IAAI,gBAAM,CAAC,EAAE,MAAM,EAAE,WAAW,EAAE,CAAC,CAAC;AAEnD,yBAAyB;AACzB,gCAAgC;AAChC,MAAM,CAAC,GAAG,CAAC,UAAU,EAAE,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE;IACtE,GAAG,CAAC,IAAI,GAAG,sBAAY,CAAC;AAC1B,CAAC,CAAC,CAAC;AAEH,yBAAyB;AACzB,mCAAmC;AACnC,MAAM,CAAC,GAAG,CAAC,UAAU,EAAE,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE;;IACtE,MAAM,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC,IAA6B,CAAC;IACzD,IAAI,MAAM,IAAI,sBAAY,EAAE;QAC1B,IAAI,MAAM,CAAC,MAAM,IAAI,IAAI;YAAE,sBAAY,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QAC/D,IAAI,MAAM,CAAC,QAAQ,IAAI,IAAI;YAAE,sBAAY,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;QACrE,IAAI,MAAM,CAAC,MAAM,IAAI,IAAI;YAAE,sBAAY,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QAC/D,IAAI,MAAM,CAAC,gBAAgB,IAAI,IAAI,EAAE;YACnC,sBAAY,CAAC,gBAAgB,GAAG,OAAO,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;YACjE,GAAG,CAAC,GAAG,CAAC,KAAK,GAAG,sBAAY,CAAC,gBAAgB,CAAC;SAC/C;QACD,IAAI,MAAM,CAAC,WAAW,IAAI,IAAI;YAAE,sBAAY,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;QAC9E,IAAI,MAAM,CAAC,IAAI,IAAI,IAAI;YAAE,sBAAY,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;QACzD,IAAI,MAAM,CAAC,WAAW,IAAI,IAAI;YAAE,sBAAY,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;QAC9E,IAAI,MAAM,CAAC,WAAW,IAAI,IAAI;YAAE,sBAAY,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;QAC9E,IAAI,MAAM,CAAC,OAAO,IAAI,IAAI;YAAE,sBAAY,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;QAClE,IAAI,MAAM,CAAC,uBAAuB,IAAI,IAAI;YACxC,sBAAY,CAAC,uBAAuB,GAAG,MAAM,CAAC,uBAAuB,CAAC;QACxE,IAAI,MAAM,CAAC,YAAY,IAAI,IAAI;YAAE,sBAAY,CAAC,YAAY,GAAG,MAAM,CAAC,YAAY,CAAC;QACjF,IAAI,MAAM,CAAC,WAAW,IAAI,IAAI;YAAE,sBAAY,CAAC,WAAW,GAAG,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;QACtF,IAAI,MAAM,CAAC,QAAQ,IAAI,IAAI;YAAE,sBAAY,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QAC7E,IAAI,MAAM,CAAC,SAAS,IAAI,IAAI;YAAE,sBAAY,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QAChF,IAAI,MAAM,CAAC,cAAc,IAAI,IAAI;YAAE,sBAAY,CAAC,cAAc,GAAG,OAAO,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;QAChG,IAAI,MAAM,CAAC,cAAc,IAAI,IAAI;YAAE,sBAAY,CAAC,cAAc,GAAG,OAAO,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;QAEhG,IAAI,MAAM,CAAC,YAAY,IAAI,IAAI;YAAE,sBAAY,CAAC,YAAY,GAAG,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;QAC1F,IAAI,MAAM,CAAC,UAAU,IAAI,IAAI;YAAE,sBAAY,CAAC,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;QACnF,IAAI,MAAM,CAAC,cAAc,IAAI,IAAI;YAAE,sBAAY,CAAC,cAAc,GAAG,OAAO,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;QAChG,IAAI,MAAM,CAAC,YAAY,IAAI,IAAI;YAAE,sBAAY,CAAC,YAAY,GAAG,MAAM,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;QACzF,IAAI,MAAM,CAAC,OAAO,IAAI,IAAI;YAAE,sBAAY,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAE1E,IAAI,MAAM,CAAC,cAAc,IAAI,IAAI,EAAE;YACjC,cAAc;YACd,EAAE,CAAC,MAAM,CAAC,8BAAsB,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE;gBAC9C,YAAM,CAAC,IAAI,CAAC,6CAA6C,8BAAsB,KAAK,GAAG,EAAE,CAAC,CAAC;YAC7F,CAAC,CAAC,CAAC;YACH,sBAAY,CAAC,cAAc,GAAG,MAAM,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;SAC7D;QAED,IAAI,MAAM,CAAC,QAAQ,IAAI,IAAI,EAAE;YAC3B,YAAM,CAAC,IAAI,CAAC,aAAE,EAAC,mBAAmB,CAAC,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC;YACtD,sBAAY,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YAChD,MAAM,cAAO,CAAC,cAAc,CAAC,sBAAY,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,CAAC;YAClE,wBAAa,CAAC,oBAAoB,CAAC,sBAAY,CAAC,QAAQ,CAAC,CAAC;SAC3D;QAED,kCAAe,CAAC,GAAG,CAAC,sBAAsB,EAAE;YAC1C,WAAW,EAAE,GAAG,CAAC,EAAE;YACnB,aAAa,EAAE,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC;SACzC,CAAC,CAAC;QAEH,8BAAgB,EAAC,sBAAY,CAAC,CAAC;QAC/B,+BAAiB,GAAE,CAAC;QACpB,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC;QAChB,OAAO;KACR;IACD,GAAG,CAAC,IAAI,GAAG,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,CAAC,CAAC,CAAC;AAChD,CAAC,CAAC,CAAC;AAEH,sBAAsB;AACtB,6BAA6B;AAC7B,MAAM,CAAC,GAAG,CAAC,UAAU,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE;IACnC,MAAM,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC;IAChC,IAAI,sBAAU,CAAC,OAAO,CAAC,IAAI,KAAK,CAAC,IAAI,sBAAY,EAAE;QACjD,IAAI,MAAM,CAAC,QAAQ,IAAI,IAAI,EAAE;YAC3B,YAAM,CAAC,IAAI,CAAC,aAAE,EAAC,mBAAmB,CAAC,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC;YACtD,sBAAY,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YAChD,cAAO,CAAC,cAAc,CAAC,sBAAY,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,CAAC;YAC5D,wBAAa,CAAC,oBAAoB,CAAC,sBAAY,CAAC,QAAQ,CAAC,CAAC;SAC3D;QACD,8BAAgB,EAAC,sBAAY,CAAC,CAAC;QAC/B,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC;QAChB,OAAO;KACR;IACD,GAAG,CAAC,IAAI,GAAG,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,CAAC,CAAC,CAAC;AAChD,CAAC,CAAC,CAAC;AAEH,kBAAkB;AAClB,MAAM,CAAC,GAAG,CAAC,SAAS,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE;IAClC,GAAG,CAAC,IAAI,GAAG,6CAAuB,GAAE,CAAC;AACvC,CAAC,CAAC,CAAC;AAEH,yBAAyB;AACzB,sBAAsB;AACtB,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE;IACtE,MAAM,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC;IAChC,6CAAuB,EAAC,MAAM,CAAC,CAAC;IAChC,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC;AAClB,CAAC,CAAC,CAAC;AAEH,yBAAyB;AACzB,wBAAwB;AACxB,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE;IACxE,+CAAyB,GAAE,CAAC;IAC5B,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC;AAClB,CAAC,CAAC,CAAC;AAEH,yBAAyB;AACzB,kEAAkE;AAClE,MAAM,CAAC,IAAI,CAAC,gBAAgB,EAAE,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE;;IAC7E,IAAI,KAAK,GAAG,SAAG,CAAC,OAAO,CAAC,KAAK,0CAAE,IAAI,CAAC;IACpC,IAAI,OAAoC,CAAC;IACzC,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;QACxB,OAAO,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;KACpB;SAAM;QACL,OAAO,GAAG,KAAK,CAAC;KACjB;IACD,IAAI;QACF,IAAI,CAAC,OAAO;YAAE,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,CAAC,CAAC,CAAC;QACvD,IAAI,CAAC,OAAO,CAAC,QAAQ,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC,QAAQ,CAAC;YACvD,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,CAAC,CAAC,CAAC;QAC3C,MAAM,WAAW,GAAG,aAAE,GAAE,GAAG,cAAI,CAAC,OAAO,CAAC,OAAO,CAAC,gBAAgB,IAAI,EAAE,CAAC,CAAC;QACxE,IAAI,CAAC,qBAAW,CAAC,aAAa,CAAC,WAAW,CAAC;YACzC,MAAM,IAAI,KAAK,CAAC,oCAAoC,CAAC,CAAC;QACxD,MAAM,WAAW,GAAG,cAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,qBAAa,CAAC,CAAC;QAC5D,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,WAAW,CAAC;YAAE,EAAE,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC;QAC5D,MAAM,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,cAAI,CAAC,IAAI,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC,CAAC;QACrE,GAAG,CAAC,IAAI,GAAG,WAAW,CAAC;KACxB;YAAS;QACR,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;YACxB,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;gBAClB,IAAI,CAAC,aAAD,CAAC,uBAAD,CAAC,CAAE,QAAQ;oBAAE,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,EAAE,GAAG,EAAE,GAAE,CAAC,CAAC,CAAC;YACnD,CAAC,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,QAAQ;gBAAE,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,GAAG,EAAE,GAAE,CAAC,CAAC,CAAC;SAC9D;KACF;AACH,CAAC,CAAC,CAAC;AAEH,MAAM,CAAC,IAAI,CACT,wBAAwB,EACxB,sBAAU,EAAC,CAAC,CAAC,EACb,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EACjC,KAAK,EAAE,GAAG,EAAE,EAAE;IACZ,MAAM,+BAAiB,GAAE,CAAC;IAC1B,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC;AAClB,CAAC,CACF,CAAC;AAEF,qBAAe,MAAM,CAAC;;;;;;;;;;;;;AC3KtB,qEAAiC;AACjC,gGAAkD;AAClD,iGAAiD;AAEjD,8DAA6B;AAC7B,+DAAsC;AAEtC,MAAM,MAAM,GAAG,IAAI,gBAAM,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,CAAC;AAE/C,yBAAyB;AACzB,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,GAA6B,EAAE,EAAE;IACzF,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC;IAC1C,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,CAAC;IAC5B,IAAI,QAAQ,IAAI,CAAC,sBAAU,CAAC,gBAAgB,CAAC,QAAQ,CAAC;QACpD,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,oCAAoC,CAAC,CAAC,CAAC;IAC5D,IAAI;QACF,oFAAoF;QACpF,IAAI,QAAQ,EAAE;YACZ,MAAM,CAAC,MAAM,GAAG,EAAE,CAAC;YACnB,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC;SACxB;QACD,MAAM,sBAAU,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QACpC,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC;KACjB;IAAC,OAAO,KAAU,EAAE;QACnB,GAAG,CAAC,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;KAC/B;AACH,CAAC,CAAC,CAAC;AAEH,yBAAyB;AACzB,MAAM,CAAC,GAAG,CACR,WAAW,EACX,wBAAU,EAAC,EAAE,KAAK,EAAE,WAAI,CAAC,KAAK,EAAE,CAAC,EACjC,KAAK,EAAE,GAA6B,EAAE,EAAE;IACtC,MAAM,KAAK,GAAyB,EAAE,CAAC;IACvC,sBAAU,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;QAClC,KAAK,CAAC,IAAI,CAAC;YACT,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,UAAU,EAAE,IAAI,CAAC,UAAU;YAC3B,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,YAAY,EAAE,IAAI,CAAC,SAAS;SAC7B,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IACH,GAAG,CAAC,IAAI,GAAG,KAAK,CAAC;AACnB,CAAC,CACF,CAAC;AAEF,qBAAe,MAAM,CAAC;;;;;;;;;;;ACjDtB,2CAA0B;AAE1B,MAAa,wBAAwB;IAGnC;QACE,IAAI,CAAC,QAAQ,GAAG,IAAI,GAAG,EAAa,CAAC;IACvC,CAAC;IAED,WAAW,CAAC,IAAY,EAAE,MAAS;QACjC,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC;YAAE,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;QACxE,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IAClC,CAAC;IAED,WAAW,CAAC,IAAY;QACtB,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IACjC,CAAC;IAED,cAAc,CAAC,IAAY;QACzB,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IACpC,CAAC;IAED,WAAW;QACT,OAAO,aAAE,GAAE,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;IAClC,CAAC;CACF;AAvBD,4DAuBC;;;;;;;;;;;;;;ACzBD,8DAA0B;AAC1B,iDAA4B;AAC5B,qEAAqD;AACrD,+CAAwC;AACxC,8DAA6B;AAC7B,qGAAsD;AACtD,qGAA+D;AAC/D,iGAAmD;AACnD,wFAA+E;AAE/E,mFAAmF;AACnF,0DAA0D;AAC1D,8EAA8E;AAC9E,uEAAuE;AAC1D,4BAAoB,GAAG,uBAAuB,CAAC;AAiD5D,IAAY,aAMX;AAND,WAAY,aAAa;IACvB,4BAAW;IACX,gCAAe;IACf,kDAAiC;IACjC,8BAAa;IACb,wCAAuB;AACzB,CAAC,EANW,aAAa,GAAb,qBAAa,KAAb,qBAAa,QAMxB;AAQD,4BAA4B;AAE5B,MAAM,SAAS,GAAG,2BAAc,EAC9B,gEAAgE,EAChE,CAAC,CACF,CAAC;AAEK,KAAK,UAAU,gBAAgB,CACpC,OAAe,EACf,YAAoB,EACpB,SAA0B,EAC1B,QAAgB,EAChB,IAAY,EACZ,QAAkB;IAElB,MAAM,EAAE,IAAI,EAAE,YAAY,EAAE,GAAG,MAAM,eAAK,CAAC,IAAI,CAC7C,GAAG,4BAAoB,kCAAkC,EACzD;QACE,OAAO;QACP,YAAY;QACZ,SAAS;QACT,QAAQ;QACR,IAAI;QACJ,QAAQ;KACT,EACD;QACE,OAAO,EAAE;YACP,YAAY,EAAE,OAAO;YACrB,iBAAiB,EAAE,YAAY;SAChC;KACF,CACF,CAAC;IACF,IAAI,YAAY,CAAC,IAAI,KAAK,GAAG,EAAE;QAC7B,MAAM,IAAI,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;KACvC;IACD,OAAO,YAAY,CAAC,IAAI,CAAC;AAC3B,CAAC;AA7BD,4CA6BC;AAED,SAAS,kBAAkB,CAAC,QAA+B;;IACzD,IAAI,KAAK,GAAa,oBAAQ,CAAC,MAAM,0CAAE,KAAK,mCAAI,EAAE,CAAC;IACnD,IAAI,SAAS,GAAqB,EAAE,CAAC;IACrC,IAAI,MAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,MAAM,IAAG,CAAC,EAAE;QACrB,KAAK,CAAC,OAAO,CAAC,CAAC,IAAY,EAAE,EAAE;YAC7B,2BAA2B;YAC3B,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC1C,IAAI,CAAC,KAAK,IAAI,CAAC,QAAQ;gBAAE,OAAO;YAChC,MAAM,CAAC,IAAI,EAAE,SAAS,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC3C,IAAI,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,IAAI,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;gBAAE,OAAO;YAC5D,SAAS,CAAC,IAAI,CAAC;gBACb,QAAQ;gBACR,SAAS,EAAE,MAAM,CAAC,SAAS,CAAC;gBAC5B,IAAI,EAAE,MAAM,CAAC,IAAI,CAAC;aACnB,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;KACJ;IACD,MAAM,KAAK,GAAG,EAAE,CAAC;IACjB,IAAI,eAAQ,CAAC,IAAI,0CAAE,UAAU,KAAI,MAAM,CAAC,cAAQ,CAAC,IAAI,0CAAE,UAAU,CAAC,IAAI,CAAC,CAAC,EAAE;QACxE,KAAK,CAAC,IAAI,CAAC;YACT,KAAK,EAAE,eAAC,EAAC,mBAAmB,CAAC;YAC7B,KAAK,EAAE,GAAG,cAAQ,CAAC,IAAI,0CAAE,cAAc,IAAI,cAAQ,CAAC,IAAI,0CAAE,UAAU,EAAE;SACvE,CAAC,CAAC;KACJ;IACD,OAAO;QACL,WAAW,EAAE,QAAQ,CAAC,YAAY;QAClC,IAAI,EAAE,QAAQ,CAAC,QAAQ,IAAI,EAAE;QAC7B,MAAM,EAAE,QAAQ,CAAC,MAAM,IAAI,CAAC;QAC5B,KAAK,EAAE,SAAS;QAChB,MAAM,EAAE,QAAQ,CAAC,OAAO,IAAI,CAAC;QAC7B,KAAK;KACN,CAAC;AACJ,CAAC;AAED,SAAgB,aAAa,CAAC,CAAU;;IACtC,IAAI,CAAC,CAAC,IAAI,OAAO,CAAC,KAAK,QAAQ;QAAE,OAAO,EAAE,CAAC;IAC3C,OAAO,oCAAM,EAAC,CAAC,CAAC,mCAAI,EAAE,CAAC;AACzB,CAAC;AAHD,sCAGC;AAEM,KAAK,UAAU,kBAAkB,CACtC,cAA6B,EAC7B,MAA2B,EAC3B,UAEI,EAAE;;IAEN,MAAM,OAAO,GAAG,oCAAM,EAAC,MAAM,CAAC,OAAO,CAAC,mCAAI,EAAE,CAAC;IAC7C,MAAM,WAAW,GAAG,oCAAM,EAAC,MAAM,CAAC,WAAW,CAAC,mCAAI,EAAE,CAAC;IACrD,MAAM,QAAQ,GAAG,aAAa,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IAChD,MAAM,KAAK,GAAG,sCAAQ,EAAC,MAAM,CAAC,KAAK,CAAC,mCAAI,CAAC,CAAC;IAC1C,MAAM,OAAO,GAAmC,YAAM,CAAC,OAAO,mCAAI,EAAE,CAAC;IAErE,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC;IACxE,IAAI,CAAC,cAAa,aAAb,aAAa,uBAAb,aAAa,CAAE,SAAS,GAAE;QAC7B,MAAM,IAAI,KAAK,CAAC,eAAC,EAAC,mBAAmB,CAAC,CAAC,CAAC;KACzC;IAED,MAAM,aAAa,GAAG,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC;IAEvD,IAAI,cAAc,KAAK,aAAa,CAAC,GAAG,EAAE;QACxC,OAAO,CAAC,QAAQ,GAAG,MAAM,CAAC,WAAW,IAAI,CAAC,CAAC;QAC3C,OAAO,CAAC,OAAO;YACb,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,GAAG,KAAK,GAAG,IAAI,GAAG,IAAI,CAAC;QAEjF,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YACvB,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,sCAAsC,CAAC,CAAC,CAAC;SAC7D;QAED,OAAO,CAAC,QAAQ,GAAG,MAAM,GAAG,QAAQ,GAAG,GAAG,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;QAC1D,MAAM,EAAE,YAAY,EAAE,aAAa,EAAE,MAAM,EAAE,iBAAiB,EAAE,GAAG,MAAM,aAAa,CAAC,OAAO,CAC5F,cAAc,EACd,OAAO,CACR,CAAC;QACF,IAAI,CAAC,aAAa;YAAE,MAAM,IAAI,KAAK,CAAC,eAAC,EAAC,mBAAmB,CAAC,CAAC,CAAC;QAE5D,IAAI,IAAI,GAAG,sBAAY,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;QACpD,IAAI,WAAW,GAAG,EAAE,CAAC;QAErB,MAAM,cAAO,CAAC,eAAe,wDAAG,aAAa,CAAC,EAAC;QAE/C,IAAI,IAAI,EAAE;YACR,MAAM,sBAAY,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;gBACjC,SAAS,EAAE;oBACT,GAAG,IAAI,CAAC,SAAS;oBACjB;wBACE,YAAY,EAAE,aAAa;wBAC3B,QAAQ,EAAE,OAAO;qBAClB;iBACF;aACF,CAAC,CAAC;SACJ;aAAM;YACL,WAAW,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC;YAC5B,IAAI,GAAG,MAAM,sBAAY,CAAC,MAAM,CAAC;gBAC/B,QAAQ,EAAE,QAAQ;gBAClB,QAAQ,EAAE,WAAW;gBACrB,UAAU,EAAE,CAAC;gBACb,SAAS,EAAE;oBACT;wBACE,YAAY,EAAE,aAAa;wBAC3B,QAAQ,EAAE,OAAO;qBAClB;iBACF;aACF,CAAC,CAAC;SACJ;QAED,OAAO;YACL,WAAW,EAAE,aAAa;YAC1B,eAAe,EAAE,iBAAiB;YAClC,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,QAAQ,EAAE,WAAW;YACrB,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,MAAM,EAAE,gCAAQ,EAAC,iBAAiB,CAAC,OAAO,CAAC,IAAI,CAAC;YAChD,aAAa,EAAE,kBAAkB,CAAC,iBAAiB,CAAC;SACrD,CAAC;KACH;IAED,IAAI,cAAc,KAAK,aAAa,CAAC,KAAK,EAAE;QAC1C,MAAM,YAAY,GAAG,MAAM,aAAa,CAAC,OAAO,CAAC,iBAAiB,EAAE;YAClE,YAAY,EAAE,WAAW;SAC1B,CAAC,CAAC;QAEH,MAAM,MAAM,GAA0B,YAAY,CAAC,MAAM,IAAI,EAAE,CAAC;QAEhE,IAAI,CAAC,MAAM,CAAC,QAAQ,IAAI,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE;YACtD,MAAM,IAAI,KAAK,CAAC,eAAC,EAAC,mBAAmB,CAAC,CAAC,CAAC;SACzC;QAED,IAAI,MAAM,CAAC,QAAQ,KAAK,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE;YAClD,MAAM,IAAI,KAAK,CAAC,eAAC,EAAC,mBAAmB,CAAC,CAAC,CAAC;SACzC;QAED,IAAI,CAAC,MAAM;YAAE,MAAM,IAAI,KAAK,CAAC,eAAC,EAAC,mBAAmB,CAAC,CAAC,CAAC;QAErD,MAAM,aAAa,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAC7C,IAAI,CAAC,aAAa,IAAI,KAAK,CAAC,aAAa,CAAC,IAAI,aAAa,GAAG,IAAI,CAAC,GAAG,EAAE,EAAE;YACxE,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,KAAK,GAAG,IAAI,GAAG,IAAI,CAAC;SACnD;aAAM;YACL,MAAM,CAAC,OAAO,GAAG,aAAa,GAAG,KAAK,GAAG,IAAI,GAAG,IAAI,CAAC;SACtD;QAED,MAAM,cAAO,CAAC,eAAe,wDAAG,WAAW,CAAC,EAAC;QAE7C,MAAM,aAAa,CAAC,OAAO,CAAC,iBAAiB,EAAE;YAC7C,YAAY,EAAE,WAAW;YACzB,MAAM,EAAE,MAAM;SACf,CAAC,CAAC;QAEH,OAAO;YACL,WAAW;YACX,eAAe,EAAE,MAAM;YACvB,MAAM,EAAE,gCAAQ,EAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;YACrC,QAAQ,EAAE,EAAE;YACZ,QAAQ,EAAE,EAAE;YACZ,IAAI,EAAE,EAAE;SACT,CAAC;KACH;IAED,MAAM,IAAI,KAAK,CAAC,eAAC,EAAC,mBAAmB,CAAC,CAAC,CAAC;AAC1C,CAAC;AAvHD,gDAuHC;AAEM,KAAK,UAAU,qBAAqB,CACzC,MAA2B;;IAE3B,MAAM,IAAI,GAAG,aAAa,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;IAClD,MAAM,cAAc,GAAG,oCAAM,EAAC,MAAM,CAAC,OAAO,CAAC,mCAAI,SAAS,CAAC;IAC3D,MAAM,IAAI,GAAG,sBAAY,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;IAClD,IAAI,CAAC,IAAI;QAAE,MAAM,IAAI,KAAK,CAAC,eAAC,EAAC,mBAAmB,CAAC,CAAC,CAAC;IAEnD,MAAM,EAAE,SAAS,GAAG,EAAE,EAAE,GAAG,MAAM,yCAAkB,EAAC,IAAI,CAAC,IAAI,EAAE,cAAc,EAAE,IAAI,CAAC,CAAC;IACrF,MAAM,gBAAgB,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;QAC3C,OAAO,kBAAkB,CAAC,CAAC,CAAC,CAAC;IAC/B,CAAC,CAAC,CAAC;IACH,OAAO,gBAAgB,CAAC;AAC1B,CAAC;AAbD,sDAaC;AAEM,KAAK,UAAU,aAAa,CAAC,MAA2B;;IAC7D,MAAM,MAAM,GAAG,oCAAM,EAAC,MAAM,CAAC,OAAO,CAAC,mCAAI,EAAE,CAAC;IAC5C,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;IACjE,IAAI,CAAC,cAAa,aAAb,aAAa,uBAAb,aAAa,CAAE,SAAS,GAAE;QAC7B,MAAM,IAAI,KAAK,CAAC,eAAC,EAAC,mBAAmB,CAAC,CAAC,CAAC;KACzC;IACD,MAAM,aAAa,GAAG,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC;IACvD,MAAM,UAAU,GAAG,MAAM,aAAa,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;IAChE,UAAU,CAAC,IAAI,GAAG,aAAa,CAAC,IAAI,CAAC;IACrC,UAAU,CAAC,SAAS,GAAG,aAAa,CAAC,SAAS,CAAC;IAE/C,UAAU,CAAC,EAAE,GAAG,mBAAa,CAAC,MAAM,0CAAE,EAAE,CAAC;IACzC,UAAU,CAAC,IAAI,GAAG,mBAAa,CAAC,MAAM,0CAAE,IAAI,CAAC;IAC7C,UAAU,CAAC,MAAM,GAAG,mBAAa,CAAC,MAAM,0CAAE,MAAM,CAAC;IACjD,UAAU,CAAC,OAAO,GAAG,mBAAa,CAAC,MAAM,0CAAE,OAAO,CAAC;IAEnD,OAAO;QACL,IAAI,EAAE,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC;QAChC,EAAE,EAAE,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC;QAC3B,EAAE,EAAE,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC;QACzB,IAAI,EAAE,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC;QAC7B,SAAS,EAAE,OAAO,CAAC,UAAU,CAAC,SAAS,CAAC;QACxC,OAAO,EAAE,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC,OAAO,CAAC;QAC5C,SAAS,EAAE,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC;KAC7C,CAAC;AACJ,CAAC;AAzBD,sCAyBC;;;;;;;;;;;;;;AC3TD,oEAA0B;AAC1B,qEAAmD;AACnD,4DAAwB;AACxB,2CAA0B;AAC1B,oGAA+C;AAC/C,0DAAyC;AACzC,8DAAkC;AAElC,MAAM,kBAAkB,GAAG,aAAa,CAAC;AAEzC,SAAS,WAAW;IAClB,OAAO,aAAE,GAAE,CAAC;AACd,CAAC;AAED,SAAgB,uBAAuB;IACrC,IAAI,YAAY,GAAW,EAAE,CAAC;IAC9B,IAAI,wBAAO,CAAC,UAAU,CAAC,kBAAkB,CAAC,EAAE;QAC1C,YAAY,GAAG,wBAAO,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;KACrD;IACD,IAAI,YAAY,EAAE;QAChB,IAAI,kCAAc,CAAC,GAAG,CAAC,eAAe,CAAC,EAAE;YACvC,MAAM,kBAAkB,GAAG,8BAA8B,EAAE,CAAC;YAC5D,MAAM,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAwB,CAAC;YAC5E,KAAK,MAAM,IAAI,IAAI,kBAAkB,EAAE;gBACrC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE;oBAChE,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAChC;aACF;YACD,kCAAc,CAAC,GAAG,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;YAC1C,uBAAuB,CAAC,mBAAmB,CAAC,CAAC;YAC7C,OAAO,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC;SAC5C;QACD,OAAO,YAAsB,CAAC;KAC/B;SAAM;QACL,OAAO,IAAI,CAAC,SAAS,CAAC,8BAA8B,EAAE,CAAC,CAAC;KACzD;AACH,CAAC;AAtBD,0DAsBC;AAED,SAAgB,uBAAuB,CAAC,MAA2B;IACjE,wBAAO,CAAC,SAAS,CAAC,kBAAkB,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;AACzE,CAAC;AAFD,0DAEC;AAED,SAAgB,yBAAyB;IACvC,wBAAO,CAAC,UAAU,CAAC,kBAAkB,CAAC,CAAC;IACvC,MAAM,QAAQ,GAAG,cAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,qBAAa,CAAC,CAAC;IACzD,IAAI,kBAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE;QAC3B,KAAK,MAAM,QAAQ,IAAI,kBAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,EAAE;YAC/C,kBAAE,CAAC,MAAM,CAAC,cAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,CAAC,EAAE,GAAG,EAAE,GAAE,CAAC,CAAC,CAAC;SACpD;KACF;AACH,CAAC;AARD,8DAQC;AAED,IAAY,gBAOX;AAPD,WAAY,gBAAgB;IAC1B,kCAAc;IACd,mCAAe;IACf,oCAAgB;IAChB,iCAAa;IACb,mCAAe;IACf,kCAAc;AAChB,CAAC,EAPW,gBAAgB,GAAhB,wBAAgB,KAAhB,wBAAgB,QAO3B;AAED,SAAS,8BAA8B;IACrC,OAAO;QACL;YACE,IAAI,EAAE,cAAc;YACpB,KAAK,EAAE,EAAE;YACT,KAAK,EAAE;gBACL,SAAS,EAAE,kBAAkB;gBAC7B,SAAS,EAAE,EAAE;gBACb,eAAe,EAAE,EAAE;aACpB;SACF;QACD;YACE,IAAI,EAAE,WAAW;YACjB,KAAK,EAAE;gBACL;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,aAAa;oBACnB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,IAAI,EAAE;wBACJ,IAAI,EAAE,MAAM;qBACb;oBACD,KAAK,EAAE,CAAC;oBACR,WAAW,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBACnC,MAAM,EAAE,gBAAgB,CAAC,KAAK;iBAC/B;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,aAAa;oBACnB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,IAAI,EAAE;wBACJ,IAAI,EAAE,UAAU;qBACjB;oBACD,KAAK,EAAE,CAAC;oBACR,WAAW,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBACnC,MAAM,EAAE,gBAAgB,CAAC,KAAK;iBAC/B;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,aAAa;oBACnB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,IAAI,EAAE;wBACJ,IAAI,EAAE,OAAO;qBACd;oBACD,KAAK,EAAE,CAAC;oBACR,WAAW,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBACnC,MAAM,EAAE,gBAAgB,CAAC,KAAK;iBAC/B;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,aAAa;oBACnB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,IAAI,EAAE;wBACJ,IAAI,EAAE,QAAQ;qBACf;oBACD,KAAK,EAAE,CAAC;oBACR,WAAW,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBACnC,MAAM,EAAE,gBAAgB,CAAC,KAAK;iBAC/B;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,cAAc;oBACpB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,EAAE;oBACT,WAAW,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBACnC,MAAM,EAAE,gBAAgB,CAAC,MAAM;iBAChC;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,cAAc;oBACpB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,CAAC;oBACR,WAAW,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBACnC,MAAM,EAAE,gBAAgB,CAAC,KAAK;iBAC/B;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,eAAe;oBACrB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,CAAC;oBACR,WAAW,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBACnC,MAAM,EAAE,gBAAgB,CAAC,KAAK;iBAC/B;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,kBAAkB;oBACxB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,CAAC;oBACR,WAAW,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBACnC,MAAM,EAAE,gBAAgB,CAAC,MAAM;iBAChC;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,cAAc;oBACpB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,CAAC;oBACR,WAAW,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBACnC,MAAM,EAAE,gBAAgB,CAAC,MAAM;iBAChC;aACF;SACF;QACD;YACE,IAAI,EAAE,SAAS;YACf,KAAK,EAAE;gBACL;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,QAAQ;oBACd,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;oBAC7B,aAAa,EAAE,IAAI;iBACpB;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,WAAW;oBACjB,KAAK,EAAE,EAAE;oBACT,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;iBAC9B;aACF;SACF;QACD;YACE,IAAI,EAAE,gBAAgB;YACtB,KAAK,EAAE;gBACL;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,cAAc;oBACpB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;oBAC7B,aAAa,EAAE,IAAI;iBACpB;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,WAAW;oBACjB,KAAK,EAAE,EAAE;oBACT,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;iBAC9B;aACF;SACF;QACD;YACE,IAAI,EAAE,YAAY;YAClB,KAAK,EAAE;gBACL;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,cAAc;oBACpB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;oBAC7B,aAAa,EAAE,IAAI;iBACpB;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,WAAW;oBACjB,KAAK,EAAE,EAAE;oBACT,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;iBAC9B;aACF;SACF;QACD;YACE,IAAI,EAAE,qBAAqB;YAC3B,KAAK,EAAE;gBACL;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE;wBACJ,QAAQ,EAAE,OAAO;qBAClB;oBACD,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,GAAG;oBAC5B,aAAa,EAAE,IAAI;iBACpB;gBAED;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,kBAAkB;oBACxB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,CAAC;oBACR,MAAM,EAAE,gBAAgB,CAAC,KAAK;iBAC/B;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,qBAAqB;oBAC3B,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,CAAC;oBACR,MAAM,EAAE,gBAAgB,CAAC,KAAK;oBAC9B,aAAa,EAAE,IAAI;iBACpB;aACF;SACF;QACD;YACE,IAAI,EAAE,2BAA2B;YACjC,KAAK,EAAE;gBACL;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,qBAAqB;oBAC3B,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;oBAC7B,aAAa,EAAE,IAAI;iBACpB;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,WAAW;oBACjB,KAAK,EAAE,EAAE;oBACT,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;iBAC9B;aACF;SACF;QACD;YACE,IAAI,EAAE,0BAA0B;YAChC,KAAK,EAAE;gBACL;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,oBAAoB;oBAC1B,KAAK,EAAE,aAAC,EAAC,sBAAsB,CAAC;oBAChC,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;oBAC7B,aAAa,EAAE,IAAI;iBACpB;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,WAAW;oBACjB,KAAK,EAAE,EAAE;oBACT,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;iBAC9B;aACF;SACF;QACD;YACE,IAAI,EAAE,kCAAkC;YACxC,KAAK,EAAE;gBACL;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,8BAA8B;oBACpC,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;oBAC7B,aAAa,EAAE,IAAI;iBACpB;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,WAAW;oBACjB,KAAK,EAAE,EAAE;oBACT,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;iBAC9B;aACF;SACF;QACD;YACE,IAAI,EAAE,2CAA2C;YACjD,KAAK,EAAE;gBACL;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,0BAA0B;oBAChC,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;oBAC7B,aAAa,EAAE,IAAI;iBACpB;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,WAAW;oBACjB,KAAK,EAAE,EAAE;oBACT,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;iBAC9B;aACF;SACF;QACD;YACE,IAAI,EAAE,qBAAqB;YAC3B,KAAK,EAAE;gBACL;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;oBAC7B,aAAa,EAAE,IAAI;iBACpB;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,WAAW;oBACjB,KAAK,EAAE,EAAE;oBACT,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;iBAC9B;aACF;SACF;QACD;YACE,IAAI,EAAE,QAAQ;YACd,KAAK,EAAE;gBACL;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;oBAC7B,aAAa,EAAE,IAAI;iBACpB;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,WAAW;oBACjB,KAAK,EAAE,EAAE;oBACT,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;iBAC9B;aACF;SACF;QACD;YACE,IAAI,EAAE,kBAAkB;YACxB,KAAK,EAAE;gBACL;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,oBAAoB;oBAC1B,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;oBAC7B,aAAa,EAAE,IAAI;iBACpB;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,WAAW;oBACjB,KAAK,EAAE,EAAE;oBACT,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;iBAC9B;aACF;SACF;QACD;YACE,IAAI,EAAE,WAAW;YACjB,KAAK,EAAE;gBACL;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,CAAC;oBACR,MAAM,EAAE,gBAAgB,CAAC,KAAK;oBAC9B,aAAa,EAAE,IAAI;iBACpB;aACF;SACF;QACD;YACE,IAAI,EAAE,OAAO;YACb,KAAK,EAAE;gBACL;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;oBAC7B,aAAa,EAAE,IAAI;iBACpB;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,WAAW;oBACjB,KAAK,EAAE,EAAE;oBACT,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;iBAC9B;aACF;SACF;QACD;YACE,IAAI,EAAE,aAAa;YACnB,KAAK,EAAE;gBACL;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,cAAc;oBACpB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;oBAC7B,aAAa,EAAE,IAAI;iBACpB;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,WAAW;oBACjB,KAAK,EAAE,EAAE;oBACT,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;iBAC9B;aACF;SACF;QACD;YACE,IAAI,EAAE,iBAAiB;YACvB,KAAK,EAAE;gBACL;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;oBAC7B,aAAa,EAAE,IAAI;iBACpB;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,WAAW;oBACjB,KAAK,EAAE,EAAE;oBACT,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;iBAC9B;aACF;SACF;QACD;YACE,IAAI,EAAE,aAAa;YACnB,KAAK,EAAE;gBACL;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,gBAAgB;oBACtB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,CAAC;oBACR,MAAM,EAAE,gBAAgB,CAAC,IAAI;iBAC9B;aACF;SACF;QACD;YACE,IAAI,EAAE,uBAAuB;YAC7B,KAAK,EAAE;gBACL;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,EAAE;oBACT,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;iBAC9B;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,WAAW;oBACjB,KAAK,EAAE,EAAE;oBACT,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;iBAC9B;aACF;SACF;QACD;YACE,IAAI,EAAE,WAAW;YACjB,KAAK,EAAE;gBACL;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,iBAAiB;oBACvB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,IAAI,EAAE;wBACJ,IAAI,EAAE,cAAc;qBACrB;oBACD,KAAK,EAAE,CAAC;oBACR,MAAM,EAAE,gBAAgB,CAAC,KAAK;oBAC9B,aAAa,EAAE,IAAI;iBACpB;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,iBAAiB;oBACvB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,IAAI,EAAE;wBACJ,IAAI,EAAE,kBAAkB;qBACzB;oBACD,KAAK,EAAE,CAAC;oBACR,MAAM,EAAE,gBAAgB,CAAC,KAAK;oBAC9B,aAAa,EAAE,IAAI;iBACpB;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,iBAAiB;oBACvB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,IAAI,EAAE;wBACJ,IAAI,EAAE,eAAe;qBACtB;oBACD,KAAK,EAAE,CAAC;oBACR,MAAM,EAAE,gBAAgB,CAAC,KAAK;oBAC9B,aAAa,EAAE,IAAI;iBACpB;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,iBAAiB;oBACvB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,IAAI,EAAE;wBACJ,IAAI,EAAE,gBAAgB;qBACvB;oBACD,KAAK,EAAE,CAAC;oBACR,MAAM,EAAE,gBAAgB,CAAC,KAAK;oBAC9B,aAAa,EAAE,IAAI;iBACpB;gBACD;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,kBAAkB;oBACxB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,IAAI,EAAE;wBACJ,IAAI,EAAE,gBAAgB;qBACvB;oBACD,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,IAAI;oBAC7B,aAAa,EAAE,IAAI;iBACpB;aACF;SACF;QACD;YACE,IAAI,EAAE,QAAQ;YACd,KAAK,EAAE;gBACL;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,WAAW;oBACjB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,CAAC;oBACR,MAAM,EAAE,gBAAgB,CAAC,IAAI;oBAC7B,aAAa,EAAE,IAAI;iBACpB;aACF;SACF;QACD;YACE,IAAI,EAAE,OAAO;YACb,KAAK,EAAE;gBACL;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,aAAa;oBACnB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,gBAAgB,CAAC,KAAK;oBAC9B,aAAa,EAAE,IAAI;iBACpB;aACF;SACF;QACD;YACE,IAAI,EAAE,MAAM;YACZ,KAAK,EAAE;gBACL;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,SAAS;oBACf,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,CAAC;oBACR,MAAM,EAAE,gBAAgB,CAAC,IAAI;oBAC7B,aAAa,EAAE,IAAI;iBACpB;aACF;SACF;QACD;YACE,IAAI,EAAE,aAAa;YACnB,KAAK,EAAE;gBACL;oBACE,EAAE,EAAE,WAAW,EAAE;oBACjB,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,aAAa;oBACnB,KAAK,EAAE,aAAC,EAAC,mBAAmB,CAAC;oBAC7B,KAAK,EAAE,CAAC;oBACR,MAAM,EAAE,gBAAgB,CAAC,KAAK;iBAC/B;aACF;SACF;KACF,CAAC;AACJ,CAAC;;;;;;;;;;;;;;AC1oBD,8DAA0B;AAC1B,oEAA0B;AAC1B,iDAA4B;AAC5B,qEAA2C;AAC3C,4DAAwB;AACxB,0DAAiE;AACjE,qGAAsD;AACtD,qGAA+D;AAC/D,iGAAiD;AACjD,8DAA0C;AAE1C,IAAY,eAMX;AAND,WAAY,eAAe;IACzB,sDAAS;IACT,qDAAQ;IACR,6DAAY;IACZ,6DAAY;IACZ,2DAAW;AACb,CAAC,EANW,eAAe,GAAf,uBAAe,KAAf,uBAAe,QAM1B;AACY,4BAAoB,GAA2B;IAC1D,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,eAAC,EAAC,mBAAmB,CAAC;IAC9C,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,eAAC,EAAC,mBAAmB,CAAC;IAC9C,CAAC,eAAe,CAAC,QAAQ,CAAC,EAAE,eAAC,EAAC,mBAAmB,CAAC;IAClD,CAAC,eAAe,CAAC,QAAQ,CAAC,EAAE,eAAC,EAAC,mBAAmB,CAAC;IAClD,CAAC,eAAe,CAAC,OAAO,CAAC,EAAE,eAAC,EAAC,mBAAmB,CAAC;CAClD,CAAC;AAmBF,iCAAiC;AACjC,SAAgB,wBAAwB,CACtC,SAAgB,EAChB,QAA6D;;IAE7D,uBAAuB;IACvB,MAAM,GAAG,GAAG,IAAI,GAAG,EAAoB,CAAC;IACxC,8DAA8D;IAC9D,KAAK,MAAM,YAAY,IAAI,SAAS,EAAE;QACpC,MAAM,QAAQ,GAAW,YAAY,CAAC,QAAQ,CAAC;QAC/C,MAAM,YAAY,GAAW,YAAY,CAAC,YAAY,CAAC;QACvD,IAAI,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE;YACrB,SAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,0CAAE,IAAI,CAAC,YAAY,CAAC,CAAC;SACvC;aAAM;YACL,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,YAAY,CAAC,CAAC,CAAC;SACnC;KACF;IACD,kDAAkD;IAClD,KAAK,MAAM,QAAQ,IAAI,GAAG,EAAE;QAC1B,MAAM,QAAQ,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;QAC7B,MAAM,aAAa,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;QAClC,QAAQ,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC;KACnC;AACH,CAAC;AAtBD,4DAsBC;AAEM,KAAK,UAAU,kBAAkB,CACtC,IAAY,EACZ,cAAuB,EACvB,WAAoB,KAAK;IAEzB,MAAM,IAAI,GAAG,sBAAU,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IAC1C,IAAI,CAAC,IAAI;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAErD,8DAA8D;IAC9D,IAAI,YAAY,GAA4B,EAAE,CAAC;IAC/C,IAAI,QAAQ,EAAE;QACZ,MAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QACjC,KAAK,MAAM,QAAQ,IAAI,SAAS,EAAE;YAChC,IAAI,cAAc,IAAI,cAAc,KAAK,QAAQ,CAAC,QAAQ;gBAAE,SAAS;YACrE,MAAM,aAAa,GAAG,wBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YAC5E,IAAI,CAAC,aAAa,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE;gBAC9C,oEAAoE;gBACpE,YAAY,CAAC,IAAI,CAAC;oBAChB,MAAM,EAAE,eAAe;oBACvB,YAAY,EAAE,QAAQ,CAAC,YAAY;oBACnC,QAAQ,EAAE,QAAQ,CAAC,QAAQ;oBAC3B,MAAM,EAAE,CAAC,CAAC;oBACV,QAAQ,EAAE,eAAe;oBACzB,OAAO,EAAE,EAAE;oBACX,EAAE,EAAE,EAAE;oBACN,EAAE,EAAE,EAAE;oBACN,OAAO,EAAE,CAAC;oBACV,YAAY,EAAE,CAAC;oBACf,WAAW,EAAE,EAAE;oBACf,WAAW,EAAE,EAAE;oBACf,MAAM,EAAE,EAAE;oBACV,IAAI,EAAE,EAAE;iBACT,CAAC,CAAC;gBACH,SAAS;aACV;YACD,4HAA4H;YAC5H,IAAI;gBACF,IAAI,aAAa,GAAG,MAAM,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,kBAAkB,EAAE;oBACrF,aAAa,EAAE,CAAC,QAAQ,CAAC,YAAY,CAAC;iBACvC,CAAC,CAAC;gBACH,IAAI,CAAC,aAAa,IAAI,aAAa,CAAC,MAAM,KAAK,CAAC;oBAAE,SAAS;gBAC3D,aAAa,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC;gBACjC,YAAY,CAAC,IAAI,CAAC;oBAChB,MAAM,EAAE,GAAG,aAAa,CAAC,MAAM,CAAC,EAAE,IAAI,aAAa,CAAC,MAAM,CAAC,IAAI,EAAE;oBACjE,OAAO,EAAE,aAAa,CAAC,MAAM,CAAC,OAAO;oBACrC,YAAY,EAAE,aAAa,CAAC,YAAY;oBACxC,QAAQ,EAAE,aAAa,CAAC,IAAI;oBAC5B,MAAM,EAAE,aAAa,CAAC,MAAM;oBAC5B,QAAQ,EAAE,aAAa,CAAC,MAAM,CAAC,QAAQ;oBACvC,EAAE,EAAE,aAAa,CAAC,MAAM,CAAC,EAAE;oBAC3B,EAAE,EAAE,aAAa,CAAC,MAAM,CAAC,EAAE;oBAC3B,OAAO,EAAE,aAAa,CAAC,MAAM,CAAC,OAAO;oBACrC,YAAY,EAAE,aAAa,CAAC,MAAM,CAAC,YAAY;oBAC/C,WAAW,EAAE,aAAa,CAAC,MAAM,CAAC,WAAW;oBAC7C,WAAW,EAAE,aAAa,CAAC,MAAM,CAAC,WAAW;oBAC7C,MAAM,EAAE,aAAa,CAAC,MAAM,CAAC,MAAM,IAAI,EAAE;oBACzC,IAAI,EAAE,aAAa,CAAC,IAAI,IAAI,EAAE;iBAC/B,CAAC,CAAC;aACJ;YAAC,OAAO,KAAK,EAAE;gBACd,eAAe;gBACf,SAAS;aACV;SACF;KACF;SAAM;QACL,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC;KAC/B;IACD,uBAAuB;IACvB,OAAO;QACL,IAAI,EAAE,IAAI,CAAC,IAAI;QACf,QAAQ,EAAE,IAAI,CAAC,QAAQ;QACvB,SAAS,EAAE,IAAI,CAAC,SAAS;QACzB,YAAY,EAAE,IAAI,CAAC,YAAY;QAC/B,SAAS,EAAE,YAAY;QACvB,UAAU,EAAE,IAAI,CAAC,UAAU;QAC3B,MAAM,EAAE,IAAI,CAAC,MAAM;QACnB,MAAM,EAAE,IAAI,CAAC,MAAM;QACnB,OAAO,EAAE,IAAI,CAAC,OAAO;QACrB,MAAM,EAAE,IAAI,CAAC,MAAM;QACnB,KAAK,EAAE,EAAE;KACV,CAAC;AACJ,CAAC;AAhFD,gDAgFC;AAED,SAAgB,2BAA2B,CACzC,MAA6B,EAC7B,kBAA2B,KAAK;;IAEhC,MAAM,YAAY,GAAG,sBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,cAAc,CAAC;IAClD,IAAI,CAAC,eAAe,EAAE;QACpB,IAAI,CAAC,YAAY;YAAE,OAAO,EAAE,CAAC;QAC7B,IAAI,MAAM,CAAC,WAAW,KAAK,QAAQ;YAAE,OAAO,EAAE,CAAC;KAChD;IAED,MAAM,YAAY,GAAG,8BAAM,EAAC,MAAM,CAAC,YAAY,CAAC,CAAC;IACjD,MAAM,aAAa,GAAG,8BAAM,EAAC,MAAM,CAAC,aAAa,CAAC,CAAC;IACnD,MAAM,SAAS,GAAG,KAAK,CAAC,OAAO,CAAC,YAAM,CAAC,MAAM,0CAAE,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC;IAE/E,OAAO;QACL,YAAY;QACZ,aAAa;QACb,MAAM,EAAE;YACN,GAAG,EAAE,SAAS;SACf;KACF,CAAC;AACJ,CAAC;AArBD,kEAqBC;AAED;;;GAGG;AACI,KAAK,UAAU,gBAAgB;IACpC,MAAM,SAAS,GAAG,sBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,cAAc,CAAC;IAC/C,IAAI,CAAC,SAAS;QAAE,MAAM,IAAI,KAAK,CAAC,uBAAuB,CAAC,CAAC;IAEzD,IAAI,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,UAAU,CAAC,qBAAa,CAAC,EAAE;QACxC,yCAAyC;QACzC,MAAM,QAAQ,GAAG,cAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,qBAAa,CAAC,CAAC;QACzD,MAAM,QAAQ,GAAG,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,KAAK,CAAC,qBAAa,EAAE,CAAC,CAAC,CAAC;QACpD,MAAM,QAAQ,GAAG,cAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,aAAR,QAAQ,cAAR,QAAQ,GAAI,EAAE,CAAC,CAAC;QACrD,IAAI,kBAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE;YAC3B,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,kBAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAwB,CAAC;SAChF;aAAM;YACL,MAAM,IAAI,KAAK,CAAC,6BAA6B,CAAC,CAAC;SAChD;KACF;SAAM;QACL,qCAAqC;QACrC,MAAM,cAAc,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC,UAAU;QACrD,IAAI;YACF,MAAM,KAAK,GAAG,MAAM,kBAAE,CAAC,IAAI,CAAC,8BAAsB,CAAC,CAAC;YACpD,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;YACvB,MAAM,OAAO,GAAG,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;YAE5C,YAAY;YACZ,IAAI,OAAO,GAAG,cAAc,EAAE;gBAC5B,MAAM,UAAU,GAAG,MAAM,kBAAE,CAAC,QAAQ,CAAC,8BAAsB,EAAE,OAAO,CAAC,CAAC;gBACtE,OAAO,IAAI,CAAC,KAAK,CAAC,UAAU,CAAwB,CAAC;aACtD;SACF;QAAC,OAAO,KAAK,EAAE;YACd,uDAAuD;SACxD;QACD,oCAAoC;QACpC,MAAM,EAAE,IAAI,EAAE,YAAY,EAAE,GAAG,MAAM,mBAAK,EAAsB;YAC9D,GAAG,EAAE,SAAS;YACd,MAAM,EAAE,KAAK;SACd,CAAC,CAAC;QACH,OAAO,YAAY,CAAC;KACrB;AACH,CAAC;AArCD,4CAqCC;;;;;;;;;;;;;;ACtND,oEAA0B;AAC1B,gEAA4B;AAE5B,MAAM,aAAa,GAAG,kBAAkB,CAAC;AAEzC,+CAA+C;AAC/C,IAAI,kBAAE,CAAC,UAAU,CAAC,aAAa,CAAC,EAAE;IAChC,MAAM,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;IACxB,MAAM,UAAU,GAAG,GAAG,IAAI,CAAC,WAAW,EAAE,IACtC,IAAI,CAAC,QAAQ,EAAE,GAAG,CACpB,IAAI,IAAI,CAAC,OAAO,EAAE,IAAI,IAAI,CAAC,QAAQ,EAAE,IAAI,IAAI,CAAC,UAAU,EAAE,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE,CAAC;IAClF,kBAAE,CAAC,UAAU,CAAC,aAAa,EAAE,QAAQ,UAAU,MAAM,CAAC,CAAC;CACxD;AAED,gBAAM,CAAC,SAAS,CAAC;IACf,SAAS,EAAE;QACT,GAAG,EAAE;YACH,IAAI,EAAE,QAAQ;YACd,MAAM,EAAE;gBACN,IAAI,EAAE,SAAS;gBACf,OAAO,EAAE,kCAAkC;aAC5C;SACF;QACD,IAAI,EAAE;YACJ,IAAI,EAAE,MAAM;YACZ,QAAQ,EAAE,aAAa;YACvB,MAAM,EAAE;gBACN,IAAI,EAAE,SAAS;gBACf,OAAO,EAAE,UAAU;aACpB;SACF;KACF;IACD,UAAU,EAAE;QACV,OAAO,EAAE;YACP,SAAS,EAAE,CAAC,KAAK,EAAE,MAAM,CAAC;YAC1B,KAAK,EAAE,MAAM;SACd;QACD,IAAI,EAAE;YACJ,SAAS,EAAE,CAAC,MAAM,CAAC;YACnB,KAAK,EAAE,MAAM;SACd;KACF;CACF,CAAC,CAAC;AAEH,MAAM,MAAM,GAAG,gBAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;AAYlC,wBAAM;AAXf,MAAM,UAAU,GAAG,gBAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;AAW3B,gCAAU;AAT3B,SAAS,QAAQ;IACf,MAAM,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;IACxB,OAAO,GAAG,IAAI,CAAC,WAAW,EAAE,IAAI,IAAI,CAAC,QAAQ,EAAE,IAAI,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC;AACtE,CAAC;AAM4B,4BAAQ;AAJrC,SAAS,aAAa;IACpB,OAAO,IAAI,IAAI,EAAE,CAAC,kBAAkB,EAAE,CAAC;AACzC,CAAC;AAEsC,sCAAa;;;;;;;;;;;ACnDpD,MAAM,oBAAoB;IAGxB;QAFiB,WAAM,GAAsB,IAAI,GAAG,EAAE,CAAC;QAGrD,WAAW,CAAC,GAAG,EAAE;YACf,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;YACvB,KAAK,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,EAAE;gBACrC,IAAI,GAAG,IAAI,IAAI,CAAC,GAAG,EAAE;oBACnB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;iBACzB;aACF;QACH,CAAC,EAAE,GAAG,CAAC,CAAC;IACV,CAAC;IAED,GAAG,CAAU,GAAW;QACtB,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAkB,CAAC;IAC/C,CAAC;IAED,GAAG,CAAU,GAAW,EAAE,KAAQ,EAAE,MAAc,CAAC;QACjD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE;YACnB,KAAK;YACL,GAAG,EAAE,IAAI,CAAC,GAAG,EAAE,GAAG,GAAG,GAAG,IAAI;SAC7B,CAAC,CAAC;IACL,CAAC;IAED,GAAG,CAAC,GAAW;QACb,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAClC,IAAI,CAAC,IAAI;YAAE,OAAO,CAAC,CAAC;QACpB,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QAClC,OAAO,QAAQ,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC;IACtC,CAAC;CACF;AAED,YAAY;AACC,4BAAoB,GAAG,IAAI,oBAAoB,EAAE,CAAC;;;;;;;;;;;;;;ACvC/D,8DAA0B;AAmB1B,MAAM,iBAAiB;IAQrB;QAPiB,YAAO,GAAG,6BAA6B,CAAC;QACxC,kBAAa,GAAG,yBAAyB,CAAC;QAC1C,mBAAc,GAAG,IAAI,CAAC;QAC/B,UAAK,GAAG,IAAI,GAAG,EAAe,CAAC;QAC/B,oBAAe,GAAa,EAAE,CAAC;QAC/B,wBAAmB,GAAG,CAAC,CAAC;QAG9B,WAAW,CAAC,GAAG,EAAE;YACf,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;YAC1B,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;YAC7B,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;QACrB,CAAC,EAAE,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;IAC1B,CAAC;IAEO,QAAQ,CAAC,GAAW,EAAE,KAAU;QACtC,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,IAAI,CAAC,cAAc,EAAE;YAC1C,MAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC;YAChD,IAAI,QAAQ;gBAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;SAC3C;QACD,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IAC7B,CAAC;IAEM,KAAK,CAAC,oBAAoB;QAC/B,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QACvB,IAAI,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,IAAI,GAAG,GAAG,IAAI,CAAC,mBAAmB,GAAG,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE;YAC3F,OAAO,IAAI,CAAC,eAAe,CAAC;SAC7B;QAED,IAAI;YACF,qBAAqB;YACrB,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC;gBACtC,MAAM,EAAE,KAAK;gBACb,GAAG,EAAE,GAAG,IAAI,CAAC,OAAO,mBAAmB;aACxC,CAAC,CAAC;YACH,MAAM,QAAQ,GAAG,GAAG,CAAC,IAAI;iBACtB,MAAM,CAAC,CAAC,CAAM,EAAE,EAAE,CAAC,CAAC,CAAC,YAAY,KAAK,WAAW,IAAI,oBAAoB,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;iBAC1F,GAAG,CAAC,CAAC,CAAM,EAAE,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;iBAC1B,IAAI,CAAC,CAAC,CAAS,EAAE,CAAS,EAAE,EAAE;gBAC7B,MAAM,EAAE,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBACpC,MAAM,EAAE,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBACpC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,EAAE;oBACvD,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;oBACtB,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;oBACtB,IAAI,EAAE,KAAK,EAAE;wBAAE,OAAO,EAAE,GAAG,EAAE,CAAC;iBAC/B;gBACD,OAAO,CAAC,CAAC;YACX,CAAC,CAAC,CAAC;YAEL,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;gBACvB,IAAI,CAAC,eAAe,GAAG,QAAQ,CAAC;gBAChC,IAAI,CAAC,mBAAmB,GAAG,GAAG,CAAC;gBAC/B,OAAO,QAAQ,CAAC;aACjB;SACF;QAAC,OAAO,GAAG,EAAE;YACZ,OAAO,CAAC,KAAK,CAAC,4CAA4C,EAAE,GAAG,CAAC,CAAC;SAClE;QAED,IAAI;YACF,2CAA2C;YAC3C,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC;gBACtC,MAAM,EAAE,KAAK;gBACb,GAAG,EAAE,+DAA+D;aACrE,CAAC,CAAC;YACH,MAAM,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC,QAAQ;iBAC/B,MAAM,CAAC,CAAC,CAAM,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,SAAS,CAAC;iBACxC,GAAG,CAAC,CAAC,CAAM,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;iBACrB,MAAM,CAAC,CAAC,CAAS,EAAE,EAAE,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;iBACnD,IAAI,CAAC,CAAC,CAAS,EAAE,CAAS,EAAE,EAAE;gBAC7B,MAAM,EAAE,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBACpC,MAAM,EAAE,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBACpC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,EAAE;oBACvD,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;oBACtB,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;oBACtB,IAAI,EAAE,KAAK,EAAE;wBAAE,OAAO,EAAE,GAAG,EAAE,CAAC;iBAC/B;gBACD,OAAO,CAAC,CAAC;YACX,CAAC,CAAC,CAAC;YAEL,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;gBACvB,IAAI,CAAC,eAAe,GAAG,QAAQ,CAAC;gBAChC,IAAI,CAAC,mBAAmB,GAAG,GAAG,CAAC;gBAC/B,OAAO,QAAQ,CAAC;aACjB;SACF;QAAC,OAAO,GAAQ,EAAE;YACjB,OAAO,CAAC,KAAK,CAAC,0CAA0C,EAAE,GAAG,aAAH,GAAG,uBAAH,GAAG,CAAE,OAAO,CAAC,CAAC;SACzE;QAED,iDAAiD;QACjD,OAAO;YACL,MAAM;YACN,QAAQ;YACR,QAAQ;YACR,QAAQ;YACR,QAAQ;YACR,QAAQ;YACR,QAAQ;YACR,QAAQ;YACR,QAAQ;YACR,QAAQ;SACT,CAAC;IACJ,CAAC;IAEM,KAAK,CAAC,aAAa,CAAC,IAAY;QACrC,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC;YAAE,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAEtD,IAAI;YACF,yBAAyB;YACzB,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC;gBAC7C,MAAM,EAAE,KAAK;gBACb,GAAG,EAAE,GAAG,IAAI,CAAC,OAAO,iBAAiB,IAAI,iBAAiB;aAC3D,CAAC,CAAC;YACH,MAAM,WAAW,GAAG,UAAU,CAAC,IAAI,CAAC;YAEpC,+BAA+B;YAC/B,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC;gBAC7C,MAAM,EAAE,KAAK;gBACb,GAAG,EAAE,GAAG,IAAI,CAAC,OAAO,YAAY,WAAW,CAAC,UAAU,EAAE;aACzD,CAAC,CAAC;YACH,MAAM,WAAW,GAAG,UAAU,CAAC,IAAI,CAAC;YAEpC,MAAM,MAAM,GAAG;gBACb,OAAO,EAAE,WAAW;gBACpB,OAAO,EAAE,WAAW;aACrB,CAAC;YAEF,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;YAC5B,OAAO,MAAM,CAAC;SACf;QAAC,OAAO,GAAG,EAAE;YACZ,OAAO,IAAI,CAAC;SACb;IACH,CAAC;IAEO,KAAK,CAAC,gBAAgB,CAAC,MAAW,EAAE,OAAO,GAAG,CAAC;;QACrD,IAAI;YACF,OAAO,MAAM,mBAAK,EAAC;gBACjB,GAAG,MAAM;gBACT,OAAO,EAAE,MAAM,CAAC,OAAO,IAAI,IAAI;aAChC,CAAC,CAAC;SACJ;QAAC,OAAO,GAAQ,EAAE;YACjB,MAAM,cAAc,GAClB,CAAC,GAAG,CAAC,QAAQ;gBACb,CAAC,GAAG,CAAC,IAAI,KAAK,YAAY,IAAI,GAAG,CAAC,IAAI,KAAK,WAAW,IAAI,GAAG,CAAC,IAAI,KAAK,cAAc,CAAC,CAAC;YACzF,MAAM,iBAAiB,GACrB,UAAG,CAAC,QAAQ,0CAAE,MAAM,MAAK,GAAG;gBAC5B,UAAG,CAAC,QAAQ,0CAAE,MAAM,MAAK,GAAG;gBAC5B,UAAG,CAAC,QAAQ,0CAAE,MAAM,MAAK,GAAG,CAAC;YAE/B,IAAI,OAAO,GAAG,CAAC,IAAI,CAAC,cAAc,IAAI,iBAAiB,CAAC,EAAE;gBACxD,MAAM,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;gBAC1D,OAAO,MAAM,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,OAAO,GAAG,CAAC,CAAC,CAAC;aACzD;YACD,MAAM,GAAG,CAAC;SACX;IACH,CAAC;IAEM,KAAK,CAAC,gBAAgB,CAAC,MAAgB;QAC5C,MAAM,MAAM,GAAwB,EAAE,CAAC;QACvC,MAAM,aAAa,GAAa,EAAE,CAAC;QAEnC,IAAI,MAAM,CAAC,MAAM,GAAG,EAAE,EAAE;YACtB,MAAM,IAAI,KAAK,CAAC,yCAAyC,CAAC,CAAC;SAC5D;QAED,KAAK,MAAM,IAAI,IAAI,MAAM,EAAE;YACzB,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;gBACxB,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;aACrC;iBAAM;gBACL,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC1B;SACF;QAED,IAAI,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;YAC5B,8DAA8D;YAC9D,MAAM,SAAS,GAAG,EAAE,CAAC;YACrB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,CAAC,MAAM,EAAE,CAAC,IAAI,SAAS,EAAE;gBACxD,MAAM,KAAK,GAAG,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,CAAC;gBACpD,IAAI;oBACF,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC;wBACtC,MAAM,EAAE,MAAM;wBACd,GAAG,EAAE,GAAG,IAAI,CAAC,OAAO,gBAAgB;wBACpC,IAAI,EAAE;4BACJ,MAAM,EAAE,KAAK;4BACb,SAAS,EAAE,MAAM;yBAClB;qBACF,CAAC,CAAC;oBAEH,MAAM,WAAW,GAAG,GAAG,CAAC,IAAI,CAAC;oBAC7B,MAAM,UAAU,GAAG,IAAI,GAAG,EAAU,CAAC;oBACrC,KAAK,MAAM,IAAI,IAAI,WAAW,EAAE;wBAC9B,UAAU,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,CAAC;qBAC9C;oBAED,IAAI,UAAU,CAAC,IAAI,GAAG,CAAC,EAAE;wBACvB,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC;4BAC9C,MAAM,EAAE,KAAK;4BACb,GAAG,EAAE,GAAG,IAAI,CAAC,OAAO,WAAW;4BAC/B,MAAM,EAAE,EAAE,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE;yBACxD,CAAC,CAAC;wBACH,MAAM,QAAQ,GAAG,WAAW,CAAC,IAAI,CAAC;wBAClC,MAAM,WAAW,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,GAAQ,EAAE,CAAM,EAAE,EAAE;4BACvD,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;4BACd,OAAO,GAAG,CAAC;wBACb,CAAC,EAAE,EAAE,CAAC,CAAC;wBAEP,KAAK,MAAM,IAAI,IAAI,WAAW,EAAE;4BAC9B,MAAM,OAAO,GAAG,WAAW,CAAC,IAAI,CAAC,CAAC;4BAClC,MAAM,OAAO,GAAG,WAAW,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;4BAChD,MAAM,IAAI,GAAG,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC;4BAClC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;4BAC1B,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;yBACrB;qBACF;iBACF;gBAAC,OAAO,GAAQ,EAAE;oBACjB,OAAO,CAAC,KAAK,CAAC,yCAAyC,CAAC,GAAG,SAAS,GAAG,EAAE,GAAG,aAAH,GAAG,uBAAH,GAAG,CAAE,OAAO,CAAC,CAAC;iBACxF;aACF;SACF;QAED,OAAO,MAAM,CAAC;IAChB,CAAC;IAEO,0BAA0B,CAAC,EAAU,EAAE,WAAoB;QACjE,IAAI,CAAC,EAAE;YAAE,OAAO,SAAS,CAAC;QAC1B,yBAAyB;QACzB,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,4BAA4B,EAAE,EAAE,CAAC,CAAC;QAElD,gDAAgD;QAChD,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,uBAAuB,EAAE,EAAE,CAAC,CAAC;QAE7C,IAAI,WAAW,EAAE;YACf,4EAA4E;YAC5E,sDAAsD;YACtD,MAAM,qBAAqB,GAAG,WAAW;iBACtC,WAAW,EAAE;iBACb,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC;iBACzB,OAAO,CAAC,2CAA2C,EAAE,EAAE,CAAC,CAAC;YAE5D,MAAM,OAAO,GAAG,EAAE,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC;YAE3D,IAAI,qBAAqB,CAAC,MAAM,GAAG,CAAC,IAAI,OAAO,CAAC,UAAU,CAAC,qBAAqB,CAAC,EAAE;gBACjF,0DAA0D;gBAC1D,IAAI,IAAI,GAAG,CAAC,CAAC;gBACb,IAAI,OAAO,GAAG,CAAC,CAAC;gBAChB,OAAO,IAAI,GAAG,EAAE,CAAC,MAAM,IAAI,OAAO,GAAG,qBAAqB,CAAC,MAAM,EAAE;oBACjE,MAAM,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC;oBAC9D,IAAI,IAAI,KAAK,qBAAqB,CAAC,OAAO,CAAC,EAAE;wBAC3C,OAAO,EAAE,CAAC;qBACX;oBACD,IAAI,EAAE,CAAC;iBACR;gBACD,MAAM,QAAQ,GAAG,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;gBAC7D,kEAAkE;gBAClE,IAAI,QAAQ,CAAC,MAAM,IAAI,CAAC;oBAAE,EAAE,GAAG,QAAQ,CAAC;aACzC;SACF;QAED,qFAAqF;QACrF,kFAAkF;QAClF,MAAM,gBAAgB,GAAG,EAAE,CAAC,KAAK,CAAC,iCAAiC,CAAC,CAAC;QACrE,IAAI,gBAAgB,EAAE;YACpB,MAAM,gBAAgB,GAAG,gBAAgB,CAAC,CAAC,CAAC,CAAC;YAC7C,6EAA6E;YAC7E,IAAI,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAAE;gBACjC,EAAE,GAAG,gBAAgB,CAAC;aACvB;SACF;QAED,qEAAqE;QACrE,0DAA0D;QAC1D,IAAI,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;YACxC,MAAM,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;YAClC,mFAAmF;YACnF,6EAA6E;SAC9E;QAED,OAAO,EAAE,CAAC;IACZ,CAAC;IAEM,KAAK,CAAC,cAAc,CACzB,KAAa,EACb,MAAM,GAAG,CAAC,EACV,KAAK,GAAG,EAAE,EACV,OAMC;QAED,IAAI,KAAK,GAAG,EAAE;YAAE,MAAM,IAAI,KAAK,CAAC,kCAAkC,CAAC,CAAC;QACpE,MAAM,MAAM,GAAG,QAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,MAAM,KAAI,KAAK,CAAC;QAExC,IAAI,MAAM,KAAK,UAAU,EAAE;YACzB,OAAO,MAAM,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;SACjE;QAED,IAAI,MAAM,KAAK,YAAY,EAAE;YAC3B,OAAO,MAAM,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;SACnE;QAED,IAAI,MAAM,KAAK,UAAU,EAAE;YACzB,OAAO,MAAM,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;SACjE;QAED,qBAAqB;QACrB,IAAI;YACF,IAAI,CAAC,GAAG,CAAC,CAAC;YACV,IAAI,aAA2B,CAAC;YAEhC,IAAI,QAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,IAAI,MAAK,KAAK,EAAE;gBAC3B,CAAC,GAAG,CAAC,CAAC;gBACN,aAAa,GAAG,OAAO,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,CAAC,CAAC;aAC9D;iBAAM;gBACL,aAAa,GAAG,IAAI,CAAC,cAAc,CACjC,KAAK,EACL,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,EAC5B,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,EACnE,OAAO,CACR,CAAC;aACH;YAED,MAAM,CAAC,WAAW,EAAE,aAAa,EAAE,SAAS,CAAC,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;gBAChE,IAAI,CAAC,cAAc,CACjB,KAAK,EACL,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,EAC5B,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,EACnE,OAAO,CACR;gBACD,IAAI,CAAC,gBAAgB,CACnB,KAAK,EACL,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,EAC5B,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,EACnE,OAAO,CACR;gBACD,aAAa;aACd,CAAC,CAAC;YAEH,MAAM,IAAI,GAAG;gBACX,GAAG,CAAC,YAAW,aAAX,WAAW,uBAAX,WAAW,CAAE,IAAI,KAAI,EAAE,CAAC;gBAC5B,GAAG,CAAC,cAAa,aAAb,aAAa,uBAAb,aAAa,CAAE,IAAI,KAAI,EAAE,CAAC;gBAC9B,GAAG,CAAC,UAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,IAAI,KAAI,EAAE,CAAC;aAC3B,CAAC;YAEF,MAAM,UAAU,GACd,CAAC,YAAW,aAAX,WAAW,uBAAX,WAAW,CAAE,UAAU,KAAI,CAAC,CAAC;gBAC9B,CAAC,cAAa,aAAb,aAAa,uBAAb,aAAa,CAAE,UAAU,KAAI,CAAC,CAAC;gBAChC,CAAC,UAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,UAAU,KAAI,CAAC,CAAC,CAAC;YAE/B,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,CAAC;SAC7B;QAAC,OAAO,GAAG,EAAE;YACZ,OAAO,CAAC,KAAK,CAAC,mBAAmB,EAAE,GAAG,CAAC,CAAC;YACxC,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,CAAC;SACpC;IACH,CAAC;IAEM,KAAK,CAAC,cAAc,CACzB,KAAa,EACb,MAAM,GAAG,CAAC,EACV,KAAK,GAAG,EAAE,EACV,OAAoF;QAEpF,IAAI;YACF,MAAM,MAAM,GAAe,EAAE,CAAC;YAC9B,IAAI,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,OAAO,EAAE;gBACpB,MAAM,CAAC,IAAI,CAAC,CAAC,YAAY,OAAO,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;aAC9C;YACD,IAAI,QAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,IAAI,KAAI,OAAO,CAAC,IAAI,KAAK,KAAK,EAAE;gBAC3C,IAAI,OAAO,CAAC,IAAI,KAAK,QAAQ,EAAE;oBAC7B,MAAM,CAAC,IAAI,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC;oBAClC,wEAAwE;oBACxE,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,OAAO,CAAC,MAAM,KAAK,KAAK,EAAE;wBAC/C,MAAM,CAAC,IAAI,CAAC;4BACV,mBAAmB;4BACnB,kBAAkB;4BAClB,mBAAmB;4BACnB,kBAAkB;4BAClB,uBAAuB;4BACvB,qBAAqB;4BACrB,sBAAsB;yBACvB,CAAC,CAAC;qBACJ;iBACF;qBAAM;oBACL,MAAM,CAAC,IAAI,CAAC,CAAC,gBAAgB,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;iBAC/C;aACF;YAED,8DAA8D;YAC9D,IAAI,QAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,MAAM,KAAI,OAAO,CAAC,MAAM,KAAK,KAAK,EAAE;gBAC/C,MAAM,SAAS,GAA2B;oBACxC,KAAK,EAAE,OAAO;oBACd,MAAM,EAAE,QAAQ;oBAChB,KAAK,EAAE,OAAO;oBACd,QAAQ,EAAE,UAAU;oBACpB,MAAM,EAAE,QAAQ;oBAChB,KAAK,EAAE,OAAO;oBACd,MAAM,EAAE,QAAQ;oBAChB,KAAK,EAAE,OAAO;oBACd,UAAU,EAAE,YAAY;oBACxB,QAAQ,EAAE,UAAU;oBACpB,SAAS,EAAE,WAAW;iBACvB,CAAC;gBACF,MAAM,UAAU,GAAG,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,IAAI,OAAO,CAAC,MAAM,CAAC;gBAC7E,MAAM,CAAC,IAAI,CAAC,CAAC,cAAc,UAAU,EAAE,CAAC,CAAC,CAAC;aAC3C;YAED,qCAAqC;YACrC,IAAI,QAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,WAAW,KAAI,OAAO,CAAC,WAAW,KAAK,KAAK,EAAE;gBACzD,IAAI,OAAO,CAAC,WAAW,CAAC,WAAW,EAAE,KAAK,QAAQ,EAAE;oBAClD,MAAM,CAAC,IAAI,CAAC,CAAC,sBAAsB,EAAE,sBAAsB,CAAC,CAAC,CAAC;iBAC/D;qBAAM,IAAI,OAAO,CAAC,WAAW,CAAC,WAAW,EAAE,KAAK,QAAQ,EAAE;oBACzD,MAAM,CAAC,IAAI,CAAC,CAAC,sBAAsB,EAAE,sBAAsB,CAAC,CAAC,CAAC;iBAC/D;aACF;YAED,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC;gBACtC,MAAM,EAAE,KAAK;gBACb,GAAG,EAAE,GAAG,IAAI,CAAC,OAAO,SAAS;gBAC7B,MAAM,EAAE;oBACN,KAAK;oBACL,MAAM,EAAE,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS;oBAC9D,MAAM;oBACN,KAAK;iBACN;aACF,CAAC,CAAC;YAEH,IAAI,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE;gBAC/B,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,CAAC;aACpC;YAED,MAAM,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;YAC3B,MAAM,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAM,EAAE,EAAE,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,MAAM,CAAC,CAAC,EAAO,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;YACpF,IAAI,WAAW,GAA2B,EAAE,CAAC;YAE7C,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;gBACzB,IAAI;oBACF,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC;wBAC9C,MAAM,EAAE,KAAK;wBACb,GAAG,EAAE,GAAG,IAAI,CAAC,OAAO,WAAW;wBAC/B,MAAM,EAAE,EAAE,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE;qBAC5C,CAAC,CAAC;oBACH,WAAW,GAAG,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,GAAQ,EAAE,CAAM,EAAE,EAAE;wBACzD,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,cAAc,CAAC;wBAC7B,OAAO,GAAG,CAAC;oBACb,CAAC,EAAE,EAAE,CAAC,CAAC;iBACR;gBAAC,OAAO,IAAI,EAAE;oBACb,OAAO,CAAC,KAAK,CAAC,2CAA2C,EAAE,IAAI,CAAC,CAAC;iBAClE;aACF;YAED,2CAA2C;YAC3C,MAAM,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAQ,EAAE,EAAE;;gBACvC,oEAAoE;gBACpE,gEAAgE;gBAChE,IAAI,WAAW,GAAG,GAAG,CAAC,YAAY,CAAC;gBACnC,IAAI,QAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,IAAI,MAAK,QAAQ,EAAE;oBAC9B,WAAW,GAAG,QAAQ,CAAC;iBACxB;qBAAM;oBACL,MAAM,gBAAgB,GAAG;wBACvB,QAAQ;wBACR,OAAO;wBACP,QAAQ;wBACR,OAAO;wBACP,YAAY;wBACZ,UAAU;wBACV,WAAW;qBACZ,CAAC;oBACF,IACE,WAAW,KAAK,KAAK;yBACrB,SAAG,CAAC,UAAU,0CAAE,IAAI,CAAC,CAAC,CAAS,EAAE,EAAE,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,GAC/E;wBACA,WAAW,GAAG,QAAQ,CAAC;qBACxB;iBACF;gBAED,OAAO;oBACL,EAAE,EAAE,GAAG,CAAC,UAAU;oBAClB,IAAI,EAAE,GAAG,CAAC,IAAI;oBACd,KAAK,EAAE,GAAG,CAAC,KAAK;oBAChB,WAAW,EAAE,GAAG,CAAC,WAAW;oBAC5B,QAAQ,EAAE,GAAG,CAAC,QAAQ;oBACtB,MAAM,EAAE,GAAG,CAAC,MAAM;oBAClB,SAAS,EAAE,GAAG,CAAC,SAAS;oBACxB,OAAO,EAAE,GAAG,CAAC,aAAa;oBAC1B,UAAU,EAAE,GAAG,CAAC,UAAU;oBAC1B,cAAc,EAAE,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,IAAI,GAAG,CAAC,cAAc;oBACrE,aAAa,EAAE,GAAG,CAAC,QAAQ;oBAC3B,kBAAkB,EAAE,GAAG,CAAC,kBAAkB;oBAC1C,MAAM,EAAE,UAAU;oBAClB,YAAY,EAAE,WAAW;iBAC1B,CAAC;YACJ,CAAC,CAAC,CAAC;YAEH,OAAO;gBACL,IAAI,EAAE,UAAU;gBAChB,UAAU,EAAE,GAAG,CAAC,IAAI,CAAC,UAAU;aAChC,CAAC;SACH;QAAC,OAAO,GAAG,EAAE;YACZ,OAAO,CAAC,KAAK,CAAC,wBAAwB,EAAE,GAAG,CAAC,CAAC;YAC7C,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,CAAC;SACpC;IACH,CAAC;IAEM,KAAK,CAAC,gBAAgB,CAC3B,KAAa,EACb,MAAM,GAAG,CAAC,EACV,KAAK,GAAG,EAAE,EACV,OAAoF;;QAEpF,IAAI;YACF,MAAM,UAAU,GAA2B;gBACzC,GAAG,EAAE,CAAC;gBACN,MAAM,EAAE,EAAE;gBACV,OAAO,EAAE,IAAI;gBACb,GAAG,EAAE,CAAC;aACP,CAAC;YAEF,MAAM,SAAS,GAA2B;gBACxC,KAAK,EAAE,CAAC;gBACR,MAAM,EAAE,CAAC;gBACT,KAAK,EAAE,CAAC;gBACR,QAAQ,EAAE,CAAC;gBACX,GAAG,EAAE,CAAC;aACP,CAAC;YAEF,MAAM,IAAI,GAAG,QAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,IAAI,KAAI,KAAK,CAAC;YACpC,MAAM,MAAM,GAAG,cAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,MAAM,0CAAE,WAAW,EAAE,KAAI,KAAK,CAAC;YAEvD,MAAM,MAAM,GAAQ;gBAClB,MAAM,EAAE,GAAG;gBACX,YAAY,EAAE,KAAK,IAAI,EAAE;gBACzB,KAAK,EAAE,MAAM;gBACb,QAAQ,EAAE,KAAK;aAChB,CAAC;YAEF,IAAI,IAAI,KAAK,KAAK,IAAI,UAAU,CAAC,IAAI,CAAC,EAAE;gBACtC,MAAM,CAAC,OAAO,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC;aACnC;iBAAM,IAAI,IAAI,KAAK,KAAK,EAAE;gBACzB,qEAAqE;gBACrE,4DAA4D;gBAC5D,MAAM,CAAC,OAAO,GAAG,CAAC,CAAC;aACpB;YAED,IAAI,MAAM,KAAK,KAAK,IAAI,SAAS,CAAC,MAAM,CAAC,EAAE;gBACzC,MAAM,CAAC,aAAa,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC;aAC1C;YAED,IAAI,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,OAAO,EAAE;gBACpB,MAAM,CAAC,WAAW,GAAG,OAAO,CAAC,OAAO,CAAC;aACtC;YAED,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC;gBACtC,MAAM,EAAE,KAAK;gBACb,GAAG,EAAE,GAAG,IAAI,CAAC,aAAa,oBAAoB;gBAC9C,MAAM;gBACN,OAAO,EAAE;oBACP,MAAM,EAAE,kBAAkB;oBAC1B,WAAW,EAAE,+DAA+D;iBAC7E;gBACD,OAAO,EAAE,KAAK;aACf,CAAC,CAAC;YAEH,IAAI,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;gBAChE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,CAAC;aACpC;YAED,MAAM,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAQ,EAAE,EAAE;;gBAC1C,MAAM,UAAU,GAAG,SAAG,CAAC,WAAW,0CAAG,CAAC,CAAC,CAAC;gBACxC,MAAM,EAAE,GAAG,IAAI,CAAC,0BAA0B,CACxC,WAAU,aAAV,UAAU,uBAAV,UAAU,CAAE,WAAW,MAAI,UAAU,aAAV,UAAU,uBAAV,UAAU,CAAE,QAAQ,KAAI,EAAE,EACrD,GAAG,CAAC,IAAI,CACT,CAAC;gBAEF,OAAO;oBACL,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC;oBAClB,IAAI,EAAE,GAAG,CAAC,IAAI;oBACd,KAAK,EAAE,GAAG,CAAC,IAAI;oBACf,WAAW,EAAE,GAAG,CAAC,OAAO;oBACxB,QAAQ,EAAE,SAAG,CAAC,IAAI,0CAAE,GAAG;oBACvB,MAAM,EAAE,eAAG,CAAC,OAAO,0CAAG,CAAC,CAAC,0CAAE,IAAI;oBAC9B,SAAS,EAAE,GAAG,CAAC,aAAa;oBAC5B,OAAO,EAAE,GAAG,CAAC,YAAY;oBACzB,UAAU,EAAE,SAAG,CAAC,UAAU,0CAAE,GAAG,CAAC,CAAC,CAAM,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;oBACnD,cAAc,EAAE,EAAE;oBAClB,aAAa,EACX,UAAG,CAAC,kBAAkB,0CAClB,GAAG,CAAC,CAAC,CAAM,EAAE,EAAE,CAAC,CAAC,CAAC,WAAW,EAC9B,MAAM,CAAC,CAAC,CAAS,EAAE,CAAS,EAAE,CAAW,EAAE,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,EAChE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,KAAI,EAAE;oBACtB,kBAAkB,EAAE,SAAG,CAAC,UAAU,0CAAE,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,CAAM,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;oBACvE,MAAM,EAAE,YAAY;oBACpB,YAAY,EAAE,GAAG,CAAC,OAAO,KAAK,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK;iBACpD,CAAC;YACJ,CAAC,CAAC,CAAC;YAEH,OAAO;gBACL,IAAI;gBACJ,UAAU,EAAE,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU;aAC3C,CAAC;SACH;QAAC,OAAO,GAAG,EAAE;YACZ,OAAO,CAAC,KAAK,CAAC,0BAA0B,EAAE,GAAG,CAAC,CAAC;YAC/C,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,CAAC;SACpC;IACH,CAAC;IAEM,KAAK,CAAC,kBAAkB,CAC7B,SAAiB,EACjB,SAAiB,UAAU,EAC3B,OAAkB,EAClB,YAAuB;QAEvB,MAAM,CAAC,GAAG,MAAM,CAAC,WAAW,EAAE,CAAC;QAC/B,IAAI,CAAC,KAAK,YAAY,EAAE;YACtB,OAAO,MAAM,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;SACpD;QACD,IAAI,CAAC,KAAK,UAAU,EAAE;YACpB,OAAO,MAAM,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC;SAChD;QACD,IAAI;YACF,MAAM,MAAM,GAAQ,EAAE,CAAC;YACvB,IAAI,OAAO;gBAAE,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;YACtD,IAAI,YAAY;gBAAE,MAAM,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;YAEtE,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC;gBACtC,MAAM,EAAE,KAAK;gBACb,GAAG,EAAE,GAAG,IAAI,CAAC,OAAO,YAAY,SAAS,UAAU;gBACnD,MAAM;aACP,CAAC,CAAC;YAEH,MAAM,KAAK,GAAG,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC;YAE7B,0EAA0E;YAC1E,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC;gBAC7C,MAAM,EAAE,KAAK;gBACb,GAAG,EAAE,GAAG,IAAI,CAAC,OAAO,YAAY,SAAS,EAAE;aAC5C,CAAC,CAAC;YACH,MAAM,WAAW,GAAG,UAAU,CAAC,IAAI,CAAC,YAAY,KAAK,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,QAAQ,CAAC;YAE9E,OAAO,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAM,EAAE,EAAE,CAAC,CAAC;gBAC1C,GAAG,CAAC;gBACJ,YAAY,EAAE,WAAW;aAC1B,CAAC,CAAC,CAAC;SACL;QAAC,OAAO,GAAG,EAAE;YACZ,OAAO,IAAI,CAAC;SACb;IACH,CAAC;IAEM,KAAK,CAAC,qBAAqB,CAAC,SAAiB;;QAClD,IAAI;YACF,4DAA4D;YAC5D,IAAI,WAAW,GAAG,EAAE,CAAC;YACrB,IAAI,OAAO,GAAQ,IAAI,CAAC;YACxB,IAAI;gBACF,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC;oBACzC,MAAM,EAAE,KAAK;oBACb,GAAG,EAAE,GAAG,IAAI,CAAC,aAAa,eAAe,SAAS,EAAE;oBACpD,OAAO,EAAE;wBACP,MAAM,EAAE,kBAAkB;wBAC1B,WAAW,EAAE,+DAA+D;qBAC7E;iBACF,CAAC,CAAC;gBACH,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;gBAC3B,WAAW,GAAG,OAAO,CAAC,IAAI,CAAC;aAC5B;YAAC,OAAO,CAAC,EAAE,GAAE;YAEd,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC;gBACtC,MAAM,EAAE,KAAK;gBACb,GAAG,EAAE,GAAG,IAAI,CAAC,aAAa,eAAe,SAAS,QAAQ;gBAC1D,OAAO,EAAE;oBACP,MAAM,EAAE,kBAAkB;oBAC1B,WAAW,EAAE,+DAA+D;iBAC7E;aACF,CAAC,CAAC;YAEH,oDAAoD;YACpD,iCAAiC;YACjC,MAAM,QAAQ,GACZ,QAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,OAAO,MAAK,EAAE;iBACvB,aAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,UAAU,0CAAE,IAAI,CAAC,CAAC,CAAM,EAAE,EAAE,CACnC,CAAC,QAAQ,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,YAAY,EAAE,UAAU,EAAE,WAAW,CAAC,CAAC,QAAQ,CACpF,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,CACrB,CACF,EAAC;YAEJ,OAAO,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAS,EAAE,EAAE;gBACrC,MAAM,YAAY,GAAG,IAAI,CAAC,YAAY,IAAI,EAAE,CAAC;gBAC7C,MAAM,OAAO,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC,CAAS,EAAE,EAAE,CAChD;oBACE,OAAO;oBACP,QAAQ;oBACR,OAAO;oBACP,UAAU;oBACV,YAAY;oBACZ,QAAQ;oBACR,OAAO;oBACP,QAAQ;iBACT,CAAC,QAAQ,CAAC,CAAC,CAAC,CACd,CAAC;gBACF,MAAM,gBAAgB,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC,CAAS,EAAE,EAAE,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;gBAE1F,MAAM,EAAE,GAAG,IAAI,CAAC,0BAA0B,CACxC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,QAAQ,IAAI,EAAE,EACvC,WAAW,CACZ,CAAC;gBAEF,OAAO;oBACL,EAAE,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC;oBACnB,IAAI,EAAE,EAAE;oBACR,cAAc,EAAE,EAAE;oBAClB,aAAa,EAAE,gBAAgB;oBAC/B,OAAO,EAAE,OAAO;oBAChB,YAAY,EAAE,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK;oBACzC,KAAK,EAAE;wBACL;4BACE,GAAG,EAAE,IAAI,CAAC,WAAW;4BACrB,QAAQ,EAAE,IAAI,CAAC,QAAQ;4BACvB,OAAO,EAAE,IAAI;yBACd;qBACF;iBACF,CAAC;YACJ,CAAC,CAAC,CAAC;SACJ;QAAC,OAAO,GAAG,EAAE;YACZ,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,GAAG,CAAC,CAAC;YACjD,OAAO,IAAI,CAAC;SACb;IACH,CAAC;IAEM,KAAK,CAAC,cAAc,CACzB,KAAa,EACb,MAAM,GAAG,CAAC,EACV,KAAK,GAAG,EAAE,EACV,OAAoF;QAEpF,IAAI,QAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,IAAI,MAAK,KAAK,EAAE;YAC3B,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,CAAC;SACpC;QACD,IAAI;YACF,iEAAiE;YACjE,mCAAmC;YACnC,MAAM,YAAY,GAAG,MAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,IAAI,EAAE,KAAI,GAAG,CAAC;YAC1C,MAAM,GAAG,GAAG,8CAA8C,kBAAkB,CAAC,YAAY,CAAC,EAAE,CAAC;YAE7F,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC;gBACtC,MAAM,EAAE,KAAK;gBACb,GAAG;gBACH,MAAM,EAAE;oBACN,IAAI,EAAE,KAAK;oBACX,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC;oBACpC,MAAM,EAAE,sDAAsD;oBAC9D,IAAI,EAAE,aAAa;iBACpB;gBACD,OAAO,EAAE;oBACP,YAAY,EAAE,YAAY;iBAC3B;gBACD,cAAc,EAAE,CAAC,MAAc,EAAE,EAAE,CAAC,CAAC,MAAM,IAAI,GAAG,IAAI,MAAM,GAAG,GAAG,CAAC,IAAI,MAAM,KAAK,GAAG;aACtF,CAAC,CAAC;YAEH,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE;gBACnC,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,CAAC;aACpC;YAED,MAAM,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC;YAErD,wDAAwD;YACxD,MAAM,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,IAAS,EAAE,EAAE,WAAC,iBAAI,CAAC,OAAO,0CAAE,EAAE,IAAC,CAAC,MAAM,CAAC,CAAC,EAAO,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;YACvF,MAAM,eAAe,GAA2B,EAAE,CAAC;YAEnD,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;gBACzB,IAAI;oBACF,oGAAoG;oBACpG,sDAAsD;oBACtD,uFAAuF;oBACvF,yEAAyE;oBACzE,kFAAkF;oBAClF,MAAM,OAAO,CAAC,GAAG,CACf,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE,IAAS,EAAE,EAAE;;wBACxC,IAAI,UAAI,CAAC,OAAO,0CAAE,EAAE,EAAE;4BACpB,IAAI;gCACF,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC;oCACvC,MAAM,EAAE,KAAK;oCACb,GAAG,EAAE,uCAAuC,IAAI,CAAC,EAAE,aAAa,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE;oCACjF,OAAO,EAAE,IAAI;oCACb,OAAO,EAAE;wCACP,YAAY,EAAE,YAAY;qCAC3B;iCACF,CAAC,CAAC;gCACH,IAAI,UAAI,CAAC,IAAI,0CAAE,IAAI,EAAE;oCACnB,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;iCACnD;6BACF;4BAAC,OAAO,CAAC,EAAE,GAAE;yBACf;oBACH,CAAC,CAAC,CACH,CAAC;iBACH;gBAAC,OAAO,CAAC,EAAE,GAAE;aACf;YAED,MAAM,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,IAAS,EAAE,EAAE;;gBAAC,QAAC;oBACpC,EAAE,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC;oBACnB,IAAI,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC;oBACrB,KAAK,EAAE,IAAI,CAAC,IAAI;oBAChB,WAAW,EAAE,IAAI,CAAC,GAAG;oBACrB,QAAQ,EAAE,WAAI,CAAC,IAAI,0CAAE,GAAG,EAAC,CAAC,CAAC,4BAA4B,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE;oBAC3E,MAAM,EAAE,EAAE;oBACV,SAAS,EAAE,IAAI,CAAC,SAAS;oBACzB,OAAO,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC,WAAW,EAAE;oBACvD,UAAU,EAAE,EAAE;oBACd,cAAc,EACZ,eAAe,CAAC,UAAI,CAAC,OAAO,0CAAE,EAAE,CAAC;yBACjC,UAAI,CAAC,OAAO,0CAAE,IAAI;wBAClB,CAAC,WAAI,CAAC,OAAO,0CAAE,EAAE,EAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;oBACzD,aAAa,EAAE,EAAE;oBACjB,kBAAkB,EAAE,CAAC,QAAQ,CAAC;oBAC9B,MAAM,EAAE,UAAU;oBAClB,YAAY,EAAE,QAAQ;iBACvB,CAAC;aAAA,CAAC,CAAC;YAEJ,OAAO;gBACL,IAAI;gBACJ,UAAU,EACR,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,GAAG,CAAC;oBAC7C,CAAC,IAAI,CAAC,MAAM,KAAK,KAAK,CAAC,CAAC,CAAC,MAAM,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;aACtE,CAAC;SACH;QAAC,OAAO,GAAG,EAAE;YACZ,OAAO,CAAC,KAAK,CAAC,wBAAwB,EAAE,GAAG,CAAC,CAAC;YAC7C,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,CAAC;SACpC;IACH,CAAC;IAEM,KAAK,CAAC,iBAAiB,CAAC,SAAiB;QAC9C,IAAI;YACF,IAAI,YAAY,GAAG,SAAS,CAAC;YAC7B,IAAI;gBACF,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC;oBAC9C,MAAM,EAAE,KAAK;oBACb,GAAG,EAAE,uCAAuC,SAAS,EAAE;oBACvD,OAAO,EAAE;wBACP,YAAY,EAAE,YAAY;qBAC3B;iBACF,CAAC,CAAC;gBACH,YAAY,GAAG,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC;aACtC;YAAC,OAAO,CAAC,EAAE,GAAE;YAEd,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC;gBACtC,MAAM,EAAE,KAAK;gBACb,GAAG,EAAE,uCAAuC,SAAS,WAAW;gBAChE,MAAM,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE;gBACrB,OAAO,EAAE;oBACP,YAAY,EAAE,YAAY;iBAC3B;aACF,CAAC,CAAC;YACH,MAAM,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC;YAC1B,OAAO,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAM,EAAE,KAAa,EAAE,EAAE;gBAC5C,mCAAmC;gBACnC,MAAM,QAAQ,GAAG,YAAY,CAAC,OAAO,CAAC,uBAAuB,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;gBACzF,oGAAoG;gBACpG,8EAA8E;gBAC9E,MAAM,QAAQ,GAAG,KAAK,KAAK,CAAC,CAAC;gBAC7B,MAAM,WAAW,GAAG,QAAQ;oBAC1B,CAAC,CAAC,uCAAuC,SAAS,WAAW;oBAC7D,CAAC,CAAC,uCAAuC,SAAS,aAAa,CAAC,CAAC,EAAE,WAAW,CAAC;gBAEjF,kDAAkD;gBAClD,sFAAsF;gBACtF,MAAM,cAAc,GAAG,WAAW,CAAC,OAAO,CAAC,gBAAgB,EAAE,gBAAgB,CAAC,CAAC;gBAE/E,OAAO;oBACL,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC;oBAChB,IAAI,EAAE,CAAC,CAAC,IAAI;oBACZ,cAAc,EAAE,CAAC,CAAC,IAAI;oBACtB,aAAa,EAAE,EAAE;oBACjB,OAAO,EAAE,CAAC,QAAQ,EAAE,OAAO,CAAC;oBAC5B,YAAY,EAAE,QAAQ;oBACtB,KAAK,EAAE;wBACL;4BACE,GAAG,EAAE,cAAc;4BACnB,QAAQ,EAAE,GAAG,QAAQ,IAAI,CAAC,CAAC,IAAI,MAAM;4BACrC,OAAO,EAAE,IAAI;yBACd;wBACD;4BACE,GAAG,EAAE,WAAW;4BAChB,QAAQ,EAAE,GAAG,QAAQ,IAAI,CAAC,CAAC,IAAI,MAAM;4BACrC,OAAO,EAAE,KAAK;yBACf;qBACF;iBACF,CAAC;YACJ,CAAC,CAAC,CAAC;SACJ;QAAC,OAAO,GAAG,EAAE;YACZ,OAAO,CAAC,KAAK,CAAC,0BAA0B,EAAE,GAAG,CAAC,CAAC;YAC/C,OAAO,IAAI,CAAC;SACb;IACH,CAAC;CACF;AAEY,yBAAiB,GAAG,IAAI,iBAAiB,EAAE,CAAC;;;;;;;;;;;;;;;;;;;;;;;ACl5BzD,yFAA0E;AAC1E,2CAA0B;AAU1B,MAAM,eAAe;IAMnB,YAAY,UAAU,GAAG,EAAE;QAL3B,2CAAgC;QAChC,0CAA0C;QAC1C,8CAAoB;QACpB,sCAAqC,IAAI,EAAC;QAGxC,2BAAI,4BAAY,IAAI,qCAAqB,CAAC,iBAAiB,CAAC,OAAC;QAC7D,2BAAI,2BAAW,IAAI,GAAG,EAAE,OAAC;QACzB,2BAAI,+BAAe,UAAU,OAAC;QAC9B,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IAED,KAAK,CAAC,UAAU,CAAC,SAA2C,2BAAI,+BAAQ;QACtE,IAAI,MAAM,CAAC,IAAI,KAAK,CAAC;YAAE,OAAO,IAAI,CAAC;QACnC,MAAM,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;QAC5C,MAAM,2BAAI,gCAAS,CAAC,MAAM,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;QAC9C,OAAO,IAAI,CAAC;IACd,CAAC;IAED,SAAS,CAAC,SAA2C,2BAAI,+BAAQ;QAC/D,IAAI,MAAM,CAAC,IAAI,KAAK,CAAC;YAAE,OAAO,IAAI,CAAC;QACnC,MAAM,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;QAC5C,2BAAI,gCAAS,CAAC,MAAM,CAAC,QAAQ,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;QAC9C,OAAO,IAAI,CAAC;IACd,CAAC;IAED,gBAAgB;QACd,IAAI,2BAAI,+BAAQ,CAAC,IAAI,GAAG,2BAAI,mCAAY;YAAE,OAAO;QACjD,MAAM,aAAa,GAAG,2BAAI,+BAAQ,CAAC;QACnC,2BAAI,2BAAW,IAAI,GAAG,EAAE,OAAC;QACzB,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC;IACjC,CAAC;IAED,GAAG,CACD,IAAO,EACP,OAAwB,EACxB,QAAsC,MAAM;QAE5C,MAAM,YAAY,GAAG,aAAE,GAAE,CAAC;QAC1B,MAAM,cAAc,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC,QAAQ,EAAE,CAAC;QAE7C,MAAM,IAAI,GAAwB;YAChC,IAAI;YACJ,YAAY;YACZ,cAAc;YACd,eAAe,EAAE,KAAK;YACtB,GAAG,OAAO;SACuB,CAAC;QAEpC,2BAAI,+BAAQ,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;QACrC,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,OAAO,YAAY,CAAC;IACtB,CAAC;IAED,KAAK,CAAC,GAAG,CAAC,KAAK,GAAG,EAAE;QAClB,IAAI,KAAK,IAAI,2BAAI,+BAAQ,CAAC,IAAI;YAAE,OAAO,KAAK,CAAC,IAAI,CAAC,2BAAI,+BAAQ,CAAC,MAAM,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC;QACvF,MAAM,aAAa,GAAG,2BAAI,+BAAQ,CAAC;QACnC,2BAAI,2BAAW,IAAI,GAAG,EAAE,OAAC;QACzB,MAAM,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC;QACrC,OAAO,2BAAI,gCAAS,CAAC,IAAI,CAAsB,QAAQ,EAAE,KAAK,CAAC,CAAC;IAClE,CAAC;IAED,IAAI,CAA6C,IAAO,EAAE,OAAwB;QAChF,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;IACzC,CAAC;IAED,OAAO,CAA6C,IAAO,EAAE,OAAwB;QACnF,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC;IAC5C,CAAC;IAED,KAAK,CAA6C,IAAO,EAAE,OAAwB;QACjF,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;IAC1C,CAAC;IAEO,eAAe;QACrB,2BAAI,+BAAe,WAAW,CAAC,GAAG,EAAE;YAClC,IAAI,2BAAI,+BAAQ,CAAC,IAAI,GAAG,CAAC,EAAE;gBACzB,MAAM,aAAa,GAAG,2BAAI,+BAAQ,CAAC;gBACnC,2BAAI,2BAAW,IAAI,GAAG,EAAE,OAAC;gBACzB,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC;aAChC;QACH,CAAC,EAAE,IAAI,CAAC,OAAC;IACX,CAAC;IAEM,cAAc;QACnB,IAAI,2BAAI,mCAAY,EAAE;YACpB,aAAa,CAAC,2BAAI,mCAAY,CAAC,CAAC;YAChC,2BAAI,+BAAe,IAAI,OAAC;SACzB;IACH,CAAC;CACF;;AAEY,uBAAe,GAAG,IAAI,eAAe,EAAE,CAAC;AAErD,OAAO,CAAC,EAAE,CAAC,QAAQ,EAAE,GAAG,EAAE;IACxB,uBAAe,CAAC,cAAc,EAAE,CAAC;IACjC,uBAAe,CAAC,SAAS,EAAE,CAAC;AAC9B,CAAC,CAAC,CAAC;AAEH,OAAO,CAAC,EAAE,CAAC,MAAM,EAAE,GAAG,EAAE;IACtB,uBAAe,CAAC,cAAc,EAAE,CAAC;IACjC,uBAAe,CAAC,SAAS,EAAE,CAAC;AAC9B,CAAC,CAAC,CAAC;;;;;;;;;;;;;;ACjHH,qEAAmD;AACnD,+CAAuC;AACvC,gEAA4B;AAE5B,8DAA6B;AAC7B,8DAA0C;AAC1C,8DAA+B;AAC/B,wEAAsC;AACtC,iGAAwC;AAE3B,oBAAY,GAAG,OAAO,CAAC;AACvB,wBAAgB,GAAG,aAAa,CAAC;AACjC,0BAAkB,GAAG,eAAe,CAAC;AACrC,mBAAW,GAAG,YAAY,CAAC;AAC3B,8BAAsB,GAAG,kBAAkB,CAAC;AAEzD,SAAgB,KAAK,CACnB,GAA6B,EAC7B,QAAgB,EAChB,QAAgB,EAChB,SAAkB;IAElB,sCAAsC;IACtC,kCAAc,CAAC,GAAG,CAAC,mBAAW,EAAE,kCAAc,CAAC,GAAG,CAAC,mBAAW,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACxE,MAAM,EAAE,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;IAC3B,yBAAyB;IACzB,IAAI;QACF,MAAM,uBAAuB,GAAG,uBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,uBAAuB,KAAI,CAAC,CAAC;QAC3E,sBAAU,CAAC,SAAS,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,EAAE,SAAS,EAAE,uBAAuB,CAAC,CAAC;QACjF,+DAA+D;QAC/D,MAAM,KAAK,GAAG,kCAAc,CAAC,GAAG,CAAC,wBAAgB,CAAC,CAAC;QACnD,IAAI,KAAK;YAAE,OAAO,KAAK,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;QAElC,6CAA6C;QAC7C,OAAO,YAAY,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;KACpC;IAAC,OAAO,GAAG,EAAE;QACZ,sCAAsC;QACtC,kCAAc,CAAC,GAAG,CAAC,8BAAsB,EAAE,kCAAc,CAAC,GAAG,CAAC,8BAAsB,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QAC9F,IAAI,GAAG,CAAC,OAAO,EAAE;YACf,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;YAC5B,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;YAC5B,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;SACpB;QACD,YAAM,CAAC,IAAI,CAAC,eAAe,EAAE,eAAe,QAAQ,UAAU,CAAC,CAAC;QAChE,MAAM,GAAG,CAAC;KACX;AACH,CAAC;AA9BD,sBA8BC;AAED,SAAgB,YAAY,CAAC,GAA6B,EAAE,QAAgB;IAC1E,MAAM,EAAE,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;IAC3B,MAAM,IAAI,GAAG,sBAAU,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;IACpD,IAAI,CAAC,IAAI;QAAE,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,uCAAuC,CAAC,CAAC,CAAC;IACxE,IAAI,CAAC,GAAG,CAAC,OAAO;QAAE,MAAM,IAAI,KAAK,CAAC,kBAAkB,CAAC,CAAC;IAEtD,IAAI,CAAC,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC,cAAc,EAAE,CAAC;IAC7C,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;IAC5B,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,QAAQ,CAAC;IACnC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC;IAChC,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,uBAAQ,GAAE,CAAC;IAClC,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;IAEnB,YAAM,CAAC,IAAI,CAAC,aAAE,EAAC,mBAAmB,CAAC,CAAC,CAAC;IACrC,YAAM,CAAC,IAAI,CAAC,eAAe,EAAE,UAAU,QAAQ,cAAc,CAAC,CAAC;IAC/D,YAAM,CAAC,IAAI,CAAC,kBAAkB,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IACtD,YAAM,CAAC,IAAI,CAAC,aAAE,EAAC,mBAAmB,CAAC,CAAC,CAAC;IAErC,OAAO,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;AACtC,CAAC;AAnBD,oCAmBC;AAED,SAAgB,UAAU,CAAC,GAA6B;;IACtD,OAAO,SAAG,CAAC,EAAE,mCAAI,EAAE,CAAC;AACtB,CAAC;AAFD,gCAEC;AAEM,KAAK,UAAU,OAAO,CAAC,GAA6B;IACzD,IAAI,CAAC,GAAG,CAAC,OAAO;QAAE,MAAM,IAAI,KAAK,CAAC,kBAAkB,CAAC,CAAC;IACtD,MAAM,QAAQ,GAAG,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;IACzC,MAAM,IAAI,GAAG,sBAAU,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;IACpD,IAAI,CAAC,IAAI;QAAE,MAAM,IAAI,KAAK,CAAC,eAAe,CAAC,CAAC;IAC5C,IAAI;QACF,MAAM,MAAM,GAAG,sBAAa,CAAC,cAAc,EAAE,CAAC;QAC9C,MAAM,MAAM,GAAG,MAAM,gBAAM,CAAC,SAAS,CACnC,sBAAa,CAAC,MAAM,CAAC,QAAQ,EAAE,kBAAkB,EAAE,MAAM,CAAC,CAC3D,CAAC;QACF,sBAAU,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;QACvD,OAAO,MAAM,CAAC;KACf;IAAC,OAAO,GAAG,EAAE;QACZ,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;KAClB;AACH,CAAC;AAfD,0BAeC;AAEM,KAAK,UAAU,gBAAgB,CAAC,QAAgB,EAAE,QAAiB;IACxE,MAAM,sBAAU,CAAC,IAAI,CAAC,QAAQ,EAAE;QAC9B,OAAO,EAAE,QAAQ;KAClB,CAAC,CAAC;AACL,CAAC;AAJD,4CAIC;AAED,SAAgB,KAAK,CAAC,GAA6B;IACjD,IAAI,CAAC,GAAG,CAAC,OAAO;QAAE,OAAO,KAAK,CAAC;IAC/B,IAAI,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC;QAAE,OAAO,IAAI,CAAC;IACzF,OAAO,KAAK,CAAC;AACf,CAAC;AAJD,sBAIC;AAED,SAAgB,MAAM,CAAC,GAA6B;IAClD,IAAI,CAAC,GAAG,CAAC,OAAO;QAAE,OAAO,KAAK,CAAC;IAC/B,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;IAC5B,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC;IAC/B,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;IAC3B,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;IAC5B,GAAG,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC;IACvB,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;IACnB,OAAO,IAAI,CAAC;AACd,CAAC;AATD,wBASC;AAEM,KAAK,UAAU,QAAQ,CAC5B,GAA6B,EAC7B,QAAgB,EAChB,QAAgB,EAChB,UAAkB;IAElB,IAAI,CAAC,GAAG,IAAI,CAAC;IACb,iCAAiC;IACjC,sBAAU,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;QAClC,IAAI,IAAI,IAAI,IAAI,CAAC,QAAQ,IAAI,QAAQ;YAAE,CAAC,GAAG,KAAK,CAAC;IACnD,CAAC,CAAC,CAAC;IACH,IAAI,CAAC,EAAE;QACL,6DAA6D;QAC7D,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,sBAAU,CAAC,MAAM,CAAC;YACvC,QAAQ;YACR,QAAQ;YACR,UAAU;SACX,CAAC,CAAC;QAEH,OAAO;YACL,IAAI;YACJ,QAAQ;YACR,UAAU;SACX,CAAC;KACH;IACD,OAAO,KAAK,CAAC;AACf,CAAC;AA1BD,4BA0BC;AAED,SAAgB,iBAAiB,CAAC,GAA6B;;IAC7D,IAAI,IAAI,GAA4B,SAAS,CAAC;IAC9C,IAAI,YAAY,CAAC,GAAG,CAAC,EAAE;QACrB,IAAI,GAAG,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;KACxC;SAAM;QACL,IAAI,GAAG,sBAAU,CAAC,WAAW,CAAC,UAAG,CAAC,OAAO,0CAAG,MAAM,CAAC,KAAI,EAAE,CAAC,CAAC;KAC5D;IACD,IAAI,CAAC,IAAI;QAAE,OAAO,CAAC,CAAC;IACpB,OAAO,UAAI,CAAC,UAAU,mCAAI,CAAC,CAAC;AAC9B,CAAC;AATD,8CASC;AAED,SAAgB,oBAAoB,CAAC,GAA6B;;IAChE,IAAI,YAAY,CAAC,GAAG,CAAC,EAAE;QACrB,MAAM,IAAI,GAAG,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;QAC7C,OAAO,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC;KAClC;IACD,OAAO,SAAG,CAAC,OAAO,0CAAG,UAAU,CAAC,CAAC;AACnC,CAAC;AAND,oDAMC;AAED,SAAgB,cAAc,CAAC,GAA6B;;IAC1D,IAAI;QACF,IAAI,YAAY,CAAC,GAAG,CAAC,EAAE;YACrB,MAAM,IAAI,GAAG,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;YAC7C,OAAO,IAAI,IAAI,SAAS,CAAC;SAC1B;QACD,OAAO,sBAAU,CAAC,WAAW,CAAC,UAAG,CAAC,OAAO,0CAAG,MAAM,CAAC,KAAI,EAAE,CAAC,IAAI,SAAS,CAAC;KACzE;IAAC,OAAO,KAAK,EAAE;QACd,OAAO,SAAS,CAAC;KAClB;AACH,CAAC;AAVD,wCAUC;AAED,SAAgB,WAAW,CAAC,GAA6B;;IACvD,IAAI,YAAY,CAAC,GAAG,CAAC,EAAE;QACrB,MAAM,IAAI,GAAG,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;QAC7C,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,EAAE;YACrB,OAAO,IAAI,CAAC,IAAI,CAAC;SAClB;aAAM;YACL,OAAO,EAAE,CAAC;SACX;KACF;IACD,OAAO,UAAG,CAAC,OAAO,0CAAG,MAAM,CAAC,KAAI,EAAE,CAAC;AACrC,CAAC;AAVD,kCAUC;AAED,SAAgB,QAAQ,CAAC,GAA6B;;IACpD,OAAO,UAAG,CAAC,OAAO,0CAAG,OAAO,CAAC,KAAI,EAAE,CAAC;AACtC,CAAC;AAFD,4BAEC;AAED,SAAgB,MAAM,CAAC,GAA6B;IAClD,OAAO,CACL,GAAG,CAAC,MAAM,CAAC,kBAAkB,CAAC;QAC9B,GAAG,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC,QAAQ,EAAE,CAAC,iBAAiB,EAAE,KAAK,gBAAgB,CACnF,CAAC;AACJ,CAAC;AALD,wBAKC;AAED,SAAgB,UAAU,CAAC,GAA6B;IACtD,IAAI,CAAC,kCAAc,CAAC,GAAG,CAAC,GAAG,CAAC,wBAAgB,CAAC;QAAE,kCAAc,CAAC,GAAG,CAAC,wBAAgB,EAAE,EAAE,CAAC,CAAC;IACxF,mDAAmD;IACnD,MAAM,KAAK,GAAG,kCAAc,CAAC,GAAG,CAAC,wBAAgB,CAAC,CAAC;IAEnD,MAAM,EAAE,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;IAE3B,IAAI,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,IAAI,uBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,YAAY,MAAK,IAAI,EAAE;QACzD,IAAI,KAAK,CAAC,EAAE,CAAC,IAAI,GAAG,EAAE;YACpB,4BAA4B;YAC5B,kCAAc,CAAC,GAAG,CAAC,oBAAY,EAAE,kCAAc,CAAC,GAAG,CAAC,oBAAY,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YAC1E,UAAU,CAAC,GAAG,EAAE;gBACd,OAAO,KAAK,CAAC,EAAE,CAAC,CAAC;gBACjB,4BAA4B;gBAC5B,kCAAc,CAAC,GAAG,CAAC,oBAAY,EAAE,kCAAc,CAAC,GAAG,CAAC,oBAAY,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YAC5E,CAAC,EAAE,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;SACpB;QACD,KAAK,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC;QAChB,OAAO,KAAK,CAAC;KACd;IACD,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;QAAE,KAAK,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC;;QAC5D,KAAK,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;IACnB,OAAO,IAAI,CAAC;AACd,CAAC;AAvBD,gCAuBC;AAED,SAAgB,eAAe,CAAC,MAAc;IAC5C,MAAM,QAAQ,GAAG,sBAAU,CAAC,eAAe,EAAE,CAAC,UAAU,CACtD;QACE,MAAM;KACP,EACD,CAAC,EACD,CAAC,CACF,CAAC;IACF,IAAI,QAAQ,CAAC,KAAK,KAAK,CAAC,EAAE;QACxB,OAAO,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KACzB;IACD,OAAO,IAAI,CAAC;AACd,CAAC;AAZD,0CAYC;AAED,SAAgB,YAAY,CAAC,GAA6B;;IACxD,OAAO,GAAG,CAAC,KAAK,CAAC,MAAM,KAAI,SAAG,CAAC,OAAO,0CAAE,MAAM,CAAC,mBAAmB,CAAC,EAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;AACrF,CAAC;AAFD,oCAEC;AAED,SAAgB,SAAS,CAAC,GAA6B;;IACrD,OAAO,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,KAAI,SAAG,CAAC,OAAO,0CAAE,MAAM,CAAC,mBAAmB,CAAC,KAAI,EAAE,CAAC,CAAC;AACpF,CAAC;AAFD,8BAEC;;;;;;;;;;;ACjPD,2CAA0B;AAE1B,SAAgB,QAAQ;IACtB,IAAI,IAAI,GAAG,aAAE,GAAE,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;IACpC,MAAM,CAAC,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC;IACpC,IAAI,GAAG,IAAI,GAAG,CAAC,CAAC;IAChB,OAAO,IAAI,CAAC;AACd,CAAC;AALD,4BAKC;;;;;;;;;;;;;;ACPD,iGAAwC;AAGxC,SAAgB,cAAc,CAAC,IAAU,EAAE,QAAgB,EAAE,YAAoB;IAC/E,IAAI,eAAe,CAAC,IAAI,CAAC;QAAE,OAAO,IAAI,CAAC;IACvC,IAAI,IAAI,IAAI,IAAI,CAAC,SAAS,EAAE;QAC1B,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,SAAS,EAAE;YAC9B,IAAI,QAAQ,KAAK,CAAC,CAAC,QAAQ,IAAI,YAAY,KAAK,CAAC,CAAC,YAAY;gBAAE,OAAO,IAAI,CAAC;SAC7E;KACF;IACD,OAAO,KAAK,CAAC;AACf,CAAC;AARD,wCAQC;AAED,SAAgB,eAAe,CAAC,IAAU;IACxC,IAAI,CAAC,IAAI;QAAE,OAAO,KAAK,CAAC;IACxB,OAAO,IAAI,CAAC,UAAU,IAAI,EAAE,CAAC;AAC/B,CAAC;AAHD,0CAGC;AAED,SAAgB,qBAAqB,CAAC,IAAY;IAChD,MAAM,IAAI,GAAG,sBAAU,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IAC1C,IAAI,CAAC,IAAI;QAAE,OAAO,KAAK,CAAC;IACxB,OAAO,eAAe,CAAC,IAAI,CAAC,CAAC;AAC/B,CAAC;AAJD,sDAIC;AAED,SAAgB,oBAAoB,CAAC,IAAY,EAAE,QAAgB,EAAE,YAAoB;IACvF,MAAM,IAAI,GAAG,sBAAU,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IAC1C,IAAI,CAAC,IAAI;QAAE,OAAO,KAAK,CAAC;IACxB,OAAO,cAAc,CAAC,IAAI,EAAE,QAAQ,EAAE,YAAY,CAAC,CAAC;AACtD,CAAC;AAJD,oDAIC;AAED,SAAgB,iBAAiB,CAAC,QAAgB;IAChD,OAAO,sBAAU,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;AAChD,CAAC;AAFD,8CAEC;;;;;;;;;;;;;;AChCD,2CAA0B;AAE1B,oGAAqD;AACrD,8DAA6B;AAE7B,MAAM,WAAY,SAAQ,KAAK;IAC7B,YAAY,GAAW;QACrB,KAAK,CAAC,GAAG,CAAC,CAAC;IACb,CAAC;CACF;AAED,MAAa,yBAA0B,SAAQ,WAAW;IACxD,YAAY,GAAW;QACrB,KAAK,CAAC,GAAG,CAAC,CAAC;IACb,CAAC;CACF;AAJD,8DAIC;AAED,0EAA0E;AAC1E,wDAAwD;AACxD,MAAqB,aAAa;IAChC,YAA4B,QAAwB;QAAxB,aAAQ,GAAR,QAAQ,CAAgB;QAClD,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM;YAAE,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,CAAC,CAAC,CAAC;IACxF,CAAC;IAED,2BAA2B;IACpB,KAAK,CAAC,OAAO,CAClB,KAAa,EACb,IAAU,EACV,OAAO,GAAG,IAAI,EACd,KAAK,GAAG,KAAK;QAEb,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM;YAAE,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,CAAC,CAAC,CAAC;QACtF,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,IAAI,CAAC,KAAK;YACpC,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,CAAC,GAAG,QAAQ,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;QAC/E,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS,IAAI,CAAC,KAAK;YAC3C,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,CAAC,GAAG,QAAQ,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;QAE/E,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;;YACrC,IAAI,aAA6B,CAAC;YAClC,MAAM,IAAI,GAAG,CAAC,aAAE,GAAE,EAAE,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACnD,MAAM,YAAY,GAAmB,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;YAEpD,MAAM,EAAE,GAAG,CAAC,GAAY,EAAE,EAAE;;gBAC1B,IAAI,GAAG,CAAC,IAAI,KAAK,IAAI,EAAE;oBACrB,IAAI,aAAa;wBAAE,YAAY,CAAC,aAAa,CAAC,CAAC;oBAC/C,gBAAI,CAAC,QAAQ,0CAAE,MAAM,0CAAE,cAAc,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;oBACjD,IAAI,GAAG,CAAC,MAAM,IAAI,wBAAa,CAAC,SAAS;wBAAE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;yBACxD,IAAI,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE;wBACrB,MAAM,CAAC,IAAI,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;qBACvC;yBAAM;wBACL,MAAM,CAAC,IAAI,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;qBACnC;iBACF;YACH,CAAC,CAAC;YAEF,IAAI,OAAO,EAAE;gBACX,aAAa,GAAG,UAAU,CAAC,GAAG,EAAE;;oBAC9B,gBAAI,CAAC,QAAQ,0CAAE,MAAM,0CAAE,cAAc,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;oBACjD,MAAM,CACJ,IAAI,yBAAyB,CAC3B,CAAC,aAAE,EAAC,mBAAmB,CAAC,EAAE,UAAI,CAAC,QAAQ,0CAAE,MAAM,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAC9D,CACF,CAAC;gBACJ,CAAC,EAAE,OAAO,CAAC,CAAC;aACb;YAED,gBAAI,CAAC,QAAQ,0CAAE,MAAM,0CAAE,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;YACrC,eAAe;YACf,UAAI,CAAC,QAAQ,0CAAE,IAAI,CAAC,KAAK,EAAE,YAAY,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC;IACL,CAAC;CACF;AApDD,mCAoDC;;;;;;;;;;;;;ACvED,oEAA0B;AAC1B,4DAAwB;AACxB,sGAAoD;AACpD,uFAAiF;AACjF,oGAAqD;AACrD,8DAA6B;AAC7B,mEAAsD;AACtD,8DAA+B;AAE/B,uEAAuE;AACvE,uDAAuD;AACvD,0EAA0E;AAC1E,MAAM,sBAAuB,SAAQ,8BAAuC;IAC1E,KAAK,CAAC,UAAU;QACd,mFAAmF;QACnF,uGAAuG;QACvG,KAAK,MAAM,IAAI,IAAI,MAAM,qBAAO,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,qBAAqB,CAAC,EAAE;YACzE,MAAM,MAAM,GAAG,CAAC,MAAM,qBAAO,CAAC,UAAU,EAAE,CAAC,IAAI,CAC7C,qBAAqB,EACrB,sCAAmB,EACnB,IAAI,CACL,CAAwB,CAAC;YAC1B,MAAM,UAAU,GAAG,IAAI,wBAAa,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;YACnD,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;YACnC,UAAU,CAAC,OAAO,EAAE,CAAC;SACtB;QAED,iFAAiF;QACjF,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAAE;YAC5B,MAAM,IAAI,CAAC,oBAAoB,CAAC,EAAE,CAAC,CAAC;SACrC;QAED,YAAM,CAAC,IAAI,CAAC,aAAE,EAAC,wCAAwC,EAAE,EAAE,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAErF,iDAAiD;QACjD,WAAW,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,yBAAyB,EAAE,EAAE,IAAI,GAAG,EAAE,CAAC,CAAC;IACjE,CAAC;IAED,0DAA0D;IAC1D,qCAAqC;IACrC,mBAAmB;IACnB,sBAAsB;IACtB,cAAc;IACd,MAAM;IACN,KAAK,CAAC,qBAAqB,CAAC,MAAsB;QAChD,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAChD,IAAI,CAAC,QAAQ;YAAE,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,CAAC,CAAC,CAAC;QACxD,MAAM,qBAAO,CAAC,UAAU,EAAE,CAAC,KAAK,CAAC,qBAAqB,EAAE,QAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxF,QAAQ,CAAC,OAAO,EAAE,CAAC;QACnB,OAAO,QAAQ,CAAC;IAClB,CAAC;IAED,oDAAoD;IACpD,KAAK,CAAC,mBAAmB,CAAC,IAAY;;QACpC,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE;YAC1B,UAAI,CAAC,WAAW,CAAC,IAAI,CAAC,0CAAE,UAAU,EAAE,CAAC;YACrC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;YAC1B,MAAM,qBAAO,CAAC,UAAU,EAAE,CAAC,MAAM,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;SAChE;IACH,CAAC;IAED,8DAA8D;IAC9D,8BAA8B;IAC9B,KAAK,CAAC,WAAW,CAAC,MAAsB;QACtC,MAAM,QAAQ,GAAG,IAAI,wBAAa,CAChC,MAAM,CAAC,IAAI,IAAI,IAAI,CAAC,WAAW,EAAE,EACjC,IAAI,sCAAmB,EAAE,CAC1B,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;QAC1C,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QACvC,OAAO,QAAQ,CAAC;IAClB,CAAC;IAED,8CAA8C;IAC9C,KAAK,CAAC,IAAI,CAAC,IAAY,EAAE,MAAsB;QAC7C,MAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QACxC,IAAI,CAAC,QAAQ;YAAE,OAAO;QACtB,IAAI,MAAM,CAAC,OAAO;YAAE,QAAQ,CAAC,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;QAC7D,IAAI,MAAM,CAAC,EAAE;YAAE,QAAQ,CAAC,MAAM,CAAC,EAAE,GAAG,MAAM,CAAC,EAAE,CAAC;QAC9C,IAAI,MAAM,CAAC,IAAI;YAAE,QAAQ,CAAC,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;QACpD,IAAI,MAAM,CAAC,MAAM,IAAI,IAAI;YAAE,QAAQ,CAAC,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QAClE,IAAI,MAAM,CAAC,MAAM;YAAE,QAAQ,CAAC,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QAC1D,IAAI,MAAM,CAAC,cAAc,IAAI,IAAI;YAAE,QAAQ,CAAC,MAAM,CAAC,cAAc,GAAG,MAAM,CAAC,cAAc,CAAC;QAC1F,MAAM,qBAAO,CAAC,UAAU,EAAE,CAAC,KAAK,CAAC,qBAAqB,EAAE,QAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;IAC1F,CAAC;IAED,4BAA4B;IAC5B,yCAAyC;IACzC,uDAAuD;IACvD,iFAAiF;IACjF,KAAK,CAAC,oBAAoB,CAAC,GAAY;QACrC,MAAM,EAAE,GAAG,WAAW,CAAC;QACvB,MAAM,gBAAgB,GAAG,cAAI,CAAC,SAAS,CACrC,cAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,mCAAmC,CAAC,CAC9D,CAAC;QACF,YAAM,CAAC,IAAI,CAAC,aAAE,EAAC,8CAA8C,EAAE,EAAE,gBAAgB,EAAE,CAAC,CAAC,CAAC;QACtF,IAAI,kBAAE,CAAC,UAAU,CAAC,gBAAgB,CAAC,EAAE;YACnC,YAAM,CAAC,IAAI,CAAC,aAAE,EAAC,8CAA8C,CAAC,CAAC,CAAC;YAChE,MAAM,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAClC,kBAAE,CAAC,YAAY,CAAC,gBAAgB,EAAE,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC,CACzD,CAAC;YACF,MAAM,QAAQ,GAAG,iBAAiB,CAAC,GAAG,CAAC;YACvC,MAAM,SAAS,GAAG,iBAAiB,CAAC,IAAI,CAAC;YACzC,OAAO,MAAM,IAAI,CAAC,qBAAqB,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,SAAS,EAAE,EAAE,EAAE,CAAC,CAAC;SACpF;aAAM,IAAI,GAAG,EAAE;YACd,MAAM,IAAI,GAAG,KAAK,CAAC;YACnB,OAAO,MAAM,IAAI,CAAC,qBAAqB,CAAC,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,CAAC;SACpE;QACD,YAAM,CAAC,IAAI,CAAC,aAAE,EAAC,oCAAoC,CAAC,CAAC,CAAC;QAEtD,+FAA+F;QAC/F,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC;gBAAE,OAAO,IAAI,CAAC,oBAAoB,EAAE,CAAC;QACnE,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC;IACf,CAAC;IAED,KAAK;QACH,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,IAAI,SAAS,GAAG,CAAC,CAAC;QAClB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;YAC1B,KAAK,EAAE,CAAC;YACR,IAAI,CAAC,CAAC,SAAS;gBAAE,SAAS,EAAE,CAAC;QAC/B,CAAC,CAAC,CAAC;QACH,OAAO,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;IAC9B,CAAC;IAED,mCAAmC;IACnC,yBAAyB;;QACvB,UAAI,CAAC,QAAQ,0CAAE,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;YAC3B,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,KAAK,KAAK,EAAE;gBAC9B,YAAM,CAAC,IAAI,CACT,8BAA8B,CAAC,CAAC,MAAM,CAAC,OAAO,IAAI,CAAC,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,mBAAmB,CAClG,CAAC;gBACF,OAAO,CAAC,CAAC,OAAO,EAAE,CAAC;aACpB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,oBAAoB,CAAC,QAAgB;QACnC,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,EAAE;YAC9C,QAAQ,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;SACnC;IACH,CAAC;CACF;AAED,qBAAe,IAAI,sBAAsB,EAAE,CAAC;;;;;;;;;;;;;;ACjJ5C,oEAA8B;AAC9B,iDAA4B;AAC5B,qEAAkE;AAClE,0DAAsB;AACtB,+CAAuC;AACvC,2CAA0B;AAC1B,sGAAoD;AAEpD,+DAAkE;AAClE,8DAA6B;AAC7B,8DAA+B;AAE/B,MAAa,cAAe,SAAQ,KAAK;CAAG;AAA5C,wCAA4C;AAE5C,MAAM,aAAa;IAAnB;QACkB,YAAO,GAAsB,IAAI,GAAG,EAAE,CAAC;IA6JzD,CAAC;IA3JC,KAAK,CAAC,UAAU;QACd,KAAK,MAAM,IAAI,IAAI,MAAM,qBAAO,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;YAC1D,MAAM,IAAI,GAAG,CAAC,MAAM,qBAAO,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE,WAAI,EAAE,IAAI,CAAC,CAAS,CAAC;YAC3E,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;SAC9B;QACD,YAAM,CAAC,IAAI,CAAC,aAAE,EAAC,+BAA+B,EAAE,EAAE,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;IAC7E,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,MAAa;QACxB,MAAM,OAAO,GAAG,aAAE,GAAE,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;QACzC,iCAAiC;QACjC,MAAM,QAAQ,GAAG,IAAI,WAAI,EAAE,CAAC;QAC5B,QAAQ,CAAC,IAAI,GAAG,OAAO,CAAC;QACxB,QAAQ,CAAC,YAAY,GAAG,IAAI,IAAI,EAAE,CAAC,cAAc,EAAE,CAAC;QACpD,yBAAyB;QACzB,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;QACpC,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QACvC,qCAAqC;QACrC,MAAM,qBAAO,CAAC,UAAU,EAAE,CAAC,KAAK,CAAC,MAAM,EAAE,QAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;QAClE,OAAO,QAAQ,CAAC;IAClB,CAAC;IAED,qBAAqB;IACrB,KAAK,CAAC,IAAI,CAAC,IAAY,EAAE,MAAW;QAClC,MAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QACxC,IAAI,CAAC,QAAQ;YAAE,OAAO;QACtB,IAAI,MAAM,CAAC,QAAQ;YAAE,QAAQ,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;QACzD,IAAI,MAAM,CAAC,MAAM,IAAI,IAAI;YAAE,QAAQ,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACpE,IAAI,MAAM,CAAC,UAAU;YAAE,QAAQ,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC;QAC/D,IAAI,MAAM,CAAC,YAAY;YAAE,QAAQ,CAAC,YAAY,GAAG,MAAM,CAAC,YAAY,CAAC;QACrE,IAAI,MAAM,CAAC,SAAS;YAAE,QAAQ,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;QAC5D,IAAI,MAAM,CAAC,MAAM,IAAI,IAAI;YAAE,QAAQ,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QAC3D,IAAI,MAAM,CAAC,MAAM,IAAI,IAAI;YAAE,QAAQ,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACnE,IAAI,MAAM,CAAC,OAAO,IAAI,IAAI;YAAE,QAAQ,CAAC,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QACvE,IAAI,MAAM,CAAC,SAAS;YAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,MAAM,CAAC,SAAS,CAAC,CAAC;QACpE,IAAI,MAAM,CAAC,QAAQ,EAAE;YACnB,QAAQ,CAAC,YAAY,GAAG,uBAAgB,CAAC,MAAM,CAAC;YAChD,QAAQ,CAAC,QAAQ,GAAG,kBAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;SAC1D;QACD,MAAM,qBAAO,CAAC,UAAU,EAAE,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;IAC3D,CAAC;IAED,gBAAgB,CAAC,QAAQ,GAAG,EAAE;QAC5B,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,IAAI,QAAQ,CAAC,MAAM,GAAG,EAAE;YAAE,OAAO,KAAK,CAAC;QAC9D,MAAM,GAAG,GAAG,mCAAmC,CAAC;QAChD,OAAO,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC5B,CAAC;IAED,QAAQ,CAAC,IAAY,EAAE,IAAW,EAAE,0BAAkC,CAAC;QACrE,IAAI,CAAC,IAAI,CAAC,MAAM;YACd,MAAM,IAAI,KAAK,CAAC,gEAAgE,CAAC,CAAC;QACpF,sBAAa,CAAC,OAAO,GAAG,EAAE,MAAM,EAAE,uBAAuB,EAAE,CAAC;QAC5D,MAAM,KAAK,GAAG,sBAAa,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,MAAM,CAAC,CAAC;QAC3D,OAAO,KAAK,IAAI,IAAI,CAAC;IACvB,CAAC;IAED,SAAS,CAAC,IAAW,EAAE,OAAgB,EAAE,0BAAkC,CAAC;QAC1E,MAAM,aAAa,GAAG,IAAI,CAAC,QAAQ,IAAI,EAAE,CAAC;QAC1C,KAAK,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC,OAAO,EAAE;YACvC,IAAI,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,QAAQ,EAAE;gBACnC,IACE,IAAI,CAAC,OAAO;oBACZ,IAAI,CAAC,MAAM;oBACX,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,IAAI,EAAE,EAAE,IAAI,EAAE,uBAAuB,CAAC;oBAE5D,MAAM,IAAI,cAAc,CAAC,eAAC,EAAC,mBAAmB,CAAC,CAAC,CAAC;gBACnD,IAAI,IAAI,CAAC,YAAY,KAAK,uBAAgB,CAAC,MAAM,EAAE;oBACjD,IAAI,CAAC,kBAAM,CAAC,WAAW,CAAC,aAAa,EAAE,IAAI,CAAC,QAAQ,CAAC;wBACnD,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,CAAC,CAAC,CAAC;iBAC5C;qBAAM;oBACL,IAAI,CAAC,CAAC,iBAAG,EAAC,aAAa,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC;wBAAE,MAAM,IAAI,KAAK,CAAC,aAAE,EAAC,mBAAmB,CAAC,CAAC,CAAC;iBACvF;aACF;SACF;IACH,CAAC;IAED,aAAa,CAAC,QAAgB;QAC5B,IAAI,IAAI,GAAG,KAAK,CAAC;QACjB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;YAC5B,IAAI,IAAI,CAAC,QAAQ,KAAK,QAAQ;gBAAE,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC;QACvD,CAAC,CAAC,CAAC;QACH,OAAO,IAAI,CAAC;IACd,CAAC;IAED,gBAAgB,CAAC,IAAY,EAAE,WAAuB;QACpD,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QACpC,IAAI,CAAC,IAAI;YAAE,OAAO;QAClB,WAAW,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;YAC5B,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,CAAC,KAAK,CAAC,YAAY;gBACxC,MAAM,IAAI,KAAK,CAAC,oEAAoE,CAAC,CAAC;QAC1F,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,WAAW,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;YAC5B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;gBAClB,YAAY,EAAE,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC;gBACxC,QAAQ,EAAE,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC;aACjC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IACD,mBAAmB,CAAC,IAAmB,EAAE,WAAuB,EAAE,QAAQ,GAAG,KAAK;QAChF,IAAI,IAAI,IAAI,QAAQ,EAAE;YACpB,MAAM,IAAI,KAAK,CAAC,oEAAoE,CAAC,CAAC;SACvF;QACD,MAAM,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,IAAK,CAAC,CAAC,CAAC;QACvF,IAAI,CAAC,KAAK,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC;YAAE,OAAO;QACzC,WAAW,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;YAC5B,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,CAAC,KAAK,CAAC,YAAY;gBACxC,MAAM,IAAI,KAAK,CAAC,oEAAoE,CAAC,CAAC;QAC1F,CAAC,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;YACrB,IAAI,CAAC,IAAI;gBAAE,OAAO;YAClB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,EAAE;gBAC/C,KAAK,MAAM,QAAQ,IAAI,WAAW,EAAE;oBAClC,IAAI,QAAQ,CAAC,QAAQ,KAAK,KAAK,CAAC,QAAQ,IAAI,QAAQ,CAAC,YAAY,KAAK,KAAK,CAAC,YAAY;wBACtF,OAAO,KAAK,CAAC;iBAChB;gBACD,OAAO,IAAI,CAAC;YACd,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,iBAAiB,CAAC,QAAgB;QAChC,KAAK,MAAM,GAAG,IAAI,IAAI,CAAC,OAAO,EAAE;YAC9B,MAAM,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;YACpB,IAAI,IAAI,CAAC,QAAQ,KAAK,QAAQ;gBAAE,OAAO,IAAI,CAAC;SAC7C;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED,aAAa,CAAC,IAAY;QACxB,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;IACxC,CAAC;IAED,WAAW,CAAC,IAAY;QACtB,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAChC,CAAC;IAED,WAAW,CAAC,IAAY,EAAE,MAAY;QACpC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IACjC,CAAC;IAED,WAAW,CAAC,IAAY;QACtB,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAChC,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,IAAY;QAC/B,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE;YAC1B,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAC1B,MAAM,qBAAO,CAAC,UAAU,EAAE,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;SACjD;IACH,CAAC;IAED,eAAe;QACb,OAAO,IAAI,gCAAY,CAAC,IAAI,mCAAe,CAAO,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;IACnE,CAAC;CACF;AAED,qBAAe,IAAI,aAAa,EAAE,CAAC;;;;;;;;;;AC9KnC,2CAA0B;AAE1B,MAAqB,cAAc;IAGjC,gBAAe,CAAC;IAET,MAAM,CAAC,gBAAgB,CAAC,QAAgB;;QAC7C,IAAI,CAAC,QAAQ,IAAI,OAAO,QAAQ,KAAK,QAAQ;YAAE,MAAM,IAAI,KAAK,CAAC,uBAAuB,CAAC,CAAC;QACxF,MAAM,KAAK,GAAG,aAAE,GAAE,CAAC;QACnB,cAAc,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QAC3C,IAAI,cAAc,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,EAAE;YACrC,cAAc,CAAC,MAAM,CAAC,MAAM,CAAC,iCAAc,CAAC,MAAM,0CAAE,IAAI,EAAE,0CAAE,IAAI,EAAE,0CAAE,KAAK,KAAI,EAAE,CAAC,CAAC;SAClF;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IAEM,MAAM,CAAC,cAAc,CAAC,QAAgB,EAAE,KAAa;QAC1D,MAAM,IAAI,GAAG,cAAc,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAC9C,IAAI,IAAI,KAAK,QAAQ,EAAE;YACrB,cAAc,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACpC,OAAO,IAAI,CAAC;SACb;aAAM;YACL,OAAO,KAAK,CAAC;SACd;IACH,CAAC;;AAvBH,oCAwBC;AAvBgB,qBAAM,GAAG,IAAI,GAAG,EAAkB,CAAC;;;;;;;;;;;;;ACHpD,8DAA0B;AAC1B,8DAAwC;AAExC,+DAA+D;AAC/D,oFAAoF;AACpF,sFAAsF;AACtF,MAAM,EAAE,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;AAChC,MAAM,OAAO,GAAG,wBAAU,GAAE,CAAC;AAE7B,KAAK,UAAU,UAAU;IACvB,OAAO,MAAM,eAAK,CAAC,GAAG,CAAC,mCAAmC,EAAE;QAC1D,MAAM,EAAE;YACN,EAAE;YACF,OAAO;SACR;QACD,OAAO,EAAE,IAAI,GAAG,EAAE;KACnB,CAAC,CAAC;AACL,CAAC;AAED,iGAAiG;AACjG,6CAA6C;AAC7C,WAAW,CAAC,KAAK,IAAI,EAAE;IACrB,IAAI;QACF,OAAO,MAAM,UAAU,EAAE,CAAC;KAC3B;IAAC,OAAO,KAAU,EAAE;QACnB,SAAS;KACV;AACH,CAAC,EAAE,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;AAExB,mCAAmC;AACnC,UAAU,EAAE;KACT,IAAI,CAAC,GAAG,EAAE,GAAE,CAAC,CAAC;KACd,KAAK,CAAC,GAAG,EAAE,GAAE,CAAC,CAAC,CAAC;;;;;;;;;;;;;AChCnB,iDAA4B;AAC5B,qEAAmD;AACnD,oGAAwD;AACxD,8DAA0C;AAC1C,8DAA+C;AAC/C,8DAA+B;AAE/B,SAAS,kBAAkB,CAAC,cAAsB,EAAE,QAAkC;IACpF,MAAM,WAAW,GAAG,wBAAgB,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;IAC7D,KAAK,MAAM,UAAU,IAAI,WAAW,EAAE;QACpC,IAAI;YACF,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,wBAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC;YACjE,IAAI,QAAQ,CAAC,MAAM,CAAC,EAAE;gBACpB,YAAM,CAAC,IAAI,CAAC,eAAC,EAAC,mBAAmB,CAAC,EAAE,UAAU,CAAC,CAAC;gBAChD,wBAAgB,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;aACzE;SACF;QAAC,OAAO,KAAU,EAAE;YACnB,YAAM,CAAC,KAAK,CAAC,eAAC,EAAC,mBAAmB,CAAC,EAAE,KAAK,CAAC,CAAC;SAC7C;KACF;AACH,CAAC;AAED,SAAS,kBAAkB,CAAC,MAAW;IACrC,IAAI,OAAO,GAAG,KAAK,CAAC;IACpB,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,CAAC;IAC7B,IAAI,SAAS,YAAY,KAAK,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;QACtD,KAAK,MAAM,QAAQ,IAAI,SAAS,EAAE;YAChC,IAAI,OAAO,QAAQ,CAAC,WAAW,KAAK,QAAQ,EAAE;gBAC5C,QAAQ,CAAC,QAAQ,GAAG,QAAQ,CAAC,WAAW,CAAC;gBACzC,OAAO,QAAQ,CAAC,WAAW,CAAC;gBAC5B,OAAO,GAAG,IAAI,CAAC;aAChB;SACF;KACF;IACD,OAAO,OAAO,CAAC;AACjB,CAAC;AAED;;;GAGG;AACH,SAAS,qBAAqB;IAC5B,MAAM,MAAM,GAAG,sBAAY,CAAC;IAC5B,MAAM,mBAAmB,GAAG,kCAAc,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;IACtE,kEAAkE;IAClE,+CAA+C;IAC/C,IAAI,MAAM,IAAI,mBAAmB,GAAG,GAAG,IAAI,+BAAiB,GAAE,EAAE;QAC9D,YAAM,CAAC,IAAI,CACT,qCAAqC,MAAM,CAAC,cAAc,+CAA+C,CAC1G,CAAC;QACF,MAAM,CAAC,cAAc,GAAG,2CAA2C,CAAC;QACpE,wBAAgB,CAAC,KAAK,CAAC,cAAc,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;KAC1D;AACH,CAAC;AAED,SAAS,YAAY;IACnB,qBAAqB,EAAE,CAAC;IACxB,kBAAkB,CAAC,MAAM,EAAE,kBAAkB,CAAC,CAAC;AACjD,CAAC;AAED,qBAAe,EAAE,YAAY,EAAE,CAAC;;;;;;;;;;;;;AC5DhC,8DAA+B;AAC/B,qEAA+C;AAC/C,qGAAsD;AACtD,qGAA6C;AAE7C,2HAA2H;AAC3H,MAAM,SAAS;IAGb,YAA4B,OAAe,EAAE,YAAe;QAAhC,YAAO,GAAP,OAAO,CAAQ;QAF1B,QAAG,GAAG,IAAI,KAAK,EAAK,CAAC;QAGpC,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,OAAO,EAAE,KAAK,EAAE,EAAE;YAC5C,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SAC7B;IACH,CAAC;IAED,IAAI,CAAC,IAAO;QACV,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,EAAE;YAClC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACrB;aAAM;YACL,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC;YACjB,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACrB;IACH,CAAC;IAED,QAAQ;QACN,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB,CAAC;CACF;AAaD,MAAM,mBAAmB;IAevB;QAdgB,aAAQ,GAAwB,IAAI,GAAG,EAAkB,CAAC;QAE1E,2BAA2B;QACX,gBAAW,GAAG,IAAI,SAAS,CAAmB,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;QACtF,oBAAoB;QACJ,gBAAW,GAAG,IAAI,SAAS,CAAgB,EAAE,EAAE;YAC7D,KAAK,EAAE,CAAC;YACR,aAAa,EAAE,CAAC;YAChB,eAAe,EAAE,CAAC;SACnB,CAAC,CAAC;QAEH,wBAAwB;QAChB,iBAAY,GAAG,CAAC,CAAC;QAGvB,2BAA2B;QAC3B,WAAW,CAAC,GAAG,EAAE;YACf,MAAM,IAAI,GAAG,kCAAU,GAAE,CAAC;YAC1B,IAAI,IAAI,EAAE;gBACR,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;oBACpB,GAAG,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;oBAC7C,GAAG,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;iBAC9C,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;oBACpB,GAAG,EAAE,CAAC;oBACN,GAAG,EAAE,CAAC;iBACP,CAAC,CAAC;aACJ;QACH,CAAC,EAAE,IAAI,GAAG,EAAE,CAAC,CAAC;QAEd,cAAc;QACd,WAAW,CAAC,KAAK,IAAI,EAAE;YACrB,8EAA8E;YAC9E,MAAM,cAAc,GAAG,IAAI,KAAK,EAAE,CAAC;YACnC,KAAK,MAAM,QAAQ,IAAI,wBAAsB,CAAC,QAAQ,CAAC,OAAO,EAAE,EAAE;gBAChE,IAAI;oBACF,cAAc,CAAC,IAAI,CAAC,MAAM,IAAI,wBAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC;iBACpF;gBAAC,OAAO,GAAG,EAAE,GAAE;aACjB;YACD,IAAI,aAAa,GAAG,CAAC,CAAC;YACtB,IAAI,eAAe,GAAG,CAAC,CAAC;YACxB,KAAK,MAAM,QAAQ,IAAI,cAAc,EAAE;gBACrC,IAAI,QAAQ,CAAC,QAAQ,EAAE;oBACrB,aAAa,IAAI,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC;oBACzC,eAAe,IAAI,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC;iBAC9C;aACF;YACD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;gBACpB,KAAK,EAAE,IAAI,CAAC,YAAY;gBACxB,aAAa;gBACb,eAAe;aAChB,CAAC,CAAC;YACH,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;QACxB,CAAC,EAAE,IAAI,GAAG,EAAE,CAAC,CAAC;IAChB,CAAC;IAED,eAAe;QACb,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAED,mBAAmB;QACjB,OAAO,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;IACrC,CAAC;IAED,mBAAmB;QACjB,OAAO,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;IACrC,CAAC;IAED,yBAAyB;IACzB,cAAc,CAAC,SAAiB;QAC9B,MAAM,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACvC,IAAI,CAAC,EAAE;YACL,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;SACrC;aAAM;YACL,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;SACjC;IACH,CAAC;IAED,yBAAyB;IACzB,UAAU,CAAC,SAAiB;QAC1B,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IACtC,CAAC;IAED,oBAAoB;IACpB,YAAY,CAAC,SAAiB,EAAE,MAAW;QACzC,MAAM,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC,cAAc,EAAE,CAAC;QACzC,YAAM,CAAC,IAAI,CAAC,eAAe,MAAM,oBAAoB,SAAS,cAAc,IAAI,EAAE,CAAC,CAAC;IACtF,CAAC;CACF;AAED,qBAAe,IAAI,mBAAmB,EAAE,CAAC;;;;;;;;;ACpIzC,sCAAsC;;;;;;AAEtC,sFAA4C;AAC5C,oGAAoD;AACpD,8DAAiC;AACjC,2CAA0B;AAC1B,IAAI,YAAY,GAAwB,IAAI,CAAC;AAoBpC,oCAAY;AAlBrB,yCAAyC;AACzC,SAAgB,gBAAgB;IAC9B,mCAAY,GAAG,wBAAa,CAAC,IAAI,CAAC,cAAc,EAAE,iBAAY,EAAE,QAAQ,CAAC,CAAC;IAC1E,IAAI,CAAC,YAAY,EAAE;QACjB,mCAAY,GAAG,IAAI,iBAAY,EAAE,CAAC;QAClC,wBAAa,CAAC,KAAK,CAAC,cAAc,EAAE,QAAQ,EAAE,YAAY,CAAC,CAAC;KAC7D;IACD,IAAI,YAAY,CAAC,QAAQ;QAAE,cAAO,CAAC,cAAc,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;IACzE,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE;QACzB,YAAY,CAAC,OAAO,GAAG,aAAE,GAAE,CAAC;QAC5B,gBAAgB,CAAC,YAAY,CAAC,CAAC;KAChC;AACH,CAAC;AAXD,4CAWC;AAED,SAAgB,gBAAgB,CAAC,aAA2B;IAC1D,wBAAa,CAAC,KAAK,CAAC,cAAc,EAAE,QAAQ,EAAE,aAAa,CAAC,CAAC;AAC/D,CAAC;AAFD,4CAEC;;;;;;;;;;;ACxBD,sFAAoC;AAEvB,gBAAQ,GAAG,IAAI,OAAO,EAAmB,CAAC;AAC1C,kBAAU,GAAG,IAAI,GAAG,EAAiB,CAAC;AAE5C,KAAK,UAAU,aAAa,CAAI,EAAoB;IACzD,IAAI,KAAK,GAAG,gBAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC7B,IAAI,CAAC,KAAK,EAAE;QACV,KAAK,GAAG,IAAI,mBAAK,EAAE,CAAC;QACpB,gBAAQ,CAAC,GAAG,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;KACzB;IACD,MAAM,WAAW,GAAG,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;IAC1C,IAAI;QACF,OAAO,MAAM,EAAE,EAAE,CAAC;KACnB;YAAS;QACR,WAAW,EAAE,CAAC;QACd,gBAAQ,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;KACrB;AACH,CAAC;AAbD,sCAaC;AAEM,KAAK,UAAU,eAAe,CAAI,EAAU,EAAE,EAAoB;IACvE,IAAI,KAAK,GAAG,kBAAU,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC/B,IAAI,CAAC,KAAK,EAAE;QACV,KAAK,GAAG,IAAI,mBAAK,EAAE,CAAC;QACpB,kBAAU,CAAC,GAAG,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;KAC3B;IACD,MAAM,WAAW,GAAG,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;IAC1C,IAAI;QACF,OAAO,MAAM,EAAE,EAAE,CAAC;KACnB;YAAS;QACR,WAAW,EAAE,CAAC;QACd,kBAAU,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;KACvB;AACH,CAAC;AAbD,0CAaC;;;;;;;;;;;ACjCD;;;GAGG;AACH,SAAgB,YAAY,CAAC,GAAW;IACtC,IAAI;QACF,MAAM,MAAM,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC;QAC5B,MAAM,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;QAE/C,+EAA+E;QAC/E,IAAI,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;YACtD,OAAO,KAAK,CAAC;SACd;QAED,6BAA6B;QAC7B,MAAM,SAAS,GAAG,yBAAyB,CAAC;QAC5C,IAAI,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;YAC5B,OAAO,KAAK,CAAC;SACd;QAED,8CAA8C;QAC9C,MAAM,YAAY,GAAG,CAAC,WAAW,EAAE,WAAW,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;QAElE,IAAI,YAAY,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;YACnC,OAAO,KAAK,CAAC;SACd;QAED,wBAAwB;QACxB,IAAI,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;YAC/B,OAAO,KAAK,CAAC;SACd;QAED,uFAAuF;QACvF,IAAI,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;YAC5B,MAAM,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YAC9C,aAAa;YACb,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,EAAE;gBAAE,OAAO,KAAK,CAAC;YAClC,gBAAgB;YAChB,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,KAAK,CAAC,CAAC,CAAC,IAAI,EAAE;gBAAE,OAAO,KAAK,CAAC;YACvE,iBAAiB;YACjB,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG;gBAAE,OAAO,KAAK,CAAC;YACvD,yBAAyB;YACzB,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG;gBAAE,OAAO,KAAK,CAAC;YACnC,8BAA8B;YAC9B,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG;gBAAE,OAAO,KAAK,CAAC;SACxD;QAED,gFAAgF;QAChF,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;YAC3B,OAAO,KAAK,CAAC;SACd;QAED,0EAA0E;QAC1E,MAAM,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAClC,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,EAAE;YAC/D,OAAO,KAAK,CAAC;SACd;QAED,sCAAsC;QACtC,MAAM,gBAAgB,GAAG,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;QAC7C,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE;YAC/C,OAAO,KAAK,CAAC;SACd;QAED,OAAO,IAAI,CAAC;KACb;IAAC,OAAO,KAAK,EAAE;QACd,OAAO,KAAK,CAAC;KACd;AACH,CAAC;AAhED,oCAgEC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpED,8DAA0B;AAC1B,yDAA+B;AAC/B,qEAAmD;AACnD,oGAA8C;AAC9C,sFAAoE;AACpE,8DAAuC;AACvC,8DAA2D;AAS3D,iFAAiF;AACjF,0DAA0D;AAC1D,4EAA4E;AAC/D,4BAAoB,GAAG,uBAAuB,CAAC;AAE5D,MAAM,YAAY,GAAG,cAAc,CAAC;AACpC,MAAM,qBAAqB,GAAG,qBAAqB,CAAC;AAEpD,IAAI,cAAc,GAAG,EAAE,CAAC;AAExB,SAAgB,kBAAkB;IAChC,IAAI;QACF,kCAAc,CAAC,GAAG,CAAC,qBAAqB,EAAE,GAAG,CAAC,CAAC;QAC/C,kCAAc,CAAC,GAAG,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;QACzC,IAAI,EAAE,CAAC,UAAU,CAAC,YAAY,CAAC,EAAE;YAC/B,MAAM,IAAI,GAAiB,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,YAAY,CAAC,YAAY,EAAE,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC;YAC5F,IAAI,IAAI,CAAC,OAAO,EAAE;gBAChB,kCAAc,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;gBAC5C,cAAc,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aACvC;SACF;KACF;IAAC,OAAO,KAAU,EAAE;QACnB,YAAM,CAAC,KAAK,CAAC,wBAAwB,EAAE,KAAK,CAAC,CAAC;KAC/C;IAED,IAAI,cAAc,IAAI,wBAAO,CAAC,UAAU,CAAC,qBAAqB,CAAC,EAAE;QAC/D,MAAM,mBAAmB,GAAG,wBAAO,CAAC,QAAQ,CAAC,qBAAqB,CAAC,CAAC;QACpE,MAAM,iBAAiB,GAAG,MAAM,CAAC,mBAAmB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;QAEtF,IAAI,mBAAmB,IAAI,mBAAmB,IAAI,cAAc,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,EAAE;YAC7F,YAAM,CAAC,IAAI,CAAC,wBAAwB,mBAAmB,OAAO,cAAc,EAAE,CAAC,CAAC;YAChF,kCAAc,CAAC,GAAG,CAAC,qBAAqB,EAAE,iBAAiB,CAAC,CAAC;YAC7D,kCAAc,CAAC,GAAG,CAAC,eAAe,EAAE,cAAc,CAAC,CAAC;YAEpD,gBAAgB;YAChB,6CAAuB,GAAE,CAAC;SAC3B;KACF;IACD,wBAAO,CAAC,SAAS,CAAC,qBAAqB,EAAE,cAAc,CAAC,CAAC;AAC3D,CAAC;AA7BD,gDA6BC;AAED,SAAgB,UAAU;IACxB,OAAO,kCAAc,CAAC,GAAG,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;AAClD,CAAC;AAFD,gCAEC;AAED,SAAgB,iBAAiB;IAC/B,OAAO,kCAAc,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,KAAK,CAAC;AACtD,CAAC;AAFD,8CAEC;AAED,SAAgB,sBAAsB;;IACpC,IAAI;QACF,MAAM,IAAI,GAAQ,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,YAAY,CAAC,YAAY,EAAE,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC;QACnF,OAAO,UAAI,CAAC,aAAa,mCAAI,OAAO,CAAC;KACtC;IAAC,OAAO,KAAU,EAAE;QACnB,OAAO,OAAO,CAAC;KAChB;AACH,CAAC;AAPD,wDAOC;AAEM,KAAK,UAAU,iBAAiB;IACrC,IAAI,CAAC,sBAAY;QAAE,OAAO;IAC1B,IAAI;QACF,sBAAY,CAAC,YAAY,GAAG,KAAK,CAAC;QAClC,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,eAAK,CAAC,IAAI,CACzC,GAAG,4BAAoB,iBAAiB,EACxC;YACE,OAAO,EAAE,sBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,OAAO;YAC9B,YAAY,EAAE,sBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,YAAY;YACxC,YAAY,EAAE,sBAAY,aAAZ,sBAAY,uBAAZ,sBAAY,CAAE,YAAY;SACzC,CACF,CAAC;QACF,IAAI,QAAQ,CAAC,IAAI,IAAI,QAAQ,CAAC,IAAI,KAAK,GAAG,EAAE;YAC1C,YAAM,CAAC,IAAI,CAAC,4BAA4B,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC7E,sBAAY,CAAC,YAAY,GAAG,IAAI,CAAC;SAClC;aAAM;YACL,sBAAY,CAAC,YAAY,GAAG,KAAK,CAAC;SACnC;QACD,8BAAgB,EAAC,sBAAY,CAAC,CAAC;KAChC;IAAC,OAAO,KAAU,EAAE;QACnB,SAAS;KACV;AACH,CAAC;AAtBD,8CAsBC;AAED,WAAW,CAAC,iBAAiB,EAAE,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;;;;;;;;ACjG/C;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS,gBAAgB,sCAAsC,kBAAkB;AACjF,wBAAwB;AACxB;AACA;;AAEO;AACP;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEO;AACP;AACA,+CAA+C,OAAO;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA,2DAA2D,cAAc;AACzE;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA,2CAA2C,QAAQ;AACnD;AACA;;AAEO;AACP,kCAAkC;AAClC;;AAEO;AACP,uBAAuB,uFAAuF;AAC9G;AACA;AACA,yGAAyG;AACzG;AACA,sCAAsC,QAAQ;AAC9C;AACA,gEAAgE;AAChE;AACA,8CAA8C,yFAAyF;AACvI,8DAA8D,2CAA2C;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA,kBAAkB,yBAAyB;AAC3C;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA,4CAA4C,yEAAyE;AACrH;;AAEO;AACP;AACA;;AAEO;AACP,0BAA0B,+DAA+D,iBAAiB;AAC1G;AACA,kCAAkC,MAAM,+BAA+B,YAAY;AACnF,iCAAiC,MAAM,mCAAmC,YAAY;AACtF,8BAA8B;AAC9B;AACA,GAAG;AACH;;AAEO;AACP,YAAY,6BAA6B,0BAA0B,cAAc,qBAAqB;AACtG,2IAA2I,cAAc;AACzJ,qBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC,iCAAiC,SAAS;AAC1C,iCAAiC,WAAW,UAAU;AACtD,wCAAwC,cAAc;AACtD;AACA,4GAA4G,OAAO;AACnH,+EAA+E,iBAAiB;AAChG,uDAAuD,gBAAgB,QAAQ;AAC/E,6CAA6C,gBAAgB,gBAAgB;AAC7E;AACA,gCAAgC;AAChC;AACA;AACA,QAAQ,YAAY,aAAa,SAAS,UAAU;AACpD,kCAAkC,SAAS;AAC3C;AACA;;AAEO;AACP;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;;AAEM;AACP;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,MAAM;AACxB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACO;AACP,2BAA2B,sBAAsB;AACjD;AACA;AACA;;AAEA;AACO;AACP,gDAAgD,QAAQ;AACxD,uCAAuC,QAAQ;AAC/C,uDAAuD,QAAQ;AAC/D;AACA;AACA;;AAEO;AACP,2EAA2E,OAAO;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;AACA,wMAAwM,cAAc;AACtN,4BAA4B,sBAAsB;AAClD,wBAAwB,YAAY,sBAAsB,qCAAqC,2CAA2C,MAAM;AAChJ,0BAA0B,MAAM,iBAAiB,YAAY;AAC7D,qBAAqB;AACrB,4BAA4B;AAC5B,2BAA2B;AAC3B,0BAA0B;AAC1B;;AAEO;AACP;AACA,eAAe,6CAA6C,UAAU,sDAAsD,cAAc;AAC1I,wBAAwB,6BAA6B,oBAAoB,uCAAuC,kBAAkB;AAClI;;AAEO;AACP;AACA;AACA,yGAAyG,uFAAuF,cAAc;AAC9M,qBAAqB,8BAA8B,gDAAgD,wDAAwD;AAC3J,2CAA2C,sCAAsC,UAAU,mBAAmB,IAAI;AAClH;;AAEO;AACP,+BAA+B,uCAAuC,YAAY,KAAK,OAAO;AAC9F;AACA;;AAEA;AACA,wCAAwC,4BAA4B;AACpE,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA,qDAAqD,cAAc;AACnE;AACA;AACA;;AAEO;AACP,2CAA2C;AAC3C;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,MAAM,oBAAoB,YAAY;AAC5E,qBAAqB,8CAA8C;AACnE;AACA;AACA,qBAAqB,aAAa;AAClC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uFAAuF,SAAS,gBAAgB;AAChH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA,iEAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UChZF;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;UENA;UACA;UACA;UACA","sources":["webpack://mcsmanager-panel/../node_modules/async-mutex/lib/Mutex.js","webpack://mcsmanager-panel/../node_modules/async-mutex/lib/Semaphore.js","webpack://mcsmanager-panel/../node_modules/async-mutex/lib/errors.js","webpack://mcsmanager-panel/../node_modules/async-mutex/lib/index.js","webpack://mcsmanager-panel/../node_modules/async-mutex/lib/tryAcquire.js","webpack://mcsmanager-panel/../node_modules/async-mutex/lib/withTimeout.js","webpack://mcsmanager-panel/../daemon/src/common/compress.ts","webpack://mcsmanager-panel/../daemon/src/common/system_storage.ts","webpack://mcsmanager-panel/../daemon/src/const.ts","webpack://mcsmanager-panel/../daemon/src/entity/config.ts","webpack://mcsmanager-panel/../daemon/src/i18n/index.ts","webpack://mcsmanager-panel/../daemon/src/service/log.ts","webpack://mcsmanager-panel/../daemon/src/service/seven_zip_service.ts","webpack://mcsmanager-panel/../daemon/src/service/system_file.ts","webpack://mcsmanager-panel/../daemon/src/tools/filepath.ts","webpack://mcsmanager-panel/./src/app.ts","webpack://mcsmanager-panel/./src/app/common/storage/file_storage.ts","webpack://mcsmanager-panel/./src/app/common/storage/jsonl_storage.ts","webpack://mcsmanager-panel/./src/app/common/storage/redis_storage.ts","webpack://mcsmanager-panel/./src/app/common/storage/sys_storage.ts","webpack://mcsmanager-panel/./src/app/common/system_storage.ts","webpack://mcsmanager-panel/./src/app/const.ts","webpack://mcsmanager-panel/./src/app/entity/entity_interface.ts","webpack://mcsmanager-panel/./src/app/entity/remote_service.ts","webpack://mcsmanager-panel/./src/app/entity/setting.ts","webpack://mcsmanager-panel/./src/app/entity/user.ts","webpack://mcsmanager-panel/./src/app/i18n/index.ts","webpack://mcsmanager-panel/./src/app/index.ts","webpack://mcsmanager-panel/./src/app/middleware/limit.ts","webpack://mcsmanager-panel/./src/app/middleware/permission.ts","webpack://mcsmanager-panel/./src/app/middleware/precheck.ts","webpack://mcsmanager-panel/./src/app/middleware/protocol.ts","webpack://mcsmanager-panel/./src/app/middleware/validator.ts","webpack://mcsmanager-panel/./src/app/routers/daemon_router.ts","webpack://mcsmanager-panel/./src/app/routers/environment_router.ts","webpack://mcsmanager-panel/./src/app/routers/filemananger_router.ts","webpack://mcsmanager-panel/./src/app/routers/general_user_router.ts","webpack://mcsmanager-panel/./src/app/routers/instance_admin_router.ts","webpack://mcsmanager-panel/./src/app/routers/instance_exchange_router.ts","webpack://mcsmanager-panel/./src/app/routers/instance_operate_router.ts","webpack://mcsmanager-panel/./src/app/routers/java_manager_router.ts","webpack://mcsmanager-panel/./src/app/routers/login_router.ts","webpack://mcsmanager-panel/./src/app/routers/manage_user_router.ts","webpack://mcsmanager-panel/./src/app/routers/mod_manager_router.ts","webpack://mcsmanager-panel/./src/app/routers/overview_router.ts","webpack://mcsmanager-panel/./src/app/routers/schedule_router.ts","webpack://mcsmanager-panel/./src/app/routers/settings_router.ts","webpack://mcsmanager-panel/./src/app/routers/user_overview_router.ts","webpack://mcsmanager-panel/./src/app/service/base/urs.ts","webpack://mcsmanager-panel/./src/app/service/exchange_service.ts","webpack://mcsmanager-panel/./src/app/service/frontend_layout.ts","webpack://mcsmanager-panel/./src/app/service/instance_service.ts","webpack://mcsmanager-panel/./src/app/service/log.ts","webpack://mcsmanager-panel/./src/app/service/mini_redis.ts","webpack://mcsmanager-panel/./src/app/service/mod_manager_service.ts","webpack://mcsmanager-panel/./src/app/service/operation_logger.ts","webpack://mcsmanager-panel/./src/app/service/passport_service.ts","webpack://mcsmanager-panel/./src/app/service/password.ts","webpack://mcsmanager-panel/./src/app/service/permission_service.ts","webpack://mcsmanager-panel/./src/app/service/remote_command.ts","webpack://mcsmanager-panel/./src/app/service/remote_service.ts","webpack://mcsmanager-panel/./src/app/service/user_service.ts","webpack://mcsmanager-panel/./src/app/service/user_sso_service.ts","webpack://mcsmanager-panel/./src/app/service/user_statistics.ts","webpack://mcsmanager-panel/./src/app/service/version_adapter.ts","webpack://mcsmanager-panel/./src/app/service/visual_data.ts","webpack://mcsmanager-panel/./src/app/setting.ts","webpack://mcsmanager-panel/./src/app/utils/sync.ts","webpack://mcsmanager-panel/./src/app/utils/url.ts","webpack://mcsmanager-panel/./src/app/version.ts","webpack://mcsmanager-panel/external commonjs \"@koa/router\"","webpack://mcsmanager-panel/external commonjs \"axios\"","webpack://mcsmanager-panel/external commonjs \"bcryptjs\"","webpack://mcsmanager-panel/external commonjs \"fs-extra\"","webpack://mcsmanager-panel/external commonjs \"i18next\"","webpack://mcsmanager-panel/external commonjs \"iconv-lite\"","webpack://mcsmanager-panel/external commonjs \"koa\"","webpack://mcsmanager-panel/external commonjs \"koa-body\"","webpack://mcsmanager-panel/external commonjs \"koa-session\"","webpack://mcsmanager-panel/external commonjs \"koa-static\"","webpack://mcsmanager-panel/external commonjs \"log4js\"","webpack://mcsmanager-panel/external commonjs \"mcsmanager-common\"","webpack://mcsmanager-panel/external commonjs \"md5\"","webpack://mcsmanager-panel/external commonjs \"nanoid\"","webpack://mcsmanager-panel/external commonjs \"open\"","webpack://mcsmanager-panel/external commonjs \"otplib\"","webpack://mcsmanager-panel/external commonjs \"qrcode\"","webpack://mcsmanager-panel/external commonjs \"redis\"","webpack://mcsmanager-panel/external commonjs \"socket.io-client\"","webpack://mcsmanager-panel/external commonjs \"uuid\"","webpack://mcsmanager-panel/external node-commonjs \"child_process\"","webpack://mcsmanager-panel/external node-commonjs \"fs\"","webpack://mcsmanager-panel/external node-commonjs \"fs/promises\"","webpack://mcsmanager-panel/external node-commonjs \"http\"","webpack://mcsmanager-panel/external node-commonjs \"https\"","webpack://mcsmanager-panel/external node-commonjs \"os\"","webpack://mcsmanager-panel/external node-commonjs \"path\"","webpack://mcsmanager-panel/external node-commonjs \"stream\"","webpack://mcsmanager-panel/external node-commonjs \"util\"","webpack://mcsmanager-panel/../node_modules/tslib/tslib.es6.mjs","webpack://mcsmanager-panel/webpack/bootstrap","webpack://mcsmanager-panel/webpack/runtime/define property getters","webpack://mcsmanager-panel/webpack/runtime/hasOwnProperty shorthand","webpack://mcsmanager-panel/webpack/runtime/make namespace object","webpack://mcsmanager-panel/webpack/before-startup","webpack://mcsmanager-panel/webpack/startup","webpack://mcsmanager-panel/webpack/after-startup"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar Semaphore_1 = require(\"./Semaphore\");\nvar Mutex = /** @class */ (function () {\n    function Mutex(cancelError) {\n        this._semaphore = new Semaphore_1.default(1, cancelError);\n    }\n    Mutex.prototype.acquire = function () {\n        return tslib_1.__awaiter(this, arguments, void 0, function (priority) {\n            var _a, releaser;\n            if (priority === void 0) { priority = 0; }\n            return tslib_1.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this._semaphore.acquire(1, priority)];\n                    case 1:\n                        _a = _b.sent(), releaser = _a[1];\n                        return [2 /*return*/, releaser];\n                }\n            });\n        });\n    };\n    Mutex.prototype.runExclusive = function (callback, priority) {\n        if (priority === void 0) { priority = 0; }\n        return this._semaphore.runExclusive(function () { return callback(); }, 1, priority);\n    };\n    Mutex.prototype.isLocked = function () {\n        return this._semaphore.isLocked();\n    };\n    Mutex.prototype.waitForUnlock = function (priority) {\n        if (priority === void 0) { priority = 0; }\n        return this._semaphore.waitForUnlock(1, priority);\n    };\n    Mutex.prototype.release = function () {\n        if (this._semaphore.isLocked())\n            this._semaphore.release();\n    };\n    Mutex.prototype.cancel = function () {\n        return this._semaphore.cancel();\n    };\n    return Mutex;\n}());\nexports.default = Mutex;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar errors_1 = require(\"./errors\");\nvar Semaphore = /** @class */ (function () {\n    function Semaphore(_value, _cancelError) {\n        if (_cancelError === void 0) { _cancelError = errors_1.E_CANCELED; }\n        this._value = _value;\n        this._cancelError = _cancelError;\n        this._queue = [];\n        this._weightedWaiters = [];\n    }\n    Semaphore.prototype.acquire = function (weight, priority) {\n        var _this = this;\n        if (weight === void 0) { weight = 1; }\n        if (priority === void 0) { priority = 0; }\n        if (weight <= 0)\n            throw new Error(\"invalid weight \".concat(weight, \": must be positive\"));\n        return new Promise(function (resolve, reject) {\n            var task = { resolve: resolve, reject: reject, weight: weight, priority: priority };\n            var i = findIndexFromEnd(_this._queue, function (other) { return priority <= other.priority; });\n            if (i === -1 && weight <= _this._value) {\n                // Needs immediate dispatch, skip the queue\n                _this._dispatchItem(task);\n            }\n            else {\n                _this._queue.splice(i + 1, 0, task);\n            }\n        });\n    };\n    Semaphore.prototype.runExclusive = function (callback_1) {\n        return tslib_1.__awaiter(this, arguments, void 0, function (callback, weight, priority) {\n            var _a, value, release;\n            if (weight === void 0) { weight = 1; }\n            if (priority === void 0) { priority = 0; }\n            return tslib_1.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this.acquire(weight, priority)];\n                    case 1:\n                        _a = _b.sent(), value = _a[0], release = _a[1];\n                        _b.label = 2;\n                    case 2:\n                        _b.trys.push([2, , 4, 5]);\n                        return [4 /*yield*/, callback(value)];\n                    case 3: return [2 /*return*/, _b.sent()];\n                    case 4:\n                        release();\n                        return [7 /*endfinally*/];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Semaphore.prototype.waitForUnlock = function (weight, priority) {\n        var _this = this;\n        if (weight === void 0) { weight = 1; }\n        if (priority === void 0) { priority = 0; }\n        if (weight <= 0)\n            throw new Error(\"invalid weight \".concat(weight, \": must be positive\"));\n        if (this._couldLockImmediately(weight, priority)) {\n            return Promise.resolve();\n        }\n        else {\n            return new Promise(function (resolve) {\n                if (!_this._weightedWaiters[weight - 1])\n                    _this._weightedWaiters[weight - 1] = [];\n                insertSorted(_this._weightedWaiters[weight - 1], { resolve: resolve, priority: priority });\n            });\n        }\n    };\n    Semaphore.prototype.isLocked = function () {\n        return this._value <= 0;\n    };\n    Semaphore.prototype.getValue = function () {\n        return this._value;\n    };\n    Semaphore.prototype.setValue = function (value) {\n        this._value = value;\n        this._dispatchQueue();\n    };\n    Semaphore.prototype.release = function (weight) {\n        if (weight === void 0) { weight = 1; }\n        if (weight <= 0)\n            throw new Error(\"invalid weight \".concat(weight, \": must be positive\"));\n        this._value += weight;\n        this._dispatchQueue();\n    };\n    Semaphore.prototype.cancel = function () {\n        var _this = this;\n        this._queue.forEach(function (entry) { return entry.reject(_this._cancelError); });\n        this._queue = [];\n    };\n    Semaphore.prototype._dispatchQueue = function () {\n        this._drainUnlockWaiters();\n        while (this._queue.length > 0 && this._queue[0].weight <= this._value) {\n            this._dispatchItem(this._queue.shift());\n            this._drainUnlockWaiters();\n        }\n    };\n    Semaphore.prototype._dispatchItem = function (item) {\n        var previousValue = this._value;\n        this._value -= item.weight;\n        item.resolve([previousValue, this._newReleaser(item.weight)]);\n    };\n    Semaphore.prototype._newReleaser = function (weight) {\n        var _this = this;\n        var called = false;\n        return function () {\n            if (called)\n                return;\n            called = true;\n            _this.release(weight);\n        };\n    };\n    Semaphore.prototype._drainUnlockWaiters = function () {\n        if (this._queue.length === 0) {\n            for (var weight = this._value; weight > 0; weight--) {\n                var waiters = this._weightedWaiters[weight - 1];\n                if (!waiters)\n                    continue;\n                waiters.forEach(function (waiter) { return waiter.resolve(); });\n                this._weightedWaiters[weight - 1] = [];\n            }\n        }\n        else {\n            var queuedPriority_1 = this._queue[0].priority;\n            for (var weight = this._value; weight > 0; weight--) {\n                var waiters = this._weightedWaiters[weight - 1];\n                if (!waiters)\n                    continue;\n                var i = waiters.findIndex(function (waiter) { return waiter.priority <= queuedPriority_1; });\n                (i === -1 ? waiters : waiters.splice(0, i))\n                    .forEach((function (waiter) { return waiter.resolve(); }));\n            }\n        }\n    };\n    Semaphore.prototype._couldLockImmediately = function (weight, priority) {\n        return (this._queue.length === 0 || this._queue[0].priority < priority) &&\n            weight <= this._value;\n    };\n    return Semaphore;\n}());\nfunction insertSorted(a, v) {\n    var i = findIndexFromEnd(a, function (other) { return v.priority <= other.priority; });\n    a.splice(i + 1, 0, v);\n}\nfunction findIndexFromEnd(a, predicate) {\n    for (var i = a.length - 1; i >= 0; i--) {\n        if (predicate(a[i])) {\n            return i;\n        }\n    }\n    return -1;\n}\nexports.default = Semaphore;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.E_CANCELED = exports.E_ALREADY_LOCKED = exports.E_TIMEOUT = void 0;\nexports.E_TIMEOUT = new Error('timeout while waiting for mutex to become available');\nexports.E_ALREADY_LOCKED = new Error('mutex already locked');\nexports.E_CANCELED = new Error('request for lock canceled');\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tryAcquire = exports.withTimeout = exports.Semaphore = exports.Mutex = void 0;\nvar tslib_1 = require(\"tslib\");\nvar Mutex_1 = require(\"./Mutex\");\nObject.defineProperty(exports, \"Mutex\", { enumerable: true, get: function () { return Mutex_1.default; } });\nvar Semaphore_1 = require(\"./Semaphore\");\nObject.defineProperty(exports, \"Semaphore\", { enumerable: true, get: function () { return Semaphore_1.default; } });\nvar withTimeout_1 = require(\"./withTimeout\");\nObject.defineProperty(exports, \"withTimeout\", { enumerable: true, get: function () { return withTimeout_1.withTimeout; } });\nvar tryAcquire_1 = require(\"./tryAcquire\");\nObject.defineProperty(exports, \"tryAcquire\", { enumerable: true, get: function () { return tryAcquire_1.tryAcquire; } });\ntslib_1.__exportStar(require(\"./errors\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tryAcquire = void 0;\nvar errors_1 = require(\"./errors\");\nvar withTimeout_1 = require(\"./withTimeout\");\n// eslint-disable-next-lisne @typescript-eslint/explicit-module-boundary-types\nfunction tryAcquire(sync, alreadyAcquiredError) {\n    if (alreadyAcquiredError === void 0) { alreadyAcquiredError = errors_1.E_ALREADY_LOCKED; }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return (0, withTimeout_1.withTimeout)(sync, 0, alreadyAcquiredError);\n}\nexports.tryAcquire = tryAcquire;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.withTimeout = void 0;\nvar tslib_1 = require(\"tslib\");\n/* eslint-disable @typescript-eslint/no-explicit-any */\nvar errors_1 = require(\"./errors\");\nfunction withTimeout(sync, timeout, timeoutError) {\n    var _this = this;\n    if (timeoutError === void 0) { timeoutError = errors_1.E_TIMEOUT; }\n    return {\n        acquire: function (weightOrPriority, priority) {\n            var weight;\n            if (isSemaphore(sync)) {\n                weight = weightOrPriority;\n            }\n            else {\n                weight = undefined;\n                priority = weightOrPriority;\n            }\n            if (weight !== undefined && weight <= 0) {\n                throw new Error(\"invalid weight \".concat(weight, \": must be positive\"));\n            }\n            return new Promise(function (resolve, reject) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n                var isTimeout, handle, ticket, release, e_1;\n                return tslib_1.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            isTimeout = false;\n                            handle = setTimeout(function () {\n                                isTimeout = true;\n                                reject(timeoutError);\n                            }, timeout);\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, (isSemaphore(sync)\n                                    ? sync.acquire(weight, priority)\n                                    : sync.acquire(priority))];\n                        case 2:\n                            ticket = _a.sent();\n                            if (isTimeout) {\n                                release = Array.isArray(ticket) ? ticket[1] : ticket;\n                                release();\n                            }\n                            else {\n                                clearTimeout(handle);\n                                resolve(ticket);\n                            }\n                            return [3 /*break*/, 4];\n                        case 3:\n                            e_1 = _a.sent();\n                            if (!isTimeout) {\n                                clearTimeout(handle);\n                                reject(e_1);\n                            }\n                            return [3 /*break*/, 4];\n                        case 4: return [2 /*return*/];\n                    }\n                });\n            }); });\n        },\n        runExclusive: function (callback, weight, priority) {\n            return tslib_1.__awaiter(this, void 0, void 0, function () {\n                var release, ticket;\n                return tslib_1.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            release = function () { return undefined; };\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, , 7, 8]);\n                            return [4 /*yield*/, this.acquire(weight, priority)];\n                        case 2:\n                            ticket = _a.sent();\n                            if (!Array.isArray(ticket)) return [3 /*break*/, 4];\n                            release = ticket[1];\n                            return [4 /*yield*/, callback(ticket[0])];\n                        case 3: return [2 /*return*/, _a.sent()];\n                        case 4:\n                            release = ticket;\n                            return [4 /*yield*/, callback()];\n                        case 5: return [2 /*return*/, _a.sent()];\n                        case 6: return [3 /*break*/, 8];\n                        case 7:\n                            release();\n                            return [7 /*endfinally*/];\n                        case 8: return [2 /*return*/];\n                    }\n                });\n            });\n        },\n        release: function (weight) {\n            sync.release(weight);\n        },\n        cancel: function () {\n            return sync.cancel();\n        },\n        waitForUnlock: function (weightOrPriority, priority) {\n            var weight;\n            if (isSemaphore(sync)) {\n                weight = weightOrPriority;\n            }\n            else {\n                weight = undefined;\n                priority = weightOrPriority;\n            }\n            if (weight !== undefined && weight <= 0) {\n                throw new Error(\"invalid weight \".concat(weight, \": must be positive\"));\n            }\n            return new Promise(function (resolve, reject) {\n                var handle = setTimeout(function () { return reject(timeoutError); }, timeout);\n                (isSemaphore(sync)\n                    ? sync.waitForUnlock(weight, priority)\n                    : sync.waitForUnlock(priority)).then(function () {\n                    clearTimeout(handle);\n                    resolve();\n                });\n            });\n        },\n        isLocked: function () { return sync.isLocked(); },\n        getValue: function () { return sync.getValue(); },\n        setValue: function (value) { return sync.setValue(value); },\n    };\n}\nexports.withTimeout = withTimeout;\nfunction isSemaphore(sync) {\n    return sync.getValue !== undefined;\n}\n","import { exec } from \"child_process\";\nimport fs from \"fs-extra\";\nimport { t } from \"i18next\";\nimport { ProcessWrapper } from \"mcsmanager-common\";\nimport path from \"path\";\nimport { promisify } from \"util\";\nimport { GOLANG_ZIP_PATH, SEVEN_ZIP_PATH, ZIP_TIMEOUT_SECONDS } from \"../const\";\nimport { $t } from \"../i18n\";\nimport logger from \"../service/log\";\nimport {\n  check7zipStatus,\n  getFileExtension,\n  isMultiVolume,\n  isZipFormat\n} from \"../service/seven_zip_service\";\n\nconst execPromise = promisify(exec);\n\nconst COMPRESS_ERROR_MSG = {\n  invalidName: t(\"TXT_CODE_3aa9f36\"),\n  exitErr: t(\"TXT_CODE_2be83d36\"),\n  startErr: t(\"TXT_CODE_37d839a4\"),\n  timeoutErr: t(\"TXT_CODE_15c07350\")\n};\n\nfunction checkFileName(fileName: string) {\n  const disableList = ['\"', \"'\", \"?\", \"|\", \"&\"];\n  for (const iterator of disableList) {\n    if (fileName.includes(iterator)) return false;\n  }\n  return true;\n}\n\nexport async function compress(\n  sourceZip: string,\n  files: string[],\n  fileCode?: string\n): Promise<boolean> {\n  if (!checkFileName(sourceZip) || files.some((v) => !checkFileName(v)))\n    throw new Error(COMPRESS_ERROR_MSG.invalidName);\n  return await useZip(sourceZip, files, fileCode);\n}\n\nexport async function decompress(\n  zipPath: string,\n  dest: string,\n  fileCode?: string\n): Promise<boolean> {\n  if (!checkFileName(zipPath) || !checkFileName(dest))\n    throw new Error(COMPRESS_ERROR_MSG.invalidName);\n\n  const tryUnzip = async () => {\n    if (!isZipFormat(zipPath)) {\n      const fileExt = getFileExtension(zipPath);\n      throw new Error($t(\"TXT_CODE_69c42450\", { fileExt: fileExt }));\n    }\n\n    if (isMultiVolume(zipPath)) {\n      throw new Error($t(\"TXT_CODE_91d066aa\"));\n    }\n    try {\n      return await useUnzip(zipPath, dest, fileCode || \"utf-8\");\n    } catch (error: any) {\n      logger.error($t(\"TXT_CODE_842929d0\", { message: error.message }));\n      throw new Error(\n        $t(\"TXT_CODE_f0512848\", {\n          message: error?.message\n        })\n      );\n    }\n  };\n\n  if (!await check7zipStatus()) {\n    try {\n      return await use7zip(zipPath, dest);\n    } catch (error) {\n      // if 7zip is not working, try to use unzip\n      return await tryUnzip();\n    }\n  } else {\n    return await tryUnzip();\n  }\n}\n\n/**\n * Decompress using 7zip\n */\nasync function use7zip(sourceZip: string, destDir: string): Promise<boolean> {\n  try {\n    const sourceDir = path.dirname(sourceZip);\n    const normalizedDest = path.normalize(destDir);\n    const normalizedSource = path.normalize(sourceDir);\n\n    let command: string;\n    let workingDir: string;\n\n    await fs.ensureDir(destDir);\n    command = `\"${SEVEN_ZIP_PATH}\" x \"${sourceZip}\" \"-o${destDir}\" -aoa`;\n    workingDir = sourceDir;\n    logger.info($t(\"TXT_CODE_35d2ee7a\", { command }));\n\n    const { stdout, stderr } = await execPromise(command, {\n      cwd: workingDir,\n      timeout: ZIP_TIMEOUT_SECONDS * 1000\n    });\n\n    const hasErrors =\n      stdout.includes(\"ERRORS:\") ||\n      stdout.includes(\"ERROR:\") ||\n      stdout.includes(\"Open Errors:\") ||\n      stdout.includes(\"Missing volume\") ||\n      stdout.includes(\"Data Error\") ||\n      stdout.includes(\"Archives with Errors:\");\n\n    if (hasErrors) {\n      const errorLines = stdout\n        .split(\"\\n\")\n        .filter(\n          (line) =>\n            line.includes(\"ERROR\") ||\n            line.includes(\"Missing volume\") ||\n            line.includes(\"Data Error\") ||\n            line.includes(\"Open Errors\") ||\n            line.includes(\"Archives with Errors\")\n        );\n\n      let cleanErrorMsg: string;\n      if (stdout.includes(\"Missing volume\")) {\n        const volumeMatch = stdout.match(/Missing volume\\s*:\\s*([^\\s\\n]+)/);\n        if (volumeMatch) {\n          cleanErrorMsg = $t(\"TXT_CODE_c0401ba7\", { file: volumeMatch[1] });\n        } else {\n          cleanErrorMsg = $t(\"TXT_CODE_908a4ace\");\n        }\n      } else if (stdout.includes(\"Data Error\")) {\n        cleanErrorMsg = $t(\"TXT_CODE_b1ef1d4a\");\n      } else if (stdout.includes(\"Open Errors\")) {\n        cleanErrorMsg = $t(\"TXT_CODE_5778848e\");\n      } else {\n        const firstError = errorLines[0]?.trim() || $t(\"TXT_CODE_11ecd5a9\");\n        cleanErrorMsg = firstError.length > 100 ? firstError.substring(0, 100) + \"...\" : firstError;\n      }\n\n      logger.error($t(\"TXT_CODE_cacd8840\", { message: cleanErrorMsg }));\n      throw new Error($t(\"TXT_CODE_ec7fc405\", { message: cleanErrorMsg }));\n    }\n\n    if (stderr && stderr.trim()) {\n      logger.warn($t(\"TXT_CODE_8a9c6364\", { warning: stderr }));\n    }\n\n    if (stdout.includes(\"Everything is Ok\")) {\n      logger.info($t(\"TXT_CODE_e96a91cd\"));\n    } else {\n      const resultLines = stdout\n        .split(\"\\n\")\n        .filter((line) => line.trim())\n        .slice(-3);\n      logger.info($t(\"TXT_CODE_143db7d9\", { result: resultLines.join(\"; \") }));\n    }\n    return true;\n  } catch (error: any) {\n    let simpleErrorMsg: string;\n    if (error.message.includes(\"Missing volume\")) {\n      const volumeMatch = error.message.match(/Missing volume\\s*:\\s*([^\\s\\n]+)/);\n      simpleErrorMsg = volumeMatch\n        ? $t(\"TXT_CODE_c0401ba7\", { file: volumeMatch[1] })\n        : $t(\"TXT_CODE_908a4ace\");\n    } else if (error.message.includes(\"timeout\")) {\n      simpleErrorMsg = $t(\"TXT_CODE_1d1ec400\");\n    } else if (error.message.includes(\"ENOENT\")) {\n      simpleErrorMsg = $t(\"TXT_CODE_a0ede210\");\n    } else if (error.message.includes(\"Command failed\")) {\n      simpleErrorMsg = $t(\"TXT_CODE_4fb3fad1\");\n    } else {\n      simpleErrorMsg = $t(\"TXT_CODE_f460677f\");\n    }\n\n    logger.error(\n      $t(\"TXT_CODE_1b688710\", {\n        message: simpleErrorMsg,\n        details: error.message.substring(0, 200)\n      })\n    );\n    throw new Error($t(\"TXT_CODE_ec7fc405\", { message: simpleErrorMsg }));\n  }\n}\n\n// ./file-zip -mode 2 --zipPath aaa.zip --DistDirPath 123412124 --code GBK\nasync function useUnzip(sourceZip: string, destDir: string, code = \"utf-8\"): Promise<boolean> {\n  const params = [\n    \"--mode=2\",\n    `--zipPath=${path.basename(sourceZip)}`,\n    `--distDirPath=${path.normalize(destDir)}`,\n    `--code=${code}`\n  ];\n  logger.info(`Function useUnzip(): Command: ${GOLANG_ZIP_PATH} ${params.join(\" \")}`);\n  const subProcess = new ProcessWrapper(\n    GOLANG_ZIP_PATH,\n    params,\n    path.dirname(sourceZip),\n    ZIP_TIMEOUT_SECONDS,\n    code\n  );\n  subProcess.setErrMsg(COMPRESS_ERROR_MSG);\n  return subProcess.start();\n}\n\n// ./file-zip -mode 1 --file main.go --file file-zip --file 123 --file README.md --zipPath aaabb.zip\nasync function useZip(distZip: string, files: string[], code = \"utf-8\"): Promise<boolean> {\n  if (!files || files.length == 0) throw new Error(t(\"TXT_CODE_2038ec2c\"));\n  const params = [\"--mode=1\", `--code=${code}`, `--zipPath=${path.basename(distZip)}`];\n  files.forEach((v) => {\n    params.push(`--file=${path.basename(v)}`);\n  });\n  logger.info(\n    `Function useZip(): Command: ${GOLANG_ZIP_PATH} ${params.join(\" \")}, CWD: ${path.dirname(\n      distZip\n    )}`\n  );\n  const subProcess = new ProcessWrapper(\n    GOLANG_ZIP_PATH,\n    params,\n    path.dirname(distZip),\n    ZIP_TIMEOUT_SECONDS,\n    code\n  );\n  subProcess.setErrMsg(COMPRESS_ERROR_MSG);\n  return subProcess.start();\n}\n","import { StorageSubsystem } from \"mcsmanager-common\";\nexport default new StorageSubsystem();\n","import os from \"os\";\nimport path from \"path\";\n\nfunction loadSteamCmdPath() {\n  let targetPath = path.normalize(\n    path.join(\n      process.cwd(),\n      \"lib\",\n      os.platform() === \"win32\" ? \"steamcmd.exe\" : `steamcmd_${os.arch()}`\n    )\n  );\n  return targetPath;\n}\n\nconst SYS_INFO = `${os.platform()}_${os.arch()}${os.platform() === \"win32\" ? \".exe\" : \"\"}`;\nconst ptyName = `pty_${SYS_INFO}`;\nconst frpcName = `frpc_${SYS_INFO}`;\nconst PTY_PATH = path.normalize(path.join(process.cwd(), \"lib\", ptyName));\nconst FRPC_PATH = path.normalize(path.join(process.cwd(), \"lib\", frpcName));\nconst FILENAME_BLACKLIST = [\"\\\\\", \"/\", \".\", \"'\", '\"', \"?\", \"*\", \"<\", \">\"];\nconst LOCAL_PRESET_LANG_PATH = path.normalize(path.join(process.cwd(), \"language\"));\nconst IGNORE = \"[IGNORE_LOG]\";\nconst SYSTEM_TYPE = os.platform();\nconst ZIP_TIMEOUT_SECONDS = 60 * 40;\nconst GOLANG_ZIP_NAME = `file_zip_${SYSTEM_TYPE}_${os.arch()}${\n  SYSTEM_TYPE === \"win32\" ? \".exe\" : \"\"\n}`;\nconst GOLANG_ZIP_PATH = path.normalize(path.join(process.cwd(), \"lib\", GOLANG_ZIP_NAME));\nconst STEAM_CMD_PATH = loadSteamCmdPath();\nconst WINDOWS_STEAM_CMD_URL = \"https://steamcdn-a.akamaihd.net/client/installer/steamcmd.zip\";\n\nconst SEVEN_ZIP_NAME = `7z_${os.platform()}_${os.arch()}${os.platform() === \"win32\" ? \".exe\" : \"\"}`;\nconst SEVEN_ZIP_PATH = path.normalize(path.join(process.cwd(), \"lib\", SEVEN_ZIP_NAME));\n\nexport {\n  FILENAME_BLACKLIST,\n  FRPC_PATH,\n  GOLANG_ZIP_PATH,\n  IGNORE,\n  LOCAL_PRESET_LANG_PATH,\n  PTY_PATH,\n  SEVEN_ZIP_NAME,\n  SEVEN_ZIP_PATH,\n  STEAM_CMD_PATH,\n  SYSTEM_TYPE,\n  WINDOWS_STEAM_CMD_URL,\n  ZIP_TIMEOUT_SECONDS\n};\n","import { v4 } from \"uuid\";\nimport StorageSubsystem from \"../common/system_storage\";\n\nfunction builderPassword() {\n  const a = `${v4().replace(/\\-/gim, \"\")}`;\n  const b = a.slice(0, a.length / 2 - 1);\n  const c = `${v4().replace(/\\-/gim, \"\")}`;\n  return b + c;\n}\n\n// @Entity\nclass Config {\n  public version = 2;\n  public ip = \"\";\n  public port = 24444;\n  public prefix = \"\";\n  public key = builderPassword();\n  public maxFileTask = 2;\n  public maxZipFileSize = 200;\n  public language = \"en_us\";\n  public defaultInstancePath = \"\";\n  public defaultJavaDataPath = \"\";\n  public allocatablePortRange = [10010, 65500];\n  public currentAllocatablePort = 10010;\n  public portAssignInterval = 5;\n\n  // default: Unlimited, if set 40 => (40 packets * 64KB)/s => 2.5MB/s\n  public uploadSpeedRate = 0;\n  // default: Unlimited, if set 32 => (32 packets * 64KB)/s => 2MB/s\n  public downloadSpeedRate = 0;\n  // default: 1, if set 0 => Unlimited\n  public maxDownloadFromUrlFileCount = 1;\n\n  public whiteListPanelIp = false;\n  public whiteListPanelIps = [\"127.0.0.1\", \"::1\"];\n\n  ssl = false;\n  sslPemPath = \"\";\n  sslKeyPath = \"\";\n}\n\n// daemon configuration class\nclass GlobalConfiguration {\n  public config = new Config();\n  private static readonly ID = \"global\";\n\n  load() {\n    let config: Config = StorageSubsystem.load(\"Config\", Config, GlobalConfiguration.ID);\n    if (config == null) {\n      config = new Config();\n      StorageSubsystem.store(\"Config\", GlobalConfiguration.ID, config);\n    }\n    this.config = config;\n  }\n\n  store() {\n    StorageSubsystem.store(\"Config\", GlobalConfiguration.ID, this.config);\n  }\n}\n\nclass GlobalEnv {\n  public fileTaskCount = 0;\n}\n\nconst globalConfiguration = new GlobalConfiguration();\nconst globalEnv = new GlobalEnv();\n\nexport { Config, globalConfiguration, globalEnv };\n","// I18n init configuration (Daemon)\n// If you want to add the language of your own country, you need to add the code here.\n\nimport i18next from \"i18next\";\n\nimport zh_cn from \"@languages/zh_CN.json\";\nimport en_us from \"@languages/en_US.json\";\nimport zh_tw from \"@languages/zh_TW.json\";\nimport ja_JP from \"@languages/ja_JP.json\";\nimport es_ES from \"@languages/es_ES.json\";\nimport fr_FR from \"@languages/fr_FR.json\";\nimport ru_RU from \"@languages/ru_RU.json\";\nimport ko_KR from \"@languages/ko_KR.json\";\nimport de_DE from \"@languages/de_DE.json\";\nimport pt_BR from \"@languages/pt_BR.json\";\nimport th_TH from \"@languages/th_TH.json\";\n\ni18next.init({\n  interpolation: {\n    escapeValue: false\n  },\n  lng: \"en_us\",\n  fallbackLng: \"en_us\",\n  resources: {\n    en_us: {\n      translation: en_us\n    },\n    zh_cn: {\n      translation: zh_cn\n    },\n    zh_tw: {\n      translation: zh_tw\n    },\n    ja_jp: {\n      translation: ja_JP\n    },\n    es_es: {\n      translation: es_ES\n    },\n    fr_fr: {\n      translation: fr_FR\n    },\n    ru_ru: {\n      translation: ru_RU\n    },\n    ko_kr: {\n      translation: ko_KR\n    },\n    de_de: {\n      translation: de_DE\n    },\n    pt_br: {\n      translation: pt_BR\n    },\n    th_th: {\n      translation: th_TH\n    }\n  }\n});\n\n// alias\nconst $t = i18next.t;\n\nexport { $t, i18next };\n","import fs from \"fs-extra\";\nimport * as log4js from \"log4js\";\nimport { systemInfo } from \"mcsmanager-common\";\nimport { $t } from \"../i18n\";\n\nconst LOG_FILE_PATH = \"logs/current.log\";\nconst LOG_SYS_INFO_FILE_PATH = \"logs/sysinfo.log\";\n\nconst time = new Date();\nconst timeString =\n  `${time.getFullYear()}-${time.getMonth() + 1}-${time.getDate()}` +\n  `_${time.getHours()}-${time.getMinutes()}-${time.getSeconds()}`;\n\nif (fs.existsSync(LOG_FILE_PATH)) {\n  fs.renameSync(LOG_FILE_PATH, `logs/${timeString}.log`);\n}\n\nif (fs.existsSync(LOG_SYS_INFO_FILE_PATH)) {\n  fs.renameSync(LOG_SYS_INFO_FILE_PATH, `logs/sysinfo_${timeString}.log`);\n}\n\nlog4js.configure({\n  appenders: {\n    out: {\n      type: \"stdout\",\n      layout: {\n        type: \"pattern\",\n        pattern: \"[%d{MM/dd hh:mm:ss}] [%[%p%]] %m\"\n      }\n    },\n    app: {\n      type: \"file\",\n      filename: LOG_FILE_PATH,\n      layout: {\n        type: \"pattern\",\n        pattern: \"[%d{MM/dd hh:mm:ss}] [%p] %m\"\n      }\n    },\n    sys: {\n      type: \"file\",\n      filename: LOG_SYS_INFO_FILE_PATH,\n      layout: {\n        type: \"pattern\",\n        pattern: \"[%d{MM/dd hh:mm:ss}] [%p] %m\"\n      }\n    }\n  },\n  categories: {\n    default: {\n      appenders: [\"out\", \"app\"],\n      level: \"info\"\n    },\n    sysinfo: {\n      appenders: [\"sys\"],\n      level: \"info\"\n    }\n  }\n});\n\nconst logger = log4js.getLogger(\"default\");\nconst loggerSysInfo = log4js.getLogger(\"sysinfo\");\nfunction toInt(v: number) {\n  return parseInt(String(v));\n}\n\nfunction systemInfoReport() {\n  const MB_SIZE = 1024 * 1024;\n  const info = systemInfo();\n\n  const self = process.memoryUsage();\n  const sysInfo =\n    `MEM: ${toInt((info.totalmem - info.freemem) / MB_SIZE)}MB/${toInt(\n      info.totalmem / MB_SIZE\n    )}MB` + ` CPU: ${toInt(info.cpuUsage * 100)}%`;\n  const selfInfo = `Heap: ${toInt(self.heapUsed / MB_SIZE)}MB/${toInt(self.heapTotal / MB_SIZE)}MB`;\n  const selfInfo2 = `RSS: ${toInt(self.rss / MB_SIZE)}MB`;\n  const logTip = $t(\"TXT_CODE_app.sysinfo\");\n  loggerSysInfo.info([`[${logTip}]`, sysInfo, selfInfo, selfInfo2].join(\" \"));\n}\n\nsetInterval(systemInfoReport, 1000 * 5);\n\nexport default logger;\n","import { exec } from \"child_process\";\nimport { existsSync } from \"fs\";\nimport fs from \"fs/promises\";\nimport path from \"path\";\nimport { promisify } from \"util\";\nimport { SEVEN_ZIP_PATH } from \"../const\";\nimport { $t } from \"../i18n\";\nimport logger from \"./log\";\n\nconst execPromise = promisify(exec);\n\n/**\n * Check if the file is in zip format (only supports .zip extension)\n */\nexport function isZipFormat(filePath: string): boolean {\n  const ext = path.extname(filePath).toLowerCase();\n  return ext === \".zip\";\n}\n\n/**\n * Check if it's a multi-volume archive (supports ZIP, 7z, RAR formats)\n * ZIP multi-volume naming: archive.zip, archive.z01, archive.z02, etc.\n * 7z multi-volume naming: archive.7z.001, archive.7z.002, etc.\n * RAR multi-volume naming: archive.part1.rar, archive.part2.rar or archive.rar, archive.r00, archive.r01, etc.\n */\nexport function isMultiVolume(filePath: string): boolean {\n  const dir = path.dirname(filePath);\n  const fullName = path.basename(filePath);\n  const ext = path.extname(filePath).toLowerCase();\n\n  if (ext === \".zip\") {\n    const baseName = path.basename(filePath, \".zip\");\n    const firstVolumeFile = path.join(dir, baseName + \".z01\");\n    return existsSync(firstVolumeFile);\n  }\n\n  if (ext === \".7z\") {\n    const baseName = path.basename(filePath, \".7z\");\n    const firstVolumeFile = path.join(dir, baseName + \".7z.001\");\n    return existsSync(firstVolumeFile);\n  }\n\n  if (ext === \".rar\") {\n    const baseName = path.basename(filePath, \".rar\");\n\n    if (fullName.includes(\".part1.rar\")) {\n      const partBaseName = fullName.replace(\".part1.rar\", \"\");\n      const secondPartFile = path.join(dir, partBaseName + \".part2.rar\");\n      return existsSync(secondPartFile);\n    }\n\n    const firstVolumeFile = path.join(dir, baseName + \".r00\");\n    return existsSync(firstVolumeFile);\n  }\n\n  return false;\n}\n\n/**\n * Get file extension for error messages\n */\nexport function getFileExtension(filePath: string): string {\n  return path.extname(filePath).toLowerCase().substring(1) || \"unknown\";\n}\n\nlet isChecked7zip = false;\n/**\n * Check if 7zip is working properly\n */\nexport async function check7zipStatus(): Promise<boolean> {\n  try {\n    if (isChecked7zip) return true;\n    if (!existsSync(SEVEN_ZIP_PATH)) return false;\n    try {\n      await fs.chmod(SEVEN_ZIP_PATH, 0o755);\n    } catch (chmodError: any) {\n      logger.warn($t(\"TXT_CODE_9ade0fb8\", { message: chmodError.message }));\n    }\n    const { stdout } = await execPromise(`\"${SEVEN_ZIP_PATH}\" i`, {\n      timeout: 5 * 1000\n    });\n    if (stdout.includes(\"7-Zip\") && stdout.includes(\"Copyright\")) {\n      logger.info($t(\"TXT_CODE_a7c73a51\", { info: stdout.split(\"\\n\")[1].trim() }));\n      isChecked7zip = true;\n      return true;\n    }\n    return false;\n  } catch (error: any) {\n    // ignore error\n    return false;\n  }\n}\n","import fs from \"fs-extra\";\nimport iconv from \"iconv-lite\";\nimport { ProcessWrapper } from \"mcsmanager-common\";\nimport os from \"os\";\nimport path from \"path\";\nimport { compress, decompress } from \"../common/compress\";\nimport { globalConfiguration } from \"../entity/config\";\nimport { $t, i18next } from \"../i18n\";\nimport { normalizedJoin } from \"../tools/filepath\";\n\nconst ERROR_MSG_01 = $t(\"TXT_CODE_system_file.illegalAccess\");\nconst MAX_EDIT_SIZE = 1024 * 1024 * 5;\n\ninterface IFile {\n  name: string;\n  size: number;\n  time: string;\n  type: number;\n  mode: number;\n}\n\nexport default class FileManager {\n  public cwd: string = \".\";\n\n  constructor(public topPath: string = \"\", public fileCode?: string) {\n    if (!path.isAbsolute(topPath)) {\n      this.topPath = path.normalize(path.join(process.cwd(), topPath));\n    } else {\n      this.topPath = path.normalize(topPath);\n    }\n    if (!fileCode) {\n      this.fileCode = \"utf-8\";\n      if (i18next.language == \"zh_cn\") this.fileCode = \"gbk\";\n    }\n  }\n\n  isRootTopRath() {\n    return this.topPath === \"/\" || this.topPath === \"\\\\\";\n  }\n\n  toAbsolutePath(fileName: string = \"\") {\n    const topAbsolutePath = this.topPath;\n\n    if (path.normalize(fileName).indexOf(topAbsolutePath) === 0) return fileName;\n\n    let finalPath = \"\";\n    if (os.platform() === \"win32\") {\n      const reg = new RegExp(\"^[A-Za-z]{1}:[\\\\\\\\/]{1}\");\n      if (reg.test(this.cwd)) {\n        finalPath = path.normalize(path.join(this.cwd, fileName));\n      } else if (reg.test(fileName)) {\n        finalPath = path.normalize(fileName);\n      }\n    }\n\n    if (!finalPath) {\n      finalPath = path.normalize(path.join(this.topPath, this.cwd, fileName));\n    }\n\n    if (\n      finalPath.indexOf(topAbsolutePath) !== 0 &&\n      topAbsolutePath !== \"/\" &&\n      topAbsolutePath !== \"\\\\\"\n    )\n      throw new Error(ERROR_MSG_01);\n    return finalPath;\n  }\n\n  checkPath(fileNameOrPath: string) {\n    if (this.isRootTopRath()) return true;\n    const destAbsolutePath = path.normalize(this.toAbsolutePath(fileNameOrPath));\n    const topAbsolutePath = path.normalize(this.topPath);\n\n    const destPath = destAbsolutePath.endsWith(path.sep)\n      ? destAbsolutePath.slice(0, -1)\n      : destAbsolutePath;\n    const topPath = topAbsolutePath.endsWith(path.sep)\n      ? topAbsolutePath.slice(0, -1)\n      : topAbsolutePath;\n\n    if (destPath.startsWith(topPath)) {\n      const parts = destPath.split(path.sep);\n      return topPath.split(path.sep).every((part, index) => {\n        return part === parts[index];\n      });\n    }\n    return false;\n  }\n\n  check(destPath: string) {\n    if (this.isRootTopRath()) return true;\n    return this.checkPath(destPath) && fs.existsSync(this.toAbsolutePath(destPath));\n  }\n\n  cd(dirName: string) {\n    if (!this.check(dirName)) throw new Error(ERROR_MSG_01);\n    this.cwd = normalizedJoin(this.cwd, dirName);\n  }\n\n  async list(page: 0, pageSize = 40, searchFileName?: string) {\n    if (pageSize > 100 || pageSize <= 0 || page < 0) throw new Error(\"Beyond the value limit\");\n\n    // Use withFileTypes option to get file type directly, reducing stat calls\n    const dirents = await fs.readdir(this.toAbsolutePath(), { withFileTypes: true });\n\n    // Filter search results and create basic file info with type\n    let filteredItems = dirents\n      .filter(\n        (dirent) =>\n          !searchFileName || dirent.name.toLowerCase().includes(searchFileName.toLowerCase())\n      )\n      .map((dirent) => ({\n        name: dirent.name,\n        type: dirent.isFile() ? 1 : 0\n      }));\n\n    const total = filteredItems.length;\n\n    // Sort: directories first (type 0), then files (type 1), both alphabetically\n    filteredItems.sort((a, b) => {\n      if (a.type !== b.type) return a.type - b.type;\n      return a.name.localeCompare(b.name);\n    });\n\n    const sliceStart = page * pageSize;\n    const sliceEnd = sliceStart + pageSize;\n    const targetItems = filteredItems.slice(sliceStart, sliceEnd);\n\n    const statPromises = targetItems.map(async (item) => {\n      try {\n        const info = await fs.stat(this.toAbsolutePath(item.name));\n        const mode = parseInt(String(parseInt(info.mode?.toString(8), 10)).slice(-3));\n        return {\n          name: item.name,\n          size: info.isFile() ? info.size : 0,\n          time: info.atime.toString(),\n          mode,\n          type: item.type\n        };\n      } catch (error: any) {\n        return {\n          name: item.name,\n          size: 0,\n          time: new Date().toString(),\n          mode: 0,\n          type: item.type\n        };\n      }\n    });\n\n    // Execute all stat operations concurrently\n    const resultList = await Promise.all(statPromises);\n\n    return {\n      items: resultList,\n      page,\n      pageSize,\n      total,\n      absolutePath: this.toAbsolutePath()\n    };\n  }\n\n  async chmod(fileName: string, chmodValue: number, deep: boolean) {\n    if (!this.check(fileName) || isNaN(parseInt(chmodValue as any))) throw new Error(ERROR_MSG_01);\n    const absPath = this.toAbsolutePath(fileName);\n    const defaultPath = \"/bin/chmod\";\n    let file = \"chmod\";\n    if (fs.existsSync(defaultPath)) file = defaultPath;\n    const params: string[] = [];\n    if (deep) params.push(\"-R\");\n    params.push(String(chmodValue));\n    params.push(absPath);\n    return await new ProcessWrapper(file, params, \".\", 60 * 10).start();\n  }\n\n  async readFile(fileName: string) {\n    if (!this.check(fileName)) throw new Error(ERROR_MSG_01);\n    const absPath = this.toAbsolutePath(fileName);\n    const buf = await fs.readFile(absPath);\n    const text = iconv.decode(buf, this.fileCode || \"utf-8\");\n    return text;\n  }\n\n  async writeFile(fileName: string, data: string) {\n    if (!this.check(fileName)) throw new Error(ERROR_MSG_01);\n    const absPath = this.toAbsolutePath(fileName);\n    const buf = iconv.encode(data, this.fileCode || \"utf-8\");\n    return await fs.writeFile(absPath, buf);\n  }\n\n  async newFile(fileName: string) {\n    // if (!FileManager.checkFileName(fileName)) throw new Error(ERROR_MSG_01);\n    if (!this.checkPath(fileName)) throw new Error(ERROR_MSG_01);\n    const target = this.toAbsolutePath(fileName);\n    fs.createFile(target);\n  }\n\n  async copy(target1: string, target2: string) {\n    if (!this.checkPath(target2) || !this.check(target1)) throw new Error(ERROR_MSG_01);\n    const targetPath = this.toAbsolutePath(target1);\n    target2 = this.toAbsolutePath(target2);\n    return await fs.copy(targetPath, target2);\n  }\n\n  mkdir(target: string) {\n    if (!this.checkPath(target)) throw new Error(ERROR_MSG_01);\n    const targetPath = this.toAbsolutePath(target);\n    return fs.mkdirSync(targetPath);\n  }\n\n  async delete(target: string): Promise<boolean> {\n    if (!this.check(target)) throw new Error(ERROR_MSG_01);\n    const targetPath = this.toAbsolutePath(target);\n    return new Promise((r, j) => {\n      fs.remove(targetPath, (err) => {\n        if (!err) r(true);\n        else j(err);\n      });\n    });\n  }\n\n  async move(target: string, destPath: string) {\n    if (!this.check(target)) throw new Error(ERROR_MSG_01);\n    if (!this.checkPath(destPath)) throw new Error(ERROR_MSG_01);\n    const targetPath = this.toAbsolutePath(target);\n    destPath = this.toAbsolutePath(destPath);\n    await fs.move(targetPath, destPath);\n  }\n\n  private zipFileCheck(path: string) {\n    const fileInfo = fs.statSync(path);\n    const MAX_ZIP_GB = globalConfiguration.config.maxZipFileSize;\n    if (fileInfo.size > 1024 * 1024 * 1024 * MAX_ZIP_GB)\n      throw new Error($t(\"TXT_CODE_system_file.unzipLimit\", { max: MAX_ZIP_GB }));\n  }\n\n  async unzip(sourceZip: string, destDir: string, code?: string) {\n    if (!code) code = this.fileCode;\n    if (!this.check(sourceZip) || !this.checkPath(destDir)) throw new Error(ERROR_MSG_01);\n    this.zipFileCheck(this.toAbsolutePath(sourceZip));\n    return await decompress(this.toAbsolutePath(sourceZip), this.toAbsolutePath(destDir), code);\n  }\n\n  async zip(sourceZip: string, files: string[], code?: string) {\n    if (!code) code = this.fileCode;\n    if (!this.checkPath(sourceZip)) throw new Error(ERROR_MSG_01);\n    const MAX_ZIP_GB = globalConfiguration.config.maxZipFileSize;\n    const MAX_TOTAL_FIELS_SIZE = 1024 * 1024 * 1024 * MAX_ZIP_GB;\n    const sourceZipPath = this.toAbsolutePath(sourceZip);\n    const filesPath = [];\n    let totalSize = 0;\n    for (const iterator of files) {\n      if (this.check(iterator)) {\n        filesPath.push(this.toAbsolutePath(iterator));\n        try {\n          totalSize += fs.statSync(this.toAbsolutePath(iterator))?.size;\n        } catch (error: any) {}\n      }\n    }\n    if (totalSize > MAX_TOTAL_FIELS_SIZE)\n      throw new Error($t(\"TXT_CODE_system_file.unzipLimit\", { max: MAX_ZIP_GB }));\n    return await compress(sourceZipPath, filesPath, code);\n  }\n\n  async edit(target: string, data?: string) {\n    if (!this.check(target)) throw new Error(ERROR_MSG_01);\n    if (data || typeof data === \"string\") {\n      return await this.writeFile(target, data);\n    } else {\n      const absPath = this.toAbsolutePath(target);\n      const info = fs.statSync(absPath);\n      if (info.size > MAX_EDIT_SIZE) {\n        throw new Error($t(\"TXT_CODE_system_file.execLimit\"));\n      }\n      return await this.readFile(target);\n    }\n  }\n\n  rename(target: string, newName: string) {\n    if (!this.check(target)) throw new Error(ERROR_MSG_01);\n    if (!this.checkPath(newName)) throw new Error(ERROR_MSG_01);\n    const targetPath = this.toAbsolutePath(target);\n    const newPath = this.toAbsolutePath(newName);\n    fs.renameSync(targetPath, newPath);\n  }\n\n  public static checkFileName(fileName?: string): boolean {\n    if (!fileName) return false;\n    const blackKeys = [\"/\", \"\\\\\", \"|\", \"?\", \"*\", \">\", \"<\", \";\", '\"'];\n    for (const ch of blackKeys) {\n      if (fileName.includes(ch)) return false;\n    }\n    return true;\n  }\n}\n","import formidable from \"formidable\";\nimport fs from \"fs-extra\";\nimport os from \"os\";\nimport path from \"path\";\n\nexport function checkFileName(fileName: string) {\n  const blackKeys = [\"/\", \"\\\\\", \"|\", \"?\", \"*\", \">\", \"<\", \";\", '\"'];\n  for (const ch of blackKeys) {\n    if (fileName.includes(ch)) return false;\n  }\n  return true;\n}\n\nexport function clearUploadFiles(file?: formidable.File | formidable.File[]) {\n  if (!file) return;\n  if (file instanceof Array) {\n    file.forEach((v) => {\n      fs.remove(v.filepath, () => {});\n    });\n  } else {\n    fs.remove(file.filepath, () => {});\n  }\n}\n\nexport function normalizedJoin(...paths: string[]) {\n  if (os.platform() === \"win32\") {\n    return joinWin32(...paths);\n  }\n  return path.normalize(path.join(...paths));\n}\n\nfunction joinWin32(...paths: string[]): string {\n  if (!paths.length) return \".\";\n  if (paths.length == 1) return paths[0];\n  const parts = path.win32.parse(paths[1]);\n  let p: string;\n  if (parts.root) {\n    p = paths[1];\n  } else {\n    p = path.normalize(path.join(paths[0], paths[1]));\n  }\n  if (paths.length <= 2) return p;\n\n  return joinWin32(p, ...paths.slice(2));\n}\n","import fs from \"fs-extra\";\nimport http from \"http\";\nimport https from \"https\";\nimport Koa from \"koa\";\nimport koaBody, { HttpMethodEnum } from \"koa-body\";\nimport session from \"koa-session\";\nimport koaStatic from \"koa-static\";\nimport { removeTrail } from \"mcsmanager-common\";\nimport open from \"open\";\nimport os from \"os\";\nimport path from \"path\";\nimport { v4 } from \"uuid\";\nimport RedisStorage from \"./app/common/storage/redis_storage\";\nimport Storage from \"./app/common/storage/sys_storage\";\nimport { $t } from \"./app/i18n\";\nimport { mountRouters } from \"./app/index\";\nimport { preCheckMiddleware } from \"./app/middleware/precheck\";\nimport { middleware as protocolMiddleware } from \"./app/middleware/protocol\";\nimport { logger } from \"./app/service/log\";\nimport SystemRemoteService from \"./app/service/remote_service\";\nimport SystemUser from \"./app/service/user_service\";\nimport versionAdapter from \"./app/service/version_adapter\";\nimport { initSystemConfig, systemConfig } from \"./app/setting\";\nimport { checkBusinessMode, getVersion, initVersionManager } from \"./app/version\";\n\nfunction hasParams(name: string) {\n  return process.argv.includes(name);\n}\n\nfunction setupHttp(\n  koaApp: Koa,\n  ssl: boolean,\n  sslPemPath: string,\n  sslKeyPath: string,\n  port: number,\n  host?: string\n) {\n  let httpServer: http.Server | https.Server;\n\n  if (ssl) {\n    const options = {\n      cert: fs.readFileSync(path.join(sslPemPath)),\n      key: fs.readFileSync(path.join(sslKeyPath))\n    };\n    httpServer = https.createServer(options, koaApp.callback());\n  } else {\n    httpServer = http.createServer(koaApp.callback());\n  }\n\n  httpServer.on(\"error\", (err) => {\n    logger.error($t(\"TXT_CODE_app.httpSetupError\"));\n    logger.error(err);\n    process.exit(1);\n  });\n\n  httpServer.listen(port, host);\n  logger.info(\"==================================\");\n  logger.info($t(\"TXT_CODE_app.panelStarted\"));\n  logger.info($t(\"TXT_CODE_app.reference\"));\n  let appHost = $t(\"TXT_CODE_app.host\", { port });\n  if (ssl) appHost = appHost.replace(\"http\", \"https\");\n  logger.info(appHost);\n  logger.info($t(\"TXT_CODE_app.portTip\", { port }));\n  logger.info($t(\"TXT_CODE_app.exitTip\", { port }));\n  logger.info(\"==================================\");\n\n  if (os.platform() == \"win32\" && hasParams(\"--open\")) {\n    open(ssl ? `https://localhost:${port}/` : `http://localhost:${port}/`);\n  }\n}\n\nasync function processExit() {\n  try {\n    logger.warn($t(\"TXT_CODE_cea5dba1\"));\n    logger.warn($t(\"TXT_CODE_b0aa2db9\"));\n  } catch (err) {\n    logger.error(err);\n  } finally {\n    process.exit(0);\n  }\n}\n\n[\"SIGTERM\", \"SIGINT\", \"SIGQUIT\"].forEach(function (sig) {\n  process.on(sig, () => {\n    logger.warn(`${sig} close process signal detected.`);\n    processExit();\n  });\n});\n\nprocess.stdin.on(\"data\", (v) => {\n  const command = v.toString().replace(\"\\n\", \"\").replace(\"\\r\", \"\").trim().toLowerCase();\n  if (command === \"exit\") processExit();\n});\n\nasync function main() {\n  // load global configuration file\n  initSystemConfig();\n\n  if (systemConfig && systemConfig?.redisUrl?.length != 0) {\n    await RedisStorage.initialize(systemConfig.redisUrl);\n    Storage.setStorageType(Storage.TYPE.REDIS);\n  }\n\n  initVersionManager();\n  const VERSION = getVersion();\n\n  console.log(`______  _______________________  ___                                         \n___   |/  /_  ____/_  ___/__   |/  /_____ _____________ _______ _____________\n__  /|_/ /_  /    _____ \\\\__  /|_/ /_  __ \\`/_  __ \\\\  __ \\`/_  __ \\`/  _ \\\\_  ___/\n_  /  / / / /___  ____/ /_  /  / / / /_/ /_  / / / /_/ /_  /_/ //  __/  /    \n/_/  /_/  \\\\____/  /____/ /_/  /_/  \\\\__,_/ /_/ /_/\\\\__,_/ _\\\\__, / \\\\___//_/     \n                                                        /____/     \n\n + Copyright ${new Date().getFullYear()} MCSManager Dev <https://github.com/MCSManager>\n + Version ${VERSION}\n`);\n\n  // Detect whether the configuration file is from an older version and update it if so.\n  versionAdapter.detectConfig();\n\n  checkBusinessMode();\n\n  // Initialize services\n  await SystemUser.initialize();\n  await SystemRemoteService.initialize();\n\n  const app = new Koa({\n    proxy: systemConfig?.reverseProxyMode || false,\n    proxyIpHeader: \"X-Real-IP\"\n  });\n\n  // Listen for Koa errors\n  app.on(\"error\", (error) => {\n    // Block all Koa framework level events\n    // When Koa is attacked by a short connection flood, it is easy for error messages to swipe the screen, which may indirectly affect the operation of some applications\n  });\n\n  app.use(preCheckMiddleware);\n  app.use(\n    koaBody({\n      multipart: true,\n      parsedMethods: [\n        HttpMethodEnum.GET,\n        HttpMethodEnum.PUT,\n        HttpMethodEnum.POST,\n        HttpMethodEnum.DELETE\n      ],\n      formidable: {\n        maxFileSize: 1024 * 1024 * 500,\n        maxFiles: 1\n      },\n      jsonLimit: \"10mb\",\n      onError(err, ctx) {\n        logger.error(\"koaBody Lib Error:\", err);\n      }\n    })\n  );\n\n  app.keys = [v4()];\n  app.use(\n    session(\n      {\n        key: v4(),\n        maxAge: 86400000,\n        overwrite: true,\n        httpOnly: true,\n        signed: true,\n        rolling: false,\n        renew: false,\n        secure: false\n      },\n      app\n    )\n  );\n\n  app.use(async (ctx, next) => {\n    const ignoreUrls = [\"/api/overview\", \"/api/files/status\"];\n    for (const iterator of ignoreUrls) {\n      if (ctx.URL.pathname.includes(iterator)) return await next();\n    }\n    await next();\n  });\n\n  if (systemConfig && systemConfig.prefix != \"\") {\n    const prefix = systemConfig.prefix;\n    app.use(async (ctx, next) => {\n      if (ctx.url.startsWith(prefix)) {\n        const orig = ctx.url;\n        ctx.url = ctx.url.slice(prefix.length);\n        if (!ctx.url.startsWith(\"/\")) {\n          ctx.url = \"/\" + ctx.url;\n        }\n        await next();\n        ctx.url = orig;\n      } else {\n        ctx.redirect(removeTrail(prefix, \"/\") + ctx.url);\n      }\n    });\n  }\n  app.use(protocolMiddleware);\n  app.use(\n    koaStatic(path.join(process.cwd(), \"public\"), {\n      maxAge: 10 * 24 * 60 * 60\n    })\n  );\n\n  mountRouters(app);\n\n  process.on(\"uncaughtException\", function (err) {\n    logger.error(`ERROR (uncaughtException):`, err);\n  });\n\n  process.on(\"unhandledRejection\", (reason, p) => {\n    logger.error(`ERROR (unhandledRejection):`, reason, p);\n  });\n\n  if (systemConfig)\n    setupHttp(\n      app,\n      systemConfig.ssl,\n      systemConfig.sslPemPath,\n      systemConfig.sslKeyPath,\n      systemConfig.httpPort,\n      systemConfig.httpIp\n    );\n}\n\nmain().catch((err) => {\n  logger.error(\"main() error:\", err);\n  process.exit(0);\n});\n","import { IStorage } from \"./storage_interface\";\nimport { StorageSubsystem } from \"mcsmanager-common\";\n\nconst storage = new StorageSubsystem();\n\nclass FileStorageSubsystemAdapter implements IStorage {\n  public async store(category: string, uuid: string, object: any) {\n    return storage.store(category, uuid, object);\n  }\n\n  public async load(category: string, classz: any, uuid: string) {\n    return storage.load(category, classz, uuid);\n  }\n\n  public async list(category: string) {\n    return storage.list(category);\n  }\n\n  public async delete(category: string, uuid: string) {\n    return storage.delete(category, uuid);\n  }\n}\n\nexport default new FileStorageSubsystemAdapter();\n","import path from \"path\";\nimport fs from \"fs-extra\";\n\nexport class JsonlStorageSubsystem {\n  #rootDir: string;\n  #maxLines: number;\n\n  constructor(dir: string, maxLines: number = 200) {\n    this.#rootDir = path.normalize(process.cwd() + \"/data/\" + dir);\n    this.#maxLines = maxLines;\n  }\n\n  private resolveFilePath(logicalPath: string): string {\n    if (!this.checkPath(logicalPath)) {\n      throw new Error(`Invalid path: ${logicalPath}`);\n    }\n\n    const fullPath = path.join(this.#rootDir, logicalPath + \".jsonl\");\n    const normalizePath = path.normalize(fullPath);\n    if (!fs.existsSync(path.dirname(normalizePath))) {\n      fs.mkdirsSync(path.dirname(normalizePath));\n    }\n    return normalizePath;\n  }\n\n  private checkPath(name: string) {\n    const blackList = [\"..\", \"\\\\\", \"//\"];\n    return !blackList.some((ch) => name.includes(ch));\n  }\n\n  public async append(logicalPath: string, entry: object | object[], sync = false) {\n    if (!Array.isArray(entry)) entry = [entry];\n    const filePath = this.resolveFilePath(logicalPath);\n    const lines = (entry as object[]).map((e) => JSON.stringify(e)).join(\"\\n\") + \"\\n\";\n\n    if (sync) {\n      fs.ensureFileSync(filePath);\n      fs.appendFileSync(filePath, lines, \"utf-8\");\n    } else {\n      await fs.ensureFile(filePath);\n      await fs.appendFile(filePath, lines, \"utf-8\");\n    }\n\n    await this.trimToMaxLines(logicalPath);\n  }\n\n  public async readAll(logicalPath: string): Promise<object[]> {\n    const filePath = this.resolveFilePath(logicalPath);\n    if (!(await fs.pathExists(filePath))) return [];\n    const lines = await fs.readFile(filePath, \"utf-8\");\n    return lines\n      .split(\"\\n\")\n      .filter((l) => l.trim())\n      .map((l) => {\n        try {\n          return JSON.parse(l);\n        } catch {\n          return null;\n        }\n      })\n      .filter(Boolean);\n  }\n\n  public async query(logicalPath: string, predicate: (entry: any) => boolean) {\n    const all = await this.readAll(logicalPath);\n    return all.filter(predicate);\n  }\n\n  public async overwrite(logicalPath: string, entries: object[]) {\n    const filePath = this.resolveFilePath(logicalPath);\n    await fs.ensureFile(filePath);\n    const content = entries.map((e) => JSON.stringify(e)).join(\"\\n\") + \"\\n\";\n    await fs.writeFile(filePath, content, \"utf-8\");\n  }\n\n  public async update(\n    logicalPath: string,\n    predicate: (entry: any) => boolean,\n    updater: (entry: any) => any\n  ) {\n    const entries = await this.readAll(logicalPath);\n    const newEntries = entries.map((e) => (predicate(e) ? updater(e) : e));\n    await this.overwrite(logicalPath, newEntries);\n  }\n\n  public async delete(logicalPath: string, predicate: (entry: any) => boolean) {\n    const entries = await this.readAll(logicalPath);\n    const filtered = entries.filter((e) => !predicate(e));\n    await this.overwrite(logicalPath, filtered);\n  }\n\n  public async clear(logicalPath: string) {\n    const filePath = this.resolveFilePath(logicalPath);\n    if (await fs.pathExists(filePath)) {\n      await fs.remove(filePath);\n    }\n  }\n\n  public async tail<T>(logicalPath: string, count: number): Promise<T[]> {\n    const entries = await this.query(logicalPath, () => true);\n    return entries.slice(-count) as T[];\n  }\n\n  private async trimToMaxLines(logicalPath: string) {\n    const entries = await this.readAll(logicalPath);\n    if (entries.length > this.#maxLines) {\n      const trimmedEntries = entries.slice(-this.#maxLines);\n      await this.overwrite(logicalPath, trimmedEntries);\n    }\n  }\n}\n","import { createClient } from \"redis\";\nimport { IStorage } from \"./storage_interface\";\nimport Storage from \"./sys_storage\";\nimport { logger } from \"../../service/log\";\n\nclass RedisStorageSubsystem implements IStorage {\n  private client = createClient();\n\n  private async connect() {\n    try {\n      await this.client.connect();\n    } catch (e) {\n      logger.error(\"Error occurred while trying to dial redis\\n\" + e);\n      logger.warn(\"Due to an unrecoverable error, daemon will temporarily store data in files.\");\n      Storage.setStorageType(0);\n    }\n  }\n\n  /*\n  Redis commands\n   */\n  private async keys(param: string) {\n    return await this.client.keys(param);\n  }\n\n  private async set(key: string, value: string) {\n    await this.client.set(key, value);\n  }\n\n  private async get(key: string) {\n    return await this.client.get(key);\n  }\n\n  private async del(key: string) {\n    await this.client.del(key);\n  }\n\n  public async initialize(url: string) {\n    this.client = createClient({ url: url });\n    logger.info(\"Attempting to connect to redis...\");\n    await this.connect();\n    logger.info(\"Connected to redis!\");\n  }\n\n  // Keep behavior same\n  private checkFileName(name: string) {\n    const blackList = [\"\\\\\", \"/\", \"..\"];\n    for (const ch of blackList) {\n      if (name.includes(ch)) return false;\n    }\n    return true;\n  }\n\n  /**\n   * Stored in local file based on class definition and identifier\n   */\n  public async store(category: string, uuid: string, object: any) {\n    if (!this.checkFileName(uuid))\n      throw new Error(`UUID ${uuid} does not conform to specification`);\n    await this.set(category + \":\" + uuid, JSON.stringify(object));\n  }\n\n  /**\n   * Instantiate an object based on the class definition and identifier\n   */\n  public async load(category: string, classz: any, uuid: string) {\n    if (!this.checkFileName(uuid))\n      throw new Error(`UUID ${uuid} does not conform to specification`);\n    let result = await this.get(category + \":\" + uuid);\n    if (result == null) {\n      return null;\n    }\n    const dataObject = JSON.parse(result);\n    const target = new classz();\n    return this.defineAttr(target, dataObject);\n  }\n\n  /**\n   * Return all identifiers related to this class through the class definition\n   */\n  public async list(category: string) {\n    let result: string[] = [];\n    let m = Array<string>();\n    result = await this.keys(category + \"*\");\n    if (result != null && result.length != 0) {\n      for (let i of result) m.push(i.replace(category + \":\", \"\"));\n    }\n    return m;\n  }\n\n  /**\n   * Delete an identifier instance of the specified type through the class definition\n   */\n  public async delete(category: string, uuid: string) {\n    if (!this.checkFileName(uuid))\n      throw new Error(`UUID ${uuid} does not conform to specification`);\n    await this.del(category + \":\" + uuid);\n  }\n\n  // deep copy of the primitive type with the copy target as the prototype\n  // target copy target object copy source\n  protected defineAttr(target: any, object: any): any {\n    for (const v of Object.keys(target)) {\n      const objectValue = object[v];\n      if (objectValue === undefined) continue;\n      if (objectValue instanceof Array) {\n        target[v] = objectValue;\n        continue;\n      }\n      if (objectValue instanceof Object && typeof objectValue === \"object\") {\n        this.defineAttr(target[v], objectValue);\n        continue;\n      }\n      target[v] = objectValue;\n    }\n    return target;\n  }\n}\n\nexport default new RedisStorageSubsystem();\n","import { IStorage } from \"./storage_interface\";\nimport file_storage from \"./file_storage\";\nimport redis_storage from \"./redis_storage\";\n\nclass SystemStorage {\n  private storageSystem: IStorage = file_storage;\n\n  public readonly TYPE = {\n    FILE: 0,\n    REDIS: 1\n  };\n\n  public setStorageType(type: number) {\n    switch (type) {\n      case this.TYPE.FILE: {\n        // Using fs-based storage\n        this.storageSystem = file_storage;\n        break;\n      }\n      case this.TYPE.REDIS: {\n        // Using redis-based storage\n        this.storageSystem = redis_storage;\n        break;\n      }\n      default: {\n        this.storageSystem = file_storage;\n        break;\n      }\n    }\n  }\n\n  public getStorage() {\n    return this.storageSystem;\n  }\n}\n\nexport default new SystemStorage();\n","import { StorageSubsystem } from \"mcsmanager-common\";\nexport default new StorageSubsystem();\n","import path from \"path\";\n\nexport const FILENAME_BLACKLIST = [\"\\\\\", \"/\", \".\", \"'\", '\"', \"?\", \"*\", \"<\", \">\"];\n\nexport const MARKET_CACHE_FILE_PATH = path.normalize(\n  path.join(process.cwd(), \"data\", \"market_cache.json\")\n);\n\nexport const SAVE_DIR_PATH = \"public/upload_files/\";\n","import { removeTrail } from \"mcsmanager-common\";\nimport { ManagerOptions, SocketOptions } from \"socket.io-client\";\n\nexport interface IPacket {\n  uuid: string;\n  status: number;\n  event: string;\n  data: any;\n}\n\nexport interface IRequestPacket {\n  uuid: string;\n  data: any;\n}\n\nexport interface IUser {\n  uuid?: string;\n  userName?: string;\n  passWord?: string;\n  salt?: string;\n  permission?: number;\n  registerTime?: string;\n  loginTime?: string;\n  instances?: Array<any>;\n  isInit?: boolean;\n  passWordType?: number;\n  secret?: string;\n  open2FA?: boolean;\n}\n\nexport interface ICompleteUser {\n  uuid: string;\n  userName: string;\n  permission: number;\n  instances: Array<any>;\n  registerTime: string;\n  loginTime: string;\n}\n\ntype RemoteMappingEntry = {\n  from: {\n    ip: string;\n    port: number;\n    prefix: string;\n  };\n  to: {\n    ip: string;\n    port: number;\n    prefix: string;\n  };\n};\n\nexport interface IRemoteService {\n  uuid?: string;\n  ip?: string;\n  port?: number;\n  prefix?: string;\n  remarks?: string;\n  apiKey?: string;\n  remoteMappings?: RemoteMappingEntry[];\n}\n\n// @Entity\nexport class RemoteServiceConfig {\n  public ip = \"\";\n  public port = 24444;\n  public prefix = \"\";\n  public remarks = \"\";\n  public apiKey = \"\";\n  public remoteMappings: RemoteMappingEntry[] = [];\n\n  connectOpts: Partial<SocketOptions & ManagerOptions> = {\n    multiplex: false,\n    reconnectionDelayMax: 1000 * 5,\n    timeout: 1000 * 10,\n    reconnection: true,\n    reconnectionAttempts: 10,\n    rejectUnauthorized: false\n  };\n\n  /**\n   * To keep the remote mapping inside response consistent with other parts,\n   * a simple conversion needs to be made.\n   *\n   * This is intentionally a method instead of a getter member, as the\n   * conversion involves list operation.\n   *\n   * @returns converted remote mappings\n   */\n  public getConvertedRemoteMappings() {\n    return this.remoteMappings.map((remote) => ({\n      from: {\n        addr: `${remote.from.ip}:${remote.from.port}`,\n        prefix: remote.from.prefix\n      },\n      to: {\n        addr: `${remote.to.ip}:${remote.to.port}`,\n        prefix: remote.to.prefix\n      }\n    }));\n  }\n\n  /**\n   * IP concatenated with port.\n   */\n  public get addr() {\n    return `${this.ip}:${this.port}`;\n  }\n\n  /**\n   * The prefix trimmed and removed trailing slash.\n   */\n  public get canonicalPrefix() {\n    return removeTrail(this.prefix.trim(), \"/\");\n  }\n\n  /**\n   * Full address containing IP, port and prefix.\n   */\n  public get fullAddr() {\n    return this.addr + this.canonicalPrefix;\n  }\n}\n","import { io, Socket, SocketOptions, ManagerOptions } from \"socket.io-client\";\nimport { RemoteServiceConfig } from \"./entity_interface\";\nimport { logger } from \"../service/log\";\nimport RemoteRequest from \"../service/remote_command\";\nimport { InstanceStreamListener, removeTrail } from \"mcsmanager-common\";\nimport { systemConfig } from \"../setting\";\nimport { $t, i18next } from \"../i18n\";\n\nexport default class RemoteService {\n  public static readonly STATUS_OK = 200;\n  public static readonly STATUS_ERR = 500;\n\n  public uuid: string = \"\";\n  public available: boolean = false;\n  public socket?: Socket;\n  public readonly instanceStream = new InstanceStreamListener();\n  public config: RemoteServiceConfig;\n  public realUrl: string = \"\";\n\n  constructor(uuid: string, config: RemoteServiceConfig) {\n    this.uuid = uuid;\n    this.config = config;\n  }\n\n  private getDaemonInfo() {\n    return `Name: ${this.config.remarks} | ID: ${this.uuid} | URL: ${this.realUrl}`;\n  }\n\n  public connect(connectOpts?: Partial<SocketOptions & ManagerOptions>) {\n    if (connectOpts) this.config.connectOpts = connectOpts;\n    // Start the formal connection to the remote Socket program\n    let addr = `ws://${this.config.ip}:${this.config.port}`;\n    if (this.config.ip.indexOf(\"wss://\") === 0 || this.config.ip.indexOf(\"ws://\") === 0) {\n      addr = `${this.config.ip}:${this.config.port}`;\n    }\n    if (systemConfig?.ssl) {\n      addr = addr.replace(\"ws://\", \"wss://\");\n    }\n    this.realUrl = addr;\n\n    const daemonInfo = this.getDaemonInfo();\n\n    if (this.available) {\n      logger.info(`${$t(\"TXT_CODE_daemonInfo.resetConnect\")}:${daemonInfo}`);\n      this.disconnect();\n    }\n\n    // prevent duplicate registration of events\n    if (this.socket && this.socket.hasListeners(\"connect\")) {\n      logger.info(`${$t(\"TXT_CODE_daemonInfo.replaceConnect\")}:${daemonInfo}`);\n      return this.refreshReconnect();\n    }\n\n    logger.info(`${$t(\"TXT_CODE_daemonInfo.tryConnect\")}:${daemonInfo}`);\n    this.socket = io(this.realUrl, {\n      ...this.config.connectOpts,\n      path: removeTrail(this.config.prefix, \"/\") + \"/socket.io\"\n    });\n\n    // register built-in events\n    this.socket.on(\"connect\", async () => {\n      logger.info($t(\"TXT_CODE_daemonInfo.connect\", { v: daemonInfo }));\n      await this.onConnect();\n    });\n    this.socket.on(\"disconnect\", async () => {\n      logger.info($t(\"TXT_CODE_daemonInfo.disconnect\", { v: daemonInfo }));\n      await this.onDisconnect();\n    });\n    this.socket.on(\"connect_error\", async (error: Error) => {\n      await this.onDisconnect();\n    });\n  }\n\n  public async setLanguage(language?: string) {\n    if (!language) language = i18next.language;\n    logger.info(\n      `${$t(\"TXT_CODE_daemonInfo.setLanguage\")} (${this.config.ip}:${this.config.port}/${\n        this.config.remarks\n      }) language: ${language}`\n    );\n    return await new RemoteRequest(this).request(\"info/setting\", {\n      language\n    });\n  }\n\n  // This function is used to verify the identity. It only needs to be verified once.\n  // This function will be executed automatically after the connection event is triggered.\n  // Generally, there is no need to execute it manually.\n  public async auth(key?: string) {\n    if (key) this.config.apiKey = key;\n    const daemonInfo = this.getDaemonInfo();\n    try {\n      const res = await new RemoteRequest(this).request(\"auth\", this.config.apiKey, 5000, true);\n      if (res === true) {\n        this.available = true;\n        await this.setLanguage();\n        logger.info($t(\"TXT_CODE_daemonInfo.authSuccess\", { v: daemonInfo }));\n        return true;\n      }\n      this.available = false;\n      logger.warn($t(\"TXT_CODE_daemonInfo.authFailure\", { v: daemonInfo }));\n      return false;\n    } catch (error: any) {\n      logger.warn($t(\"TXT_CODE_daemonInfo.authError\", { v: daemonInfo }));\n      logger.warn(error);\n      return false;\n    }\n  }\n\n  public emit(event: string, data?: any) {\n    return this.socket?.emit(event, data);\n  }\n\n  private async onDisconnect() {\n    this.available = false;\n  }\n\n  private async onConnect() {\n    // this.available = true; Note: Connected is not auth;\n    return await this.auth(this.config.apiKey);\n  }\n\n  disconnect() {\n    if (this.socket) {\n      const daemonInfo = this.getDaemonInfo();\n      logger.info($t(\"TXT_CODE_daemonInfo.closed\", { v: daemonInfo }));\n      this.socket.removeAllListeners();\n      this.socket.disconnect();\n      this.socket.close();\n      delete this.socket;\n    }\n    this.socket = undefined;\n    this.available = false;\n  }\n\n  refreshReconnect() {\n    this.disconnect();\n    this.connect();\n  }\n}\n","// @Entity\nexport default class SystemConfig {\n  // HTTP service port, IP and path prefix\n  httpPort: number = 23333;\n  httpIp: string = \"\";\n  prefix: string = \"\";\n\n  // reverse proxy mode\n  reverseProxyMode: boolean = false;\n\n  // data transfer port\n  dataPort: number = 23334;\n\n  // Distributed forwarding mode\n  forwardType: number = 1;\n\n  // Whether to allow cross-domain requests\n  crossDomain: boolean = false;\n\n  // Whether to use Gzip compression for HTTP return information\n  gzip: boolean = false;\n\n  // Maximum simultaneous compression tasks\n  maxCompress: number = 1;\n\n  // Maximum simultaneous download tasks\n  maxDownload: number = 10;\n\n  // Decompression implementation form\n  zipType: number = 1;\n\n  // TOTP drift tolerance, in steps (30 seconds)\n  totpDriftToleranceSteps: number = 0;\n\n  // Login times IP limit\n  loginCheckIp: boolean = true;\n\n  // login Copyright Information\n  loginInfo: string = \"\";\n\n  // Whether to open the file management function for ordinary users\n  canFileManager = true;\n\n  // Whether to allow template-based instance reset, which may pose a security risk.\n  // If you use Docker and need commercial functionality, you can try turning this feature on and testing it.\n  allowUsePreset = false;\n\n  // Panel display language\n  language = \"en_us\";\n\n  // Quick installation address\n  presetPackAddr = \"https://script.mcsmanager.com/market.json\";\n\n  // Redis address (Experimental Features)\n  redisUrl = \"\";\n\n  // Whether to allow users to edit the start & update command of Docker instances\n  allowChangeCmd = false;\n\n  // -----\n  // After it is enabled, you can connect to the redeem.mcsmanager.com platform\n  // to sell instances based on redeem\n  // (this feature may not be available in some countries)\n  businessMode = false;\n  businessId = \"\";\n  panelId = \"\";\n  registerCode = \"\";\n  // -----\n\n  // Whether to enable SSL/TLS (HTTPS)\n  ssl = false;\n  // SSL certificate file path (.pem)\n  sslPemPath = \"\";\n  // SSL private key file path (.key)\n  sslKeyPath = \"\";\n}\n","import { IUser } from \"./entity_interface\";\n\nexport enum UserPassWordType {\n  md5 = 0,\n  bcrypt = 1\n}\n\nexport interface IUserApp {\n  instanceUuid: string;\n  daemonId: string;\n  instanceInfo?: any;\n}\n\nexport class User implements IUser {\n  uuid: string = \"\";\n  userName: string = \"\";\n  passWord: string = \"\";\n  passWordType: number = UserPassWordType.bcrypt;\n  salt: string = \"\";\n  permission: number = 0;\n  registerTime: string = \"\";\n  loginTime: string = \"\";\n  instances: Array<IUserApp> = [];\n  apiKey: string = \"\";\n  isInit: boolean = false;\n  secret = \"\";\n  open2FA = false;\n}\n\nexport enum ROLE {\n  ADMIN = 10,\n  USER = 1,\n  GUEST = 0,\n  BAN = -1\n}\n","// I18n init configuration (Web Panel)\n// If you want to add the language of your own country, you need to add the code here.\n\nimport i18next from \"i18next\";\n\nimport zh_cn from \"@languages/zh_CN.json\";\nimport en_us from \"@languages/en_US.json\";\nimport zh_tw from \"@languages/zh_TW.json\";\nimport ja_JP from \"@languages/ja_JP.json\";\nimport es_ES from \"@languages/es_ES.json\";\nimport fr_FR from \"@languages/fr_FR.json\";\nimport ru_RU from \"@languages/ru_RU.json\";\nimport ko_KR from \"@languages/ko_KR.json\";\nimport de_DE from \"@languages/de_DE.json\";\nimport pt_BR from \"@languages/pt_BR.json\";\nimport th_TH from \"@languages/th_TH.json\";\n\ni18next.init({\n  interpolation: {\n    escapeValue: false\n  },\n  lng: \"en_us\",\n  fallbackLng: \"en_us\",\n  resources: {\n    en_us: {\n      translation: en_us\n    },\n    zh_cn: {\n      translation: zh_cn\n    },\n    zh_tw: {\n      translation: zh_tw\n    },\n    ja_jp: {\n      translation: ja_JP\n    },\n    es_es: {\n      translation: es_ES\n    },\n    fr_fr: {\n      translation: fr_FR\n    },\n    ru_ru: {\n      translation: ru_RU\n    },\n    ko_kr: {\n      translation: ko_KR\n    },\n    de_de: {\n      translation: de_DE\n    },\n    pt_br: {\n      translation: pt_BR\n    },\n    th_TH: {\n      translation: th_TH\n    }\n  }\n});\n\n// alias\nconst $t = i18next.t;\n\nexport { $t, i18next };\n","import Router from \"@koa/router\";\nimport Koa from \"koa\";\n\nimport \"./service/remote_service\";\nimport \"./service/user_service\";\nimport \"./service/user_statistics\";\nimport \"./service/visual_data\";\n\nimport serviceRouter from \"./routers/daemon_router\";\nimport environmentRouter from \"./routers/environment_router\";\nimport filemanager_router from \"./routers/filemananger_router\";\nimport lowUserRouter from \"./routers/general_user_router\";\nimport instanceRouter from \"./routers/instance_admin_router\";\nimport exchangeRouter from \"./routers/instance_exchange_router\";\nimport userInstanceRouter from \"./routers/instance_operate_router\";\nimport javaManagerRouter from \"./routers/java_manager_router\";\nimport loginRouter from \"./routers/login_router\";\nimport businessUserRouter from \"./routers/manage_user_router\";\nimport modManagerRouter from \"./routers/mod_manager_router\";\nimport overviewRouter from \"./routers/overview_router\";\nimport scheduleRouter from \"./routers/schedule_router\";\nimport settingsRouter from \"./routers/settings_router\";\nimport userRouter from \"./routers/user_overview_router\";\n\nexport function mountRouters(app: Koa<Koa.DefaultState, Koa.DefaultContext>) {\n  const apiRouter = new Router({ prefix: \"/api\" });\n  apiRouter.use(overviewRouter.routes()).use(overviewRouter.allowedMethods());\n  apiRouter.use(userInstanceRouter.routes()).use(userInstanceRouter.allowedMethods());\n  apiRouter.use(instanceRouter.routes()).use(instanceRouter.allowedMethods());\n  apiRouter.use(serviceRouter.routes()).use(serviceRouter.allowedMethods());\n  apiRouter.use(filemanager_router.routes()).use(filemanager_router.allowedMethods());\n  apiRouter.use(businessUserRouter.routes()).use(businessUserRouter.allowedMethods());\n  apiRouter.use(loginRouter.routes()).use(loginRouter.allowedMethods());\n  apiRouter.use(lowUserRouter.routes()).use(lowUserRouter.allowedMethods());\n  apiRouter.use(userRouter.routes()).use(userRouter.allowedMethods());\n  apiRouter.use(scheduleRouter.routes()).use(scheduleRouter.allowedMethods());\n  apiRouter.use(settingsRouter.routes()).use(settingsRouter.allowedMethods());\n  apiRouter.use(environmentRouter.routes()).use(environmentRouter.allowedMethods());\n  apiRouter.use(exchangeRouter.routes()).use(exchangeRouter.allowedMethods());\n  apiRouter.use(javaManagerRouter.routes()).use(javaManagerRouter.allowedMethods());\n  apiRouter.use(modManagerRouter.routes()).use(modManagerRouter.allowedMethods());\n\n  app.use(apiRouter.routes()).use(apiRouter.allowedMethods());\n}\n","import { Context } from \"koa\";\nimport { ROLE } from \"../entity/user\";\nimport { $t } from \"../i18n\";\nimport { singletonMemoryRedis } from \"../service/mini_redis\";\nimport { getUserFromCtx, getUserUuid } from \"../service/passport_service\";\nimport { execWithMutexId } from \"../utils/sync\";\n\nconst SPEED_LIMIT_KEY = \"SpeedLimit\";\n\nexport function speedLimit(seconds: number, errMsg?: string) {\n  return async (ctx: Context, next: Function) => {\n    const requestPath = ctx.URL.pathname;\n    const user = getUserFromCtx(ctx);\n\n    if (!user) throw new Error($t(\"TXT_CODE_permission.forbidden\"));\n\n    if (user.permission === ROLE.ADMIN) {\n      return await next();\n    }\n\n    const speedCheckKey = `${SPEED_LIMIT_KEY}:${user.uuid}:${requestPath}`;\n    const isExist = singletonMemoryRedis.get<boolean>(speedCheckKey);\n\n    if (isExist) {\n      ctx.status = 500;\n      ctx.body =\n        errMsg ||\n        $t(\"TXT_CODE_c093bec9\", {\n          seconds: singletonMemoryRedis.ttl(speedCheckKey)\n        });\n      return;\n    }\n\n    singletonMemoryRedis.set(speedCheckKey, true, seconds);\n    return await next();\n  };\n}\n\nexport function requestConcurrencyLimiter(url: string) {\n  return async (ctx: Context, next: Function) => {\n    const userId = getUserUuid(ctx) || \"_anonymous_\";\n    const key = `UserConcurrencyLimiter:${userId}:${url}`;\n    return await execWithMutexId(key, async () => {\n      return await next();\n    });\n  };\n}\n","import Koa from \"koa\";\nimport { GlobalVariable } from \"mcsmanager-common\";\nimport { $t } from \"../i18n\";\nimport { getUuidByApiKey, ILLEGAL_ACCESS_KEY, isAjax, logout } from \"../service/passport_service\";\nimport userSystem from \"../service/user_service\";\n\n/**\n * @description Request speed limit, 8 requests per second\n */\nfunction requestSpeedLimit(ctx: Koa.ParameterizedContext) {\n  const SESSION_REQ_TIMES = \"SESSION_REQ_TIMES\";\n  const MAX_REQUESTS_PER_SECOND = 8;\n  const WINDOW_SIZE = 1000;\n  const currentTime = new Date().getTime();\n  if (!ctx.session) return false;\n  let requestTimes: number[] = ctx.session[SESSION_REQ_TIMES] || [];\n  requestTimes = requestTimes.filter((time) => currentTime - time < WINDOW_SIZE);\n  if (requestTimes.length >= MAX_REQUESTS_PER_SECOND) {\n    return false;\n  }\n  requestTimes.push(currentTime);\n  ctx.session[SESSION_REQ_TIMES] = requestTimes;\n  return true;\n}\n\n// Failed callback\nexport function verificationFailed(ctx: Koa.ParameterizedContext) {\n  ctx.status = 403;\n  ctx.body = `${$t(\"TXT_CODE_permission.forbidden\")}`;\n}\n\nfunction tokenError(ctx: Koa.ParameterizedContext) {\n  ctx.status = 403;\n  ctx.body = `${$t(\"TXT_CODE_permission.forbiddenTokenError\")}`;\n}\n\nfunction ajaxError(ctx: Koa.ParameterizedContext) {\n  ctx.status = 403;\n  ctx.body = `${$t(\"TXT_CODE_permission.xmlhttprequestError\")}`;\n}\n\nfunction apiError(ctx: Koa.ParameterizedContext) {\n  ctx.status = 403;\n  ctx.body = `${$t(\"TXT_CODE_permission.apiError\")}`;\n}\n\nfunction tooFast(ctx: Koa.ParameterizedContext) {\n  ctx.status = 500;\n  ctx.body = `${$t(\"TXT_CODE_permission.tooFast\")}`;\n}\n\ninterface IPermissionCfg {\n  token?: boolean;\n  level?: number | null;\n  speedLimit?: boolean;\n}\n\n// Basic user permission middleware\nexport default (parameter: IPermissionCfg) => {\n  return async (ctx: Koa.ParameterizedContext, next: Function) => {\n    if (\n      (parameter.speedLimit == null || parameter.speedLimit === true) &&\n      Number(parameter.level) < 10\n    ) {\n      // Request speed check\n      if (!requestSpeedLimit(ctx)) {\n        return tooFast(ctx);\n      }\n    }\n\n    // If it is an API request, perform API-level permission judgment\n    const key = ctx.request?.header[\"x-request-api-key\"] || ctx.query.apikey;\n    if (key) {\n      const apiKey = String(key);\n      const user = getUuidByApiKey(apiKey);\n      if (user && user.permission >= Number(parameter.level)) {\n        return await next();\n      } else {\n        return apiError(ctx);\n      }\n    }\n\n    // If the route requires Token verification, it will be verified, the default is automatic verification\n    if (parameter.token !== false) {\n      if (!isAjax(ctx)) return ajaxError(ctx);\n      const requestToken = ctx.query.token;\n      const realToken = ctx.session?.[\"token\"];\n      if (requestToken !== realToken) {\n        return tokenError(ctx);\n      }\n    }\n\n    // If the permission attribute is a number, the permission determination is automatically executed\n    if (!isNaN(parseInt(String(parameter.level)))) {\n      // The most basic authentication decision\n      if (ctx.session?.[\"login\"] === true && ctx.session[\"uuid\"] && ctx.session[\"userName\"]) {\n        const user = userSystem.getInstance(ctx.session[\"uuid\"]);\n\n        // ban check\n        if (user && user.permission < 0) {\n          return logout(ctx);\n        }\n\n        // Judgment of permissions for ordinary users and administrative users\n        if (user && user.permission >= Number(parameter.level)) {\n          return await next();\n        }\n      }\n      // END: to verificationFailed()\n    } else {\n      return await next();\n    }\n\n    // record the number of unauthorized access\n    GlobalVariable.set(ILLEGAL_ACCESS_KEY, GlobalVariable.get(ILLEGAL_ACCESS_KEY, 0) + 1);\n    return verificationFailed(ctx);\n  };\n};\n","import { Context } from \"koa\";\nimport { ROLE } from \"../entity/user\";\nimport { getUserFromCtx } from \"../service/passport_service\";\n\nexport function isUploadRequest(ctx: Context) {\n  const headers = ctx.request?.headers;\n  const contentType = headers?.[\"content-type\"] ?? \"\";\n  return contentType.toLowerCase().includes(\"multipart\");\n}\n\n/**\n * Prevent users from performing unrestricted file uploads using koa-body,\n * occupying machine disk space.\n */\nexport async function preCheckMiddleware(ctx: Context, next: () => Promise<void>) {\n  if (isUploadRequest(ctx)) {\n    const user = getUserFromCtx(ctx);\n    const isAdmin = user?.permission === ROLE.ADMIN;\n    if (!isAdmin) throw new Error(\"Access denied: Invalid multipart/form-data request!\");\n  }\n  return await next();\n}\n","import Koa from \"koa\";\nimport { Stream } from \"stream\";\nimport VisualDataSubsystem from \"../service/visual_data\";\nimport { systemConfig } from \"../setting\";\nimport { getVersion } from \"../version\";\n\n// Define standard response data format middleware\nexport async function middleware(\n  ctx: Koa.ParameterizedContext<Koa.DefaultState, Koa.DefaultContext, any>,\n  next: Function\n): Promise<void> {\n  // Increase the number of interface requests\n  if (ctx.url.startsWith(\"/api/\")) {\n    VisualDataSubsystem.addRequestCount();\n  }\n\n  // Compatible with version 9.X API parameters\n  if (ctx.query?.remote_uuid) ctx.query.daemonId = ctx.query.remote_uuid;\n  if (ctx.query?.daemon_id) ctx.query.daemonId = ctx.query.daemon_id;\n\n  // Pass the next middleware, any errors and return data will be processed according to the response protocol\n  try {\n    await next();\n  } catch (error: any) {\n    ctx.body = error;\n  }\n\n  if (systemConfig?.crossDomain) {\n    ctx.response.set(\"Access-Control-Allow-Origin\", \"*\");\n    ctx.response.set(\"Access-Control-Allow-Methods\", \"PUT, POST, GET, DELETE, OPTIONS\");\n    ctx.response.set(\n      \"Access-Control-Allow-Headers\",\n      \"Content-Type, Content-Length, Authorization, Accept, X-Requested-With\"\n    );\n  }\n  ctx.response.set(\"X-Powered-By\", \"MCSManager\");\n  ctx.response.set(\"X-Version\", getVersion());\n\n  // Serialize and display when sending Error class\n  if (ctx.body instanceof Error) {\n    const error = ctx.body as Error;\n    ctx.status = 500;\n    ctx.body = JSON.stringify({\n      status: ctx.status,\n      data: error.message,\n      time: new Date().getTime()\n    });\n    return;\n  }\n\n  // release all data streams\n  if (ctx.body instanceof Stream) {\n    return;\n  }\n\n  // 404 error code\n  if (ctx.status == 404) {\n    ctx.status = 404;\n    ctx.body = JSON.stringify({\n      status: ctx.status,\n      data: \"[404] Not Found\",\n      time: new Date().getTime()\n    });\n    return;\n  }\n\n  // When the response text is a string, use normal formatting\n  if (typeof ctx.body == \"string\") {\n    const status = ctx.status;\n    const data = ctx.body;\n    ctx.body = JSON.stringify({\n      status,\n      data,\n      time: new Date().getTime()\n    });\n    return;\n  }\n\n  // When the return result is empty, display processing failed\n  if (ctx.body === null || ctx.body === false || ctx.body === undefined) {\n    ctx.status = 500;\n    ctx.body = JSON.stringify({\n      status: 500,\n      data: ctx.body || null,\n      time: new Date().getTime()\n    });\n    return;\n  }\n\n  // normal data\n  if (ctx.status == 200) {\n    ctx.body = JSON.stringify({\n      status: ctx.status,\n      data: ctx.body,\n      time: new Date().getTime()\n    });\n    return;\n  }\n}\n","import Koa from \"koa\";\n\n// Type check\nfunction check(target: any, parameter: any) {\n  if (target) {\n    for (const key in parameter) {\n      const typeVal = parameter[key];\n\n      if (target[key] == null || target[key] === \"\")\n        throw new Error(`Validator failed: \"${key}\" is required!`);\n\n      if (typeVal === Number) {\n        target[key] = Number(target[key]);\n        if (isNaN(target[key])) throw new Error(`Validator failed: \"${key}\" is not a number`);\n        continue;\n      }\n\n      if (typeVal === String) {\n        target[key] = String(target[key]);\n        continue;\n      }\n\n      if (typeVal === Date) {\n        const r = new Date(target[key]).toString();\n        if (r == \"Invalid Date\" || r == null)\n          throw new Error(`Validator failed: \"${key}\" is not a date`);\n        target[key] = new Date(target[key]);\n        continue;\n      }\n\n      if (typeVal === Array) {\n        if (!(target[key] instanceof Array)) {\n          const object = JSON.parse(target[key]);\n          if (!(object instanceof Array))\n            throw new Error(`Validator failed: \"${key}\" is not an array`);\n          target[key] = object;\n        }\n        continue;\n      }\n\n      if (typeVal === Object) {\n        if (!target[key]) throw new Error(`Validator failed: \"${key}\" is not an object`);\n        continue;\n      }\n    }\n    return true;\n  }\n  throw new Error(\"target is null\");\n}\n\ninterface IParam {\n  params?: any;\n  query?: any;\n  body?: any;\n}\n\n// Entry function\nexport default function (parameter: IParam) {\n  return async (ctx: Koa.ParameterizedContext, next: Function) => {\n    try {\n      parameter[\"params\"] && check(ctx.params, parameter[\"params\"]);\n      parameter[\"query\"] && check(ctx.query, parameter[\"query\"]);\n      parameter[\"body\"] && check(ctx.request.body, parameter[\"body\"]);\n      return await next();\n    } catch (err: any) {\n      ctx.status = 400;\n      ctx.body = `${err.message || \"Request parameters are incorrect\"}`;\n    }\n  };\n}\n","import Router from \"@koa/router\";\nimport { ROLE } from \"../entity/user\";\nimport permission from \"../middleware/permission\";\nimport validator from \"../middleware/validator\";\nimport { operationLogger } from \"../service/operation_logger\";\nimport RemoteRequest from \"../service/remote_command\";\nimport RemoteServiceSubsystem from \"../service/remote_service\";\n\nconst router = new Router({ prefix: \"/service\" });\n\n// [Top-level Permission]\n// Get the list of remote services\n// Contains only service information, not a list of instance information\nrouter.get(\"/remote_services_list\", permission({ level: ROLE.ADMIN }), async (ctx) => {\n  const result = new Array();\n  for (const iterator of RemoteServiceSubsystem.services.entries()) {\n    const remoteService = iterator[1];\n    result.push({\n      uuid: remoteService.uuid,\n      ip: remoteService.config.ip,\n      port: remoteService.config.port,\n      prefix: remoteService.config.prefix,\n      available: remoteService.available,\n      remarks: remoteService.config.remarks\n    });\n  }\n  ctx.body = result;\n});\n\n// [Top-level Permission]\n// Query the daemon for the specified instance\nrouter.get(\n  \"/remote_service_instances\",\n  permission({ level: ROLE.ADMIN }),\n  validator({ query: { daemonId: String, page: Number, page_size: Number } }),\n  async (ctx) => {\n    const daemonId = String(ctx.query.daemonId);\n    const page = Number(ctx.query.page);\n    const pageSize = Number(ctx.query.page_size);\n    const instanceName = ctx.query.instance_name;\n    const status = ctx.query.status;\n    const tag = String(ctx.query.tag);\n    const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n    let tagList: string[] = [];\n    try {\n      tagList = JSON.parse(tag);\n    } catch (error) {\n      // ignore\n    }\n    const result = await new RemoteRequest(remoteService).request(\"instance/select\", {\n      page,\n      pageSize,\n      condition: {\n        instanceName,\n        status,\n        tag: tagList.length > 0 ? tagList : null\n      }\n    });\n    ctx.body = result;\n  }\n);\n\n// [Top-level Permission]\n// Get remote server system information\nrouter.get(\"/remote_services_system\", permission({ level: ROLE.ADMIN }), async (ctx) => {\n  const result = new Array();\n  for (const iterator of RemoteServiceSubsystem.services.entries()) {\n    const remoteService = iterator[1];\n    let instancesInfo = null;\n    try {\n      instancesInfo = await new RemoteRequest(remoteService).request(\"info/overview\");\n    } catch (err) {\n      continue;\n    }\n    result.push(instancesInfo);\n  }\n  ctx.body = result;\n});\n\n// [Top-level Permission]\n// Get remote server instance information (browse too large)\nrouter.get(\"/remote_services\", permission({ level: ROLE.ADMIN }), async (ctx) => {\n  const result = new Array();\n  for (const iterator of RemoteServiceSubsystem.services.entries()) {\n    const remoteService = iterator[1];\n    let instancesInfo = [];\n    try {\n      instancesInfo = await new RemoteRequest(remoteService).request(\"instance/overview\");\n    } catch (err) {\n      // ignore request errors\n    }\n    // send remote command if connection is available\n    result.push({\n      uuid: remoteService.uuid,\n      ip: remoteService.config.ip,\n      port: remoteService.config.port,\n      prefix: remoteService.config.prefix,\n      available: remoteService.available,\n      remarks: remoteService.config.remarks,\n      instances: instancesInfo\n    });\n  }\n  ctx.body = result;\n});\n\n// [Top-level Permission]\n// add remote service\nrouter.post(\n  \"/remote_service\",\n  permission({ level: ROLE.ADMIN }),\n  validator({ body: { apiKey: String, port: Number, ip: String, remarks: String } }),\n  async (ctx) => {\n    const parameter = ctx.request.body;\n    // do asynchronous registration\n    const instance = await RemoteServiceSubsystem.registerRemoteService({\n      apiKey: parameter.apiKey,\n      port: parameter.port,\n      ip: parameter.ip,\n      prefix: parameter.prefix ?? \"\",\n      remarks: parameter.remarks ?? \"\"\n    });\n\n    operationLogger.log(\"daemon_create\", {\n      operator_ip: ctx.ip,\n      operator_name: ctx.session?.[\"userName\"],\n      daemon_id: instance.uuid\n    });\n\n    ctx.body = instance.uuid;\n  }\n);\n\n// [Top-level Permission]\n// Modify remote service parameters\nrouter.put(\n  \"/remote_service\",\n  permission({ level: ROLE.ADMIN }),\n  validator({ query: { uuid: String } }),\n  async (ctx) => {\n    const uuid = String(ctx.request.query.uuid);\n    const parameter = ctx.request.body || {};\n    const daemonSetting = parameter?.setting || {};\n    const daemon = RemoteServiceSubsystem.getInstance(uuid);\n\n    if (daemonSetting && daemon?.available) {\n      await new RemoteRequest(daemon).request(\"info/setting\", {\n        ...daemonSetting,\n        port: parameter.daemonPort\n      });\n    }\n\n    if (!RemoteServiceSubsystem.services.has(uuid)) throw new Error(\"Instance does not exist\");\n\n    await RemoteServiceSubsystem.edit(uuid, {\n      port: parameter.port,\n      ip: parameter.ip,\n      prefix: parameter.prefix ?? \"\",\n      apiKey: parameter.apiKey,\n      remarks: parameter.remarks,\n      remoteMappings: parameter.remoteMappings ?? [],\n    });\n\n    operationLogger.log(\"daemon_config_change\", {\n      operator_ip: ctx.ip,\n      operator_name: ctx.session?.[\"userName\"],\n      daemon_id: uuid\n    });\n\n    ctx.body = true;\n  }\n);\n\n// [Top-level Permission]\n// delete remote service\nrouter.delete(\n  \"/remote_service\",\n  permission({ level: ROLE.ADMIN }),\n  validator({ query: { uuid: String } }),\n  async (ctx) => {\n    const uuid = String(ctx.request.query.uuid);\n    if (!RemoteServiceSubsystem.services.has(uuid)) throw new Error(\"Instance does not exist\");\n    await RemoteServiceSubsystem.deleteRemoteService(uuid);\n    operationLogger.log(\"daemon_remove\", {\n      operator_ip: ctx.ip,\n      operator_name: ctx.session?.[\"userName\"],\n      daemon_id: uuid\n    });\n    ctx.body = true;\n  }\n);\n\n// [Top-level Permission]\n// connect to remote instance\nrouter.get(\n  \"/link_remote_service\",\n  permission({ level: ROLE.ADMIN }),\n  validator({ query: { uuid: String } }),\n  async (ctx) => {\n    const uuid = String(ctx.request.query.uuid);\n    if (!RemoteServiceSubsystem.services.has(uuid)) throw new Error(\"Instance does not exist\");\n    try {\n      RemoteServiceSubsystem.getInstance(uuid)?.connect();\n      ctx.body = true;\n    } catch (error: any) {\n      ctx.body = error;\n    }\n  }\n);\n\nexport default router;\n","import Router from \"@koa/router\";\nimport permission from \"../middleware/permission\";\nimport validator from \"../middleware/validator\";\nimport RemoteServiceSubsystem from \"../service/remote_service\";\nimport RemoteRequest from \"../service/remote_command\";\nimport { ROLE } from \"../entity/user\";\n\nconst router = new Router({ prefix: \"/environment\" });\n\n// [Top-level Permission]\n// Get the specified remote service mirror list\nrouter.get(\n  \"/image\",\n  permission({ level: ROLE.ADMIN }),\n  validator({ query: { daemonId: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"environment/images\", {});\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\n// [Top-level Permission]\n// create image\nrouter.post(\n  \"/image\",\n  permission({ level: ROLE.ADMIN }),\n  validator({ query: { daemonId: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const config = ctx.request.body;\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\n        \"environment/new_image\",\n        config\n      );\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\n// [Top-level Permission]\n// delete the specified image\nrouter.delete(\n  \"/image\",\n  permission({ level: ROLE.ADMIN }),\n  validator({ query: { daemonId: String, imageId: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const imageId = String(ctx.query.imageId);\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"environment/del_image\", {\n        imageId\n      });\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\n// [Top-level Permission]\n// Get the list of existing containers of the specified remote service\nrouter.get(\n  \"/containers\",\n  permission({ level: ROLE.ADMIN }),\n  validator({ query: { daemonId: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"environment/containers\", {});\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\n// [Top-level Permission]\n// Get the list of existing networks for the specified remote service\nrouter.get(\n  \"/networkModes\",\n  permission({ level: ROLE.ADMIN }),\n  validator({ query: { daemonId: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"environment/networkModes\", {});\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\n// [Top-level Permission]\n// Get the image creation progress of the specified remote service\nrouter.get(\n  \"/progress\",\n  permission({ level: ROLE.ADMIN }),\n  validator({ query: { daemonId: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"environment/progress\", {});\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nexport default router;\n","import Router from \"@koa/router\";\nimport { ROLE } from \"../entity/user\";\nimport { $t } from \"../i18n\";\nimport { speedLimit } from \"../middleware/limit\";\nimport permission from \"../middleware/permission\";\nimport validator from \"../middleware/validator\";\nimport { operationLogger } from \"../service/operation_logger\";\nimport { getUserPermission, getUserUuid } from \"../service/passport_service\";\nimport { timeUuid } from \"../service/password\";\nimport { isHaveInstanceByUuid, isTopPermissionByUuid } from \"../service/permission_service\";\nimport RemoteRequest from \"../service/remote_command\";\nimport RemoteServiceSubsystem from \"../service/remote_service\";\nimport { systemConfig } from \"../setting\";\n\nconst router = new Router({ prefix: \"/files\" });\n\nrouter.use(async (ctx, next) => {\n  const instanceUuid = String(ctx.query.uuid);\n  const daemonId = String(ctx.query.daemonId);\n  const userUuid = getUserUuid(ctx);\n  if (systemConfig?.canFileManager === false && getUserPermission(ctx) < 10) {\n    ctx.status = 403;\n    ctx.body = new Error($t(\"TXT_CODE_router.file.off\"));\n    return;\n  }\n  if (isHaveInstanceByUuid(userUuid, daemonId, instanceUuid)) {\n    await next();\n  } else {\n    ctx.status = 403;\n    ctx.body = $t(\"TXT_CODE_permission.forbiddenInstance\");\n  }\n});\n\nrouter.get(\n  \"/status\",\n  permission({ level: ROLE.USER, speedLimit: false }),\n  validator({\n    query: { daemonId: String, uuid: String }\n  }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"file/status\", {\n        instanceUuid\n      });\n      if (!isTopPermissionByUuid(getUserUuid(ctx))) delete result.disk;\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nrouter.get(\n  \"/list\",\n  permission({ level: ROLE.USER, speedLimit: false }),\n  validator({\n    query: { daemonId: String, uuid: String, target: String, page: Number, page_size: Number }\n  }),\n  async (ctx) => {\n    try {\n      const target = String(ctx.query.target);\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const page = Number(ctx.query.page);\n      const pageSize = Number(ctx.query.page_size);\n      const fileName = String(ctx.query.file_name);\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"file/list\", {\n        instanceUuid,\n        target,\n        pageSize,\n        page,\n        fileName\n      });\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nrouter.put(\n  \"/chmod\",\n  permission({ level: ROLE.USER }),\n  speedLimit(3),\n  validator({\n    query: { daemonId: String, uuid: String },\n    body: { target: String, chmod: Number, deep: Boolean }\n  }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const target = String(ctx.request.body.target);\n      const chmod = Number(ctx.request.body.chmod);\n      const deep = Number(ctx.request.body.deep);\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"file/chmod\", {\n        target,\n        instanceUuid,\n        chmod,\n        deep\n      });\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nrouter.post(\n  \"/touch\",\n  permission({ level: ROLE.USER }),\n  speedLimit(3),\n  validator({ query: { daemonId: String, uuid: String }, body: { target: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const target = String(ctx.request.body.target);\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"file/touch\", {\n        target,\n        instanceUuid\n      });\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nrouter.post(\n  \"/mkdir\",\n  permission({ level: ROLE.USER }),\n  speedLimit(3),\n  validator({ query: { daemonId: String, uuid: String }, body: { target: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const target = String(ctx.request.body.target);\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"file/mkdir\", {\n        target,\n        instanceUuid\n      });\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nrouter.put(\n  \"/\",\n  speedLimit(1),\n  permission({ level: ROLE.USER }),\n  validator({ query: { daemonId: String, uuid: String }, body: { target: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const target = String(ctx.request.body.target);\n      const text = ctx.request.body.text;\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\n        \"file/edit\",\n        {\n          instanceUuid,\n          target,\n          text\n        },\n        100000\n      );\n      operationLogger.log(\"instance_file_update\", {\n        operator_ip: ctx.ip,\n        operator_name: ctx.session?.[\"userName\"],\n        instance_id: instanceUuid,\n        daemon_id: daemonId,\n        file: target\n      });\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nrouter.post(\n  \"/copy\",\n  permission({ level: ROLE.USER }),\n  speedLimit(3),\n  validator({ query: { daemonId: String, uuid: String }, body: { targets: Array } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const targets = ctx.request.body.targets as [];\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"file/copy\", {\n        instanceUuid,\n        targets\n      });\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nrouter.post(\n  \"/download_from_url\",\n  permission({ level: ROLE.USER }),\n  speedLimit(3),\n  validator({\n    query: { uuid: String, daemonId: String },\n    body: { url: String, file_name: String }\n  }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const url = String(ctx.request.body.url);\n      const fileName = String(ctx.request.body.file_name);\n\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      if (!remoteService) throw new Error($t(\"TXT_CODE_dd559000\") + ` Daemon ID: ${daemonId}`);\n\n      const downloadId = timeUuid();\n      ctx.body = downloadId;\n\n      operationLogger.log(\"instance_file_download_from_url\", {\n        operator_ip: ctx.ip,\n        operator_name: ctx.session?.[\"userName\"],\n        instance_id: instanceUuid,\n        daemon_id: daemonId,\n        url: url,\n        fileName: fileName\n      });\n\n      await new RemoteRequest(remoteService).request(\"file/download_from_url\", {\n        url,\n        fileName,\n        instanceUuid\n      });\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nrouter.put(\n  \"/move\",\n  speedLimit(3),\n  permission({ level: ROLE.USER }),\n  validator({ query: { daemonId: String, uuid: String }, body: { targets: Array } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const targets = ctx.request.body.targets as [];\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"file/move\", {\n        instanceUuid,\n        targets\n      });\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nrouter.delete(\n  \"/\",\n  speedLimit(3),\n  permission({ level: ROLE.USER }),\n  validator({ query: { daemonId: String, uuid: String }, body: { targets: Object } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = ctx.query.uuid;\n      const targets = ctx.request.body.targets;\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"file/delete\", {\n        instanceUuid,\n        targets\n      });\n      operationLogger.log(\"instance_file_delete\", {\n        operator_ip: ctx.ip,\n        operator_name: ctx.session?.[\"userName\"],\n        instance_id: String(instanceUuid),\n        daemon_id: daemonId,\n        file: targets\n      });\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nrouter.post(\n  \"/compress\",\n  speedLimit(3),\n  permission({ level: ROLE.USER }),\n  validator({\n    query: { daemonId: String, uuid: String },\n    body: { source: String, targets: Object, type: Number, code: String }\n  }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const source = String(ctx.request.body.source);\n      const targets = ctx.request.body.targets;\n      const type = Number(ctx.request.body.type);\n      const code = String(ctx.request.body.code);\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const res = await new RemoteRequest(remoteService).request(\n        \"file/compress\",\n        {\n          instanceUuid,\n          targets,\n          source,\n          type,\n          code\n        },\n        0\n      );\n      ctx.body = res;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nrouter.all(\n  \"/download\",\n  permission({ level: ROLE.USER }),\n  speedLimit(3),\n  validator({ query: { uuid: String, daemonId: String, file_name: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const fileName = String(ctx.query.file_name);\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      if (!remoteService) throw new Error($t(\"TXT_CODE_dd559000\") + ` Daemon ID: ${daemonId}`);\n      const addr = remoteService.config.fullAddr;\n      const remoteMappings = remoteService.config.getConvertedRemoteMappings();\n      const password = timeUuid();\n      await new RemoteRequest(remoteService).request(\"passport/register\", {\n        name: \"download\",\n        password: password,\n        parameter: {\n          fileName,\n          instanceUuid\n        }\n      });\n      operationLogger.log(\"instance_file_download\", {\n        operator_ip: ctx.ip,\n        operator_name: ctx.session?.[\"userName\"],\n        instance_id: instanceUuid,\n        daemon_id: daemonId,\n        file: fileName\n      });\n      ctx.body = {\n        password,\n        addr,\n        remoteMappings\n      };\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nrouter.all(\n  \"/upload\",\n  permission({ level: ROLE.USER }),\n  validator({ query: { uuid: String, daemonId: String, upload_dir: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const uploadDir = String(ctx.query.upload_dir);\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      if (!remoteService) throw new Error($t(\"TXT_CODE_dd559000\") + ` Daemon ID: ${daemonId}`);\n      const addr = remoteService.config.fullAddr;\n      const remoteMappings = remoteService.config.getConvertedRemoteMappings();\n      const password = timeUuid();\n      await new RemoteRequest(remoteService).request(\"passport/register\", {\n        name: \"upload\",\n        password: password,\n        parameter: {\n          uploadDir,\n          instanceUuid\n        }\n      });\n      operationLogger.log(\"instance_file_upload\", {\n        operator_ip: ctx.ip,\n        operator_name: ctx.session?.[\"userName\"],\n        instance_id: instanceUuid,\n        daemon_id: daemonId\n      });\n      ctx.body = {\n        password,\n        addr,\n        remoteMappings\n      };\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nexport default router;\n","import Koa from \"koa\";\nimport Router from \"@koa/router\";\nimport permission from \"../middleware/permission\";\nimport { bind2FA, confirm2FaQRCode, getUserUuid, getUserFromCtx, logout } from \"../service/passport_service\";\nimport userSystem from \"../service/user_service\";\nimport { getToken, isAjax } from \"../service/passport_service\";\nimport { getUserByUserName, isTopPermissionByUuid } from \"../service/permission_service\";\nimport validator from \"../middleware/validator\";\nimport { v4 } from \"uuid\";\nimport { $t } from \"../i18n\";\nimport { ROLE } from \"../entity/user\";\nimport { getInstancesByUuid } from \"../service/instance_service\";\nimport { toBoolean } from \"mcsmanager-common\";\n\nconst router = new Router({ prefix: \"/auth\" });\n\n// [Low-level Permission]\n// add token return\nrouter.get(\n  \"/token\",\n  permission({ level: ROLE.USER, token: false, speedLimit: false }),\n  async (ctx: Koa.ParameterizedContext) => {\n    // Some and only Ajax requests can get the token\n    if (isAjax(ctx)) {\n      ctx.body = getToken(ctx);\n    } else {\n      throw new Error(\"The request is not an Ajax request.\");\n    }\n  }\n);\n\n// [Low-level Permission]\n// get user data\nrouter.get(\"/\", permission({ level: ROLE.USER, token: false, speedLimit: false }), async (ctx) => {\n  // Default permission to get me\n  let uuid = getUserUuid(ctx);\n  // The front end can choose to require advanced data\n  const advanced = ctx.query.advanced;\n\n  // Admin permissions can be obtained from anyone\n  if (isTopPermissionByUuid(uuid) && ctx.query.uuid) uuid = String(ctx.query.uuid);\n\n  // Some and only Ajax requests grant access\n  if (isAjax(ctx)) {\n    const res = await getInstancesByUuid(uuid, undefined, toBoolean(advanced) || false);\n    res.token = getToken(ctx);\n    ctx.body = res;\n  }\n});\n\n// [Low-level Permission]\n// Modify personal user information\nrouter.put(\"/update\", permission({ level: ROLE.USER }), async (ctx: Koa.ParameterizedContext) => {\n  const userUuid = getUserUuid(ctx);\n  if (userUuid) {\n    const config = ctx.request.body;\n    const { passWord, isInit } = config;\n    if (!userSystem.validatePassword(passWord))\n      throw new Error($t(\"TXT_CODE_router.user.passwordCheck\"));\n    await userSystem.edit(userUuid, { passWord, isInit });\n    ctx.body = logout(ctx);\n  }\n});\n\n// [Low-level Permission]\n// API generation and shutdown\nrouter.put(\"/api\", permission({ level: ROLE.USER }), async (ctx: Koa.ParameterizedContext) => {\n  const userUuid = getUserUuid(ctx);\n  const enable = ctx.request.body.enable;\n  const user = userSystem.getInstance(userUuid);\n  let newKey = \"\";\n  try {\n    if (user) {\n      if (enable) {\n        newKey = v4().replace(/-/gim, \"\");\n        await userSystem.edit(userUuid, {\n          apiKey: newKey\n        });\n      } else {\n        await userSystem.edit(userUuid, {\n          apiKey: \"\"\n        });\n      }\n    }\n    ctx.body = newKey;\n  } catch (error: any) {\n    ctx.body = error;\n  }\n});\n\n// [Low-level Permission]\n// 2FA\nrouter.post(\"/bind2fa\", permission({ level: 1 }), async (ctx: Koa.ParameterizedContext) => {\n  const userUuid = getUserUuid(ctx);\n  if (userUuid) {\n    const qrcode = await bind2FA(ctx);\n    ctx.body = qrcode;\n  }\n});\n\n// [Low-level Permission]\n// 2FA\nrouter.post(\n  \"/confirm2fa\",\n  permission({ level: 1 }),\n  validator({ body: { enable: Boolean, TOTPCode: String } }),\n  async (ctx: Koa.ParameterizedContext) => {\n    const TOTPCode = ctx.request.body.TOTPCode;\n    const MFAResult = userSystem.check2FA(TOTPCode, getUserFromCtx(ctx) ?? {}, 0);\n    const enable = Boolean(ctx.request.body.enable);\n    if (enable && !MFAResult) {\n      ctx.body = false;\n      return;\n    }\n    const userUuid = getUserUuid(ctx);\n    await confirm2FaQRCode(userUuid, enable);\n    ctx.body = true;\n  }\n);\n\n// [Public Permission]\nrouter.get(\n  \"/query_username\",\n  permission({ token: false, level: null }),\n  validator({\n    query: { username: String }\n  }),\n  async (ctx: Koa.ParameterizedContext) => {\n    const userName = String(ctx.request.query.username);\n    const user = getUserByUserName(userName);\n    if (!user) {\n      ctx.body = {\n        uuid: null,\n        userName: null\n      };\n    } else {\n      ctx.body = {\n        uuid: user?.uuid,\n        userName: user?.userName\n      };\n    }\n  }\n);\n\nexport default router;\n","import Router from \"@koa/router\";\nimport axios from \"axios\";\nimport fs from \"fs-extra\";\nimport path from \"path\";\nimport { MARKET_CACHE_FILE_PATH, SAVE_DIR_PATH } from \"../const\";\nimport { ROLE } from \"../entity/user\";\nimport { $t } from \"../i18n\";\nimport permission from \"../middleware/permission\";\nimport validator from \"../middleware/validator\";\nimport { multiOperationForwarding } from \"../service/instance_service\";\nimport { logger } from \"../service/log\";\nimport { operationLogger } from \"../service/operation_logger\";\nimport { getUserUuid } from \"../service/passport_service\";\nimport { timeUuid } from \"../service/password\";\nimport { isHaveInstanceByUuid, isTopPermissionByUuid } from \"../service/permission_service\";\nimport RemoteRequest from \"../service/remote_command\";\nimport RemoteServiceSubsystem from \"../service/remote_service\";\nimport userSystem from \"../service/user_service\";\nimport { systemConfig } from \"../setting\";\n\nconst router = new Router({ prefix: \"/instance\" });\n\n// [Low-level Permission]\n// Get the details of an instance\nrouter.get(\n  \"/\",\n  permission({ level: ROLE.USER }),\n  validator({ query: { daemonId: String, uuid: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      if (!isHaveInstanceByUuid(getUserUuid(ctx), daemonId, instanceUuid))\n        throw new Error($t(\"TXT_CODE_permission.forbidden\"));\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"instance/detail\", {\n        instanceUuid\n      });\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\n// [Top-level Permission]\n// create instance\nrouter.post(\n  \"/\",\n  permission({ level: ROLE.ADMIN }),\n  validator({ query: { daemonId: String } }),\n\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const config = ctx.request.body;\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"instance/new\", config);\n      ctx.body = result;\n      operationLogger.log(\"instance_create\", {\n        daemon_id: daemonId,\n        instance_id: result.instanceUuid,\n        operator_ip: ctx.ip,\n        operator_name: ctx.session?.[\"userName\"],\n        instance_name: result.nickname\n      });\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\n// [Top-level Permission]\n// upload the file when creating the instance\nrouter.post(\n  \"/upload\",\n  permission({ level: ROLE.ADMIN }),\n  validator({ query: { daemonId: String, upload_dir: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      // const uploadDir = String(ctx.query.upload_dir);\n      const config = ctx.request.body;\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      if (!remoteService) throw new Error($t(\"TXT_CODE_dd559000\") + ` Daemon ID: ${daemonId}`);\n      const result = await new RemoteRequest(remoteService).request(\"instance/new\", config);\n      const newInstanceUuid = result.instanceUuid;\n      if (!newInstanceUuid) throw new Error($t(\"TXT_CODE_router.instance.createError\"));\n      operationLogger.log(\"instance_create\", {\n        daemon_id: daemonId,\n        instance_id: newInstanceUuid,\n        operator_ip: ctx.ip,\n        operator_name: ctx.session?.[\"userName\"],\n        instance_name: result.nickname\n      });\n      // Send a cross-end file upload task to the daemon\n      const addr = remoteService.config.fullAddr;\n      const remoteMappings = remoteService.config.getConvertedRemoteMappings();\n      const password = timeUuid();\n      await new RemoteRequest(remoteService).request(\"passport/register\", {\n        name: \"upload\",\n        password: password,\n        parameter: {\n          uploadDir: \".\",\n          instanceUuid: newInstanceUuid\n        }\n      });\n      ctx.body = {\n        instanceUuid: newInstanceUuid,\n        password,\n        addr,\n        remoteMappings\n      };\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\n// [Top-level Permission]\n// Update instance information (manage users)\nrouter.put(\n  \"/\",\n  permission({ level: ROLE.ADMIN }),\n  validator({ query: { daemonId: String, uuid: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const config = ctx.request.body;\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"instance/update\", {\n        instanceUuid,\n        config\n      });\n      operationLogger.log(\"instance_config_change\", {\n        daemon_id: daemonId,\n        instance_id: instanceUuid,\n        operator_ip: ctx.ip,\n        operator_name: ctx.session?.[\"userName\"],\n        instance_name: config.nickname\n      });\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\n// [Top-level Permission]\n// delete instance\nrouter.delete(\n  \"/\",\n  permission({ level: ROLE.ADMIN }),\n  validator({ query: { daemonId: String }, body: { uuids: Object, deleteFile: Boolean } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuids = ctx.request.body.uuids;\n      const deleteFile = ctx.request.body.deleteFile;\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      if (!instanceUuids || !Array.isArray(instanceUuids))\n        throw new Error(\"Type error, invalid uuids or daemonId\");\n      const instanceIds = instanceUuids.map((uuid: string) => {\n        return { instanceUuid: uuid, daemonId };\n      });\n      userSystem.deleteUserInstances(null, instanceIds, true);\n      const result = await new RemoteRequest(remoteService).request(\"instance/delete\", {\n        instanceUuids,\n        deleteFile\n      });\n      result.instances.forEach((e: { instanceUuid: string; nickname: string }) => {\n        operationLogger.log(\n          \"instance_delete\",\n          {\n            daemon_id: daemonId,\n            instance_id: e.instanceUuid,\n            operator_ip: ctx.ip,\n            operator_name: ctx.session?.[\"userName\"],\n            instance_name: e.nickname\n          },\n          \"error\"\n        );\n      });\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\n// [Top-level Permission]\n// Open instance routing in batches\nrouter.post(\"/multi_open\", permission({ level: ROLE.ADMIN }), async (ctx) => {\n  try {\n    const instances = ctx.request.body;\n    multiOperationForwarding(instances, async (daemonId: string, instanceUuids: string[]) => {\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      new RemoteRequest(remoteService)\n        .request(\"instance/open\", {\n          instanceUuids\n        })\n        .then((e) => {\n          e.instances.forEach((instance: { instanceUuid: string; nickname: string }) => {\n            operationLogger.log(\"instance_start\", {\n              daemon_id: daemonId,\n              instance_id: instance.instanceUuid,\n              operator_ip: ctx.ip,\n              operator_name: ctx.session?.[\"userName\"],\n              instance_name: instance.nickname\n            });\n          });\n        })\n        .catch(() => {});\n    });\n    ctx.body = true;\n  } catch (err) {\n    ctx.body = err;\n  }\n});\n\n// [Top-level Permission]\n//Close instance routing in batches\nrouter.post(\"/multi_stop\", permission({ level: ROLE.ADMIN }), async (ctx) => {\n  try {\n    const instances = ctx.request.body;\n    multiOperationForwarding(instances, async (daemonId: string, instanceUuids: string[]) => {\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      new RemoteRequest(remoteService)\n        .request(\"instance/stop\", {\n          instanceUuids\n        })\n        .then((e) => {\n          e.instances.forEach((instance: { instanceUuid: string; nickname: string }) => {\n            operationLogger.log(\"instance_stop\", {\n              daemon_id: daemonId,\n              instance_id: instance.instanceUuid,\n              operator_ip: ctx.ip,\n              operator_name: ctx.session?.[\"userName\"],\n              instance_name: instance.nickname\n            });\n          });\n        })\n        .catch(() => {});\n    });\n    ctx.body = true;\n  } catch (err) {\n    ctx.body = err;\n  }\n});\n\n// [Top-level Permission]\n// batch terminate instance routing\nrouter.post(\"/multi_kill\", permission({ level: ROLE.ADMIN }), async (ctx) => {\n  try {\n    const instances = ctx.request.body;\n    multiOperationForwarding(instances, async (daemonId: string, instanceUuids: string[]) => {\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      new RemoteRequest(remoteService)\n        .request(\"instance/kill\", { instanceUuids })\n        .then((e) => {\n          e.instances.forEach((instance: { instanceUuid: string; nickname: string }) => {\n            operationLogger.warning(\"instance_kill\", {\n              daemon_id: daemonId,\n              instance_id: instance.instanceUuid,\n              operator_ip: ctx.ip,\n              operator_name: ctx.session?.[\"userName\"],\n              instance_name: instance.nickname\n            });\n          });\n        })\n        .catch((err) => {});\n    });\n    ctx.body = true;\n  } catch (err) {\n    ctx.body = err;\n  }\n});\n\n// [Top-level Permission]\n// restart instance routing in batches\nrouter.post(\"/multi_restart\", permission({ level: ROLE.ADMIN }), async (ctx) => {\n  try {\n    const instances = ctx.request.body;\n    multiOperationForwarding(instances, async (daemonId: string, instanceUuids: string[]) => {\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      new RemoteRequest(remoteService)\n        .request(\"instance/restart\", { instanceUuids })\n        .then((e) => {\n          e.instances.forEach((instance: { instanceUuid: string; nickname: string }) => {\n            operationLogger.log(\"instance_restart\", {\n              daemon_id: daemonId,\n              instance_id: instance.instanceUuid,\n              operator_ip: ctx.ip,\n              operator_name: ctx.session?.[\"userName\"],\n              instance_name: instance.nickname\n            });\n          });\n        })\n        .catch((err) => {});\n    });\n    ctx.body = true;\n  } catch (err) {\n    ctx.body = err;\n  }\n});\n\n// [Top-level Permission]\n// Get quick install list\nrouter.get(\"/quick_install_list\", permission({ level: ROLE.USER }), async (ctx) => {\n  if (systemConfig?.allowUsePreset === false && !isTopPermissionByUuid(getUserUuid(ctx))) {\n    ctx.status = 403;\n    ctx.body = new Error($t(\"TXT_CODE_b5a47731\"));\n    return;\n  }\n\n  const ADDR = systemConfig?.presetPackAddr;\n\n  try {\n    if (ADDR?.startsWith(SAVE_DIR_PATH)) {\n      const filesDir = path.join(process.cwd(), SAVE_DIR_PATH);\n      const fileName = ADDR?.split(SAVE_DIR_PATH)[1];\n      const filePath = path.join(filesDir, fileName ?? \"\");\n      if (fs.existsSync(filePath)) {\n        ctx.body = JSON.parse(await fs.readFile(filePath, \"utf-8\"));\n      } else {\n        throw new Error(`Request failed, status: 404`);\n      }\n      return;\n    }\n\n    // Cache logic implementation\n    const CACHE_DURATION = 12 * 60 * 60 * 1000; // 12 hours\n\n    // Check if cache file exists and is valid\n    try {\n      const stats = await fs.stat(MARKET_CACHE_FILE_PATH);\n      const now = Date.now();\n      const fileAge = now - stats.mtime.getTime();\n\n      // Use cache\n      if (fileAge < CACHE_DURATION) {\n        const cachedData = await fs.readFile(MARKET_CACHE_FILE_PATH, \"utf-8\");\n        ctx.body = JSON.parse(cachedData);\n        return;\n      }\n    } catch (error) {\n      // Cache file doesn't exist, continue to fetch new data\n    }\n\n    const res = await axios.request({\n      method: \"GET\",\n      url: ADDR\n    });\n    if (res.status !== 200) throw new Error(`Request failed, status: ${res.status}`);\n    ctx.body = res.data;\n\n    // Save to cache file\n    fs.writeFile(MARKET_CACHE_FILE_PATH, JSON.stringify(res.data), \"utf-8\").catch((err) => {\n      logger.warn(`Failed to write quick install cache file at ${MARKET_CACHE_FILE_PATH}: ${err}`);\n    });\n  } catch (err) {\n    ctx.body = [];\n  }\n});\n\n// [Top-level Permission]\n// forward request\nrouter.all(\n  \"/forward\",\n  permission({ level: ROLE.ADMIN }),\n  validator({ query: { target: String } }),\n  async (ctx) => {\n    const ADDR = String(ctx.query.target);\n    try {\n      const response = await axios.request({\n        method: ctx.request.method,\n        url: ADDR,\n        data: ctx.request.body\n      });\n      if (response.status !== 200) throw new Error(\"Response code != 200\");\n      ctx.body = response.data;\n    } catch (err) {\n      ctx.body = [];\n    }\n  }\n);\n\nexport default router;\n","import Router from \"@koa/router\";\nimport Koa from \"koa\";\nimport { toNumber, toText } from \"mcsmanager-common\";\nimport { ROLE } from \"../entity/user\";\nimport { $t } from \"../i18n\";\nimport permission from \"../middleware/permission\";\nimport validator from \"../middleware/validator\";\nimport {\n  buyOrRenewInstance,\n  getNodeStatus,\n  parseUserName,\n  queryInstanceByUserId,\n  RequestAction,\n  requestUseRedeem\n} from \"../service/exchange_service\";\nimport { logger } from \"../service/log\";\nimport { loginSuccess } from \"../service/passport_service\";\nimport UserSSOService from \"../service/user_sso_service\";\nimport { systemConfig } from \"../setting\";\nimport { execWithMutexId } from \"../utils/sync\";\n\nconst router = new Router({ prefix: \"/exchange\" });\n\nrouter.post(\n  \"/\",\n  permission({ level: ROLE.ADMIN }),\n  validator({\n    body: {\n      request_action: String\n    }\n  }),\n  async (ctx) => {\n    try {\n      const requestAction = toText(ctx.request.body.request_action) as RequestAction;\n      const params = ctx.request.body.data ?? {};\n      logger.info(\"Get exchange request, action: %s, params: %j\", requestAction, params);\n      if (requestAction === RequestAction.PING) {\n        ctx.body = await getNodeStatus(params);\n        return;\n      }\n      if ([RequestAction.RENEW, RequestAction.BUY].includes(requestAction)) {\n        ctx.body = await buyOrRenewInstance(requestAction, params);\n        return;\n      }\n      if (requestAction === RequestAction.QUERY_INSTANCE) {\n        ctx.body = await queryInstanceByUserId(params);\n        return;\n      }\n      if (requestAction === RequestAction.SSO_TOKEN) {\n        ctx.body = UserSSOService.generateSSOToken(parseUserName(params?.username));\n        return;\n      }\n    } catch (err) {\n      logger.error(\"Exchange request error: \" + err);\n      ctx.body = err;\n    }\n  }\n);\n\nrouter.get(\n  \"/sso\",\n  permission({ token: false, level: null }),\n  validator({\n    query: { username: String, token: String, instanceId: String, daemonId: String, origin: String }\n  }),\n  async (ctx: Koa.ParameterizedContext) => {\n    const userName = parseUserName(String(ctx.request.query.username));\n    const token = String(ctx.request.query.token);\n    const redirect = `${decodeURIComponent(\n      String(ctx.request.query.origin)\n    )}/#/instances/terminal?daemonId=${ctx.request.query.daemonId}&instanceId=${\n      ctx.request.query.instanceId\n    }&from=sso`;\n    if (UserSSOService.verifySSOToken(userName, token)) {\n      logger.warn(\"SSO login: username: %s, token: %s, redirect: %s\", userName, token, redirect);\n      loginSuccess(ctx, userName);\n      return ctx.redirect(redirect);\n    } else {\n      throw new Error($t(\"TXT_CODE_13411df7\"));\n    }\n  }\n);\n\nrouter.post(\n  \"/request_buy_instance\",\n  permission({ token: false, level: null }),\n  validator({\n    body: {\n      productId: Number,\n      daemonId: String,\n      code: String\n    }\n  }),\n  async (ctx) => {\n    const panelId = systemConfig?.panelId || \"\";\n    const registerCode = systemConfig?.registerCode || \"\";\n    const productId = toNumber(ctx.request.body.productId) ?? 0;\n    const daemonId = toText(ctx.request.body.daemonId) ?? \"\";\n    const code = toText(ctx.request.body.code) ?? \"\";\n\n    // Optional\n    const instanceId = toText(ctx.request.body.instanceId) ?? \"\";\n    const username = toText(ctx.request.body.username) ?? \"\";\n\n    const response = await execWithMutexId(`buy-${code}`, async () => {\n      // First, check if the redeem code is valid\n      const productInfo = await requestUseRedeem(\n        panelId,\n        registerCode,\n        productId,\n        daemonId,\n        code,\n        false\n      );\n\n      const hours = productInfo?.hours;\n      if (!hours || !productInfo?.payload) {\n        throw new Error($t(\"TXT_CODE_45d7b982\"));\n      }\n\n      const { config } = JSON.parse(productInfo.payload) as {\n        config: Partial<IGlobalInstanceConfig>;\n      };\n\n      logger.info(`Router /request_buy_instance Report: Product: ${JSON.stringify(productInfo)}`);\n\n      if (!config || !productId) {\n        throw new Error($t(\"TXT_CODE_c92156bb\"));\n      }\n\n      const params = {\n        category_id: productId,\n        payload: config,\n        username: username,\n        node_id: daemonId,\n        hours: hours,\n        instance_id: instanceId,\n        code: code\n      };\n\n      try {\n        return await buyOrRenewInstance(\n          instanceId ? RequestAction.RENEW : RequestAction.BUY,\n          params,\n          {\n            onCreateConfirm: async () => {\n              // Then, delete the redeem code\n              await requestUseRedeem(panelId, registerCode, productId, daemonId, code, true);\n            }\n          }\n        );\n      } catch (error) {\n        logger.error($t(\"TXT_CODE_55b1f20e\"), error);\n\n        throw error;\n      }\n    });\n\n    ctx.body = response;\n  }\n);\nexport default router;\n","import Router from \"@koa/router\";\nimport { isEmpty, toBoolean, toNumber, toText } from \"mcsmanager-common\";\nimport { ROLE } from \"../entity/user\";\nimport { $t } from \"../i18n\";\nimport { speedLimit } from \"../middleware/limit\";\nimport permission from \"../middleware/permission\";\nimport validator from \"../middleware/validator\";\nimport { checkInstanceAdvancedParams, getAppMarketList } from \"../service/instance_service\";\nimport { operationLogger } from \"../service/operation_logger\";\nimport { getUserUuid } from \"../service/passport_service\";\nimport { timeUuid } from \"../service/password\";\nimport { isHaveInstanceByUuid, isTopPermissionByUuid } from \"../service/permission_service\";\nimport RemoteRequest, { RemoteRequestTimeoutError } from \"../service/remote_command\";\nimport RemoteServiceSubsystem from \"../service/remote_service\";\nimport { systemConfig } from \"../setting\";\n\nconst router = new Router({ prefix: \"/protected_instance\" });\n\n// Routing permission verification middleware\nrouter.use(async (ctx, next) => {\n  const instanceUuid = String(ctx.query.uuid);\n  const daemonId = String(ctx.query.daemonId);\n  const userUuid = getUserUuid(ctx);\n  if (isHaveInstanceByUuid(userUuid, daemonId, instanceUuid)) {\n    await next();\n  } else {\n    ctx.status = 403;\n    ctx.body = $t(\"TXT_CODE_permission.forbiddenInstance\");\n  }\n});\n\n// [Low-level Permission]\n// Enable instance routing\nrouter.all(\n  \"/open\",\n  permission({ level: ROLE.USER }),\n  validator({ query: { daemonId: String, uuid: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"instance/open\", {\n        instanceUuids: [instanceUuid]\n      });\n      operationLogger.log(\"instance_start\", {\n        daemon_id: daemonId,\n        instance_id: instanceUuid,\n        operator_ip: ctx.ip,\n        operator_name: ctx.session?.[\"userName\"],\n        instance_name: result?.instances?.[0]?.nickname\n      });\n      ctx.body = result;\n    } catch (err) {\n      if (err instanceof RemoteRequestTimeoutError) {\n        ctx.body = {};\n        return;\n      }\n      ctx.body = err;\n    }\n  }\n);\n\n// [Low-level Permission]\n// The instance closes the route\nrouter.all(\n  \"/stop\",\n  permission({ level: ROLE.USER }),\n  validator({ query: { daemonId: String, uuid: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"instance/stop\", {\n        instanceUuids: [instanceUuid]\n      });\n      operationLogger.log(\"instance_stop\", {\n        daemon_id: daemonId,\n        instance_id: instanceUuid,\n        operator_ip: ctx.ip,\n        operator_name: ctx.session?.[\"userName\"],\n        instance_name: result?.instances?.[0]?.nickname\n      });\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\n// [Low-level Permission]\n// Send the command route to the instance\n// At this stage, WS cross-panel command transfer has been implemented, and this interface is reserved as an API interface\nrouter.all(\n  \"/command\",\n  permission({ level: ROLE.USER }),\n  validator({ query: { daemonId: String, uuid: String, command: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const command = String(ctx.query.command);\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"instance/command\", {\n        instanceUuid,\n        command\n      });\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\n// [Low-level Permission]\n// restart the instance\nrouter.all(\n  \"/restart\",\n  permission({ level: ROLE.USER }),\n  validator({ query: { daemonId: String, uuid: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"instance/restart\", {\n        instanceUuids: [instanceUuid]\n      });\n      operationLogger.log(\"instance_restart\", {\n        daemon_id: daemonId,\n        instance_id: instanceUuid,\n        operator_ip: ctx.ip,\n        operator_name: ctx.session?.[\"userName\"],\n        instance_name: result?.instances?.[0]?.nickname\n      });\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\n// [Low-level Permission]\n// terminate the instance\nrouter.all(\n  \"/kill\",\n  permission({ level: ROLE.USER }),\n  validator({ query: { daemonId: String, uuid: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"instance/kill\", {\n        instanceUuids: [instanceUuid]\n      });\n      operationLogger.warning(\"instance_kill\", {\n        daemon_id: daemonId,\n        instance_id: instanceUuid,\n        operator_ip: ctx.ip,\n        operator_name: ctx.session?.[\"userName\"],\n        instance_name: result?.instances?.[0]?.nickname\n      });\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\n// [Low-level Permission]\n// start asynchronous task\nrouter.post(\n  \"/asynchronous\",\n  speedLimit(3),\n  permission({ level: ROLE.USER }),\n  validator({\n    query: { daemonId: String, uuid: String, task_name: String },\n    body: {}\n  }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const taskName = String(ctx.query.task_name).toLowerCase().trim();\n      const parameter = ctx.request.body;\n\n      // some asynchronous tasks are only allowed for administrators\n      const needTopPermissionTask = [\"quick_install\"];\n      if (\n        needTopPermissionTask.includes(taskName) &&\n        !isTopPermissionByUuid(ctx.session?.[\"uuid\"])\n      ) {\n        throw new Error(\"illegal access\");\n      }\n\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"instance/asynchronous\", {\n        instanceUuid,\n        taskName,\n        parameter\n      });\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\n// [Low-level Permission]\n// stop an asynchronous task\nrouter.all(\n  \"/stop_asynchronous\",\n  permission({ level: ROLE.USER }),\n  validator({\n    query: { daemonId: String, uuid: String }\n  }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const parameter = ctx.request.body;\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      // No permission check is required because \"Parameter.TaskId\" is not easily obtained.\n      const result = await new RemoteRequest(remoteService).request(\"instance/stop_asynchronous\", {\n        instanceUuid,\n        parameter\n      });\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\n// [Low-level Permission]\n// query asynchronous task status\nrouter.all(\n  \"/query_asynchronous\",\n  permission({ level: ROLE.ADMIN, speedLimit: false }),\n  validator({\n    query: { daemonId: String, uuid: String }\n  }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const taskName = String(ctx.query.task_name);\n      const parameter = ctx.request.body;\n      const taskId = parameter.taskId;\n      // Must have administrator to query all asynchronous tasks\n      if (!taskId && !isTopPermissionByUuid(getUserUuid(ctx))) {\n        throw new Error(\"Unauthorized access\");\n      }\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      ctx.body = await new RemoteRequest(remoteService).request(\"instance/query_asynchronous\", {\n        instanceUuid,\n        taskName,\n        parameter\n      });\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\n// [Low-level Permission]\n// Request to establish a data stream dedicated channel with the daemon\nrouter.post(\n  \"/stream_channel\",\n  permission({ level: ROLE.USER }),\n  validator({ query: { daemonId: String, uuid: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      if (!remoteService) throw new Error($t(\"TXT_CODE_dd559000\") + ` Daemon ID: ${daemonId}`);\n      const addr = remoteService.config.addr;\n      const prefix = remoteService.config.prefix;\n      const remoteMappings = remoteService.config.getConvertedRemoteMappings();\n      const password = timeUuid();\n      await new RemoteRequest(remoteService).request(\"passport/register\", {\n        name: \"stream_channel\",\n        password: password,\n        parameter: {\n          instanceUuid\n        }\n      });\n      ctx.body = {\n        password,\n        addr,\n        prefix,\n        remoteMappings\n      };\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\n// [Low-level Permission]\n// Get the instance configuration file list based on the file list\nrouter.post(\n  \"/process_config/list\",\n  permission({ level: ROLE.USER }),\n  validator({ query: { daemonId: String, uuid: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const files = ctx.request.body.files;\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\n        \"instance/process_config/list\",\n        {\n          instanceUuid,\n          files\n        }\n      );\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\n// [Low-level Permission]\n// Get the content of the specified configuration file\nrouter.get(\n  \"/process_config/file\",\n  permission({ level: ROLE.USER }),\n  validator({ query: { daemonId: String, uuid: String, fileName: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const fileName = String(ctx.query.fileName);\n      const type = String(ctx.query.type);\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\n        \"instance/process_config/file\",\n        {\n          instanceUuid,\n          fileName,\n          config: null,\n          type\n        }\n      );\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\n// [Low-level Permission]\n// Update the content of the specified configuration file\nrouter.put(\n  \"/process_config/file\",\n  permission({ level: ROLE.USER }),\n  validator({ query: { daemonId: String, uuid: String, fileName: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const fileName = String(ctx.query.fileName);\n      const type = String(ctx.query.type);\n      const config = ctx.request.body;\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\n        \"instance/process_config/file\",\n        {\n          instanceUuid,\n          fileName,\n          config,\n          type\n        }\n      );\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\n// [Low-level Permission]\n// Update instance low-privilege configuration data (normal user)\nrouter.put(\n  \"/instance_update\",\n  speedLimit(3),\n  permission({ level: ROLE.USER }),\n  validator({\n    query: { uuid: String, daemonId: String },\n    body: {}\n  }),\n  async (ctx) => {\n    try {\n      // Here is the low-privileged user configuration setting interface,\n      // in order to prevent data injection, a layer of filtering must be performed\n      const daemonId = toText(ctx.query.daemonId);\n      const instanceUuid = toText(ctx.query.uuid);\n      const config = ctx.request.body;\n\n      let instanceTags: string[] | null = null;\n\n      if (config.tag instanceof Array && isTopPermissionByUuid(getUserUuid(ctx))) {\n        instanceTags = (config.tag as any[]).map((tag: any) => {\n          const tmp = String(tag).trim();\n          if (tmp.length > 20) throw new Error($t(\"TXT_CODE_1556989\"));\n          return tmp;\n        });\n        if (instanceTags.length > 6) {\n          throw new Error($t(\"TXT_CODE_dc9fb6ce\"));\n        }\n        instanceTags = instanceTags!.sort((a, b) => (a > b ? 1 : -1));\n      }\n\n      // Steam Rcon configuration\n      const rconIp = toText(config.rconIp);\n      const rconPort = toNumber(config.rconPort);\n      const rconPassword = toText(config.rconPassword);\n      const enableRcon = toBoolean(config.enableRcon);\n\n      // Ping protocol configuration\n      const pingConfig = {\n        ip: toText(config.pingConfig?.ip),\n        port: toNumber(config.pingConfig?.port),\n        type: config.pingConfig?.type\n      };\n\n      // event task configuration\n      const eventTask = {\n        autoStart: toBoolean(config.eventTask?.autoStart),\n        autoRestart: toBoolean(config.eventTask?.autoRestart),\n        autoRestartMaxTimes: toNumber(config.eventTask?.autoRestartMaxTimes)\n      };\n\n      // web terminal settings\n      const terminalOption = {\n        haveColor: toBoolean(config.terminalOption?.haveColor),\n        pty: toBoolean(config.terminalOption?.pty),\n        ptyWindowCol: toNumber(config.terminalOption?.ptyWindowCol),\n        ptyWindowRow: toNumber(config.terminalOption?.ptyWindowRow)\n      };\n\n      // extra service\n      const extraServiceConfig = {\n        openFrpTunnelId: toText(config.extraServiceConfig?.openFrpTunnelId),\n        openFrpToken: toText(config.extraServiceConfig?.openFrpToken)\n      };\n\n      const crlf = !isEmpty(config.crlf) ? toNumber(config?.crlf) : null;\n      const oe = !isEmpty(config.oe) ? toText(config?.oe) : null;\n      const ie = !isEmpty(config.ie) ? toText(config?.ie) : null;\n      const fileCode = toText(config.fileCode);\n      const stopCommand = config.stopCommand ? toText(config.stopCommand) : null;\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId || \"\");\n      const isTopPermission = isTopPermissionByUuid(getUserUuid(ctx));\n\n      let advancedConfig = {};\n      advancedConfig = checkInstanceAdvancedParams(config, isTopPermission);\n\n      new RemoteRequest(remoteService).request(\"instance/update\", {\n        instanceUuid,\n        config: {\n          pingConfig: !isEmpty(config.pingConfig) ? pingConfig : null,\n          eventTask: !isEmpty(config.eventTask) ? eventTask : null,\n          terminalOption: !isEmpty(config.terminalOption) ? terminalOption : null,\n          extraServiceConfig: !isEmpty(config.extraServiceConfig) ? extraServiceConfig : null,\n          crlf,\n          oe,\n          ie,\n          stopCommand,\n          rconIp,\n          rconPort,\n          rconPassword,\n          enableRcon,\n          tag: instanceTags,\n          fileCode,\n          ...advancedConfig\n        }\n      });\n      ctx.body = true;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\n// [Low-level Permission]\n// Get the terminal log of an instance\nrouter.get(\n  \"/outputlog\",\n  permission({ level: ROLE.USER, speedLimit: false }),\n  validator({ query: { daemonId: String, uuid: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      let result = await new RemoteRequest(remoteService).request(\"instance/outputlog\", {\n        instanceUuid\n      });\n      if (ctx.query.size) {\n        let size,\n          sizeStr = ctx.query.size;\n        if (sizeStr instanceof Array) {\n          sizeStr = sizeStr[0];\n        }\n        size = parseInt(sizeStr);\n        if (sizeStr.toLowerCase().endsWith(\"kb\")) {\n          size *= 1024;\n        }\n        if (result.length > size) {\n          result = result.slice(-size);\n        }\n      }\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\n// [Low-level Permission]\n// Reinstall the instance\nrouter.post(\n  \"/install_instance\",\n  speedLimit(3),\n  permission({ level: ROLE.USER, speedLimit: true }),\n  validator({\n    query: { daemonId: String, uuid: String },\n    body: { description: String, title: String }\n  }),\n  async (ctx) => {\n    if (systemConfig?.allowUsePreset === false && !isTopPermissionByUuid(getUserUuid(ctx))) {\n      ctx.status = 403;\n      ctx.body = new Error($t(\"TXT_CODE_b5a47731\"));\n      return;\n    }\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n\n      // Use \"description\" and \"title\" as Package ID\n      // Do NOT use other parameters from frontend, it may be a malicious attack\n      const description = String(ctx.request.body.description);\n      const title = String(ctx.request.body.title);\n\n      const presetUrl = systemConfig?.presetPackAddr;\n      if (!presetUrl) throw new Error(\"Preset Addr is empty!\");\n\n      const presetConfig = await getAppMarketList();\n      const packages = presetConfig?.packages || [];\n\n      if (!(packages instanceof Array)) throw new Error(\"Preset Config is not array!\");\n\n      // Find the target preset config\n      const targetPresetConfig = packages.find(\n        (v) => v.title === title && v.description === description\n      );\n      if (!targetPresetConfig) throw new Error(\"Preset Config is not found!\");\n\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      new RemoteRequest(remoteService).request(\"instance/asynchronous\", {\n        taskName: \"install_instance\",\n        instanceUuid,\n        parameter: targetPresetConfig\n      });\n      ctx.body = true;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nexport default router;\n","import Router from \"@koa/router\";\nimport { ROLE } from \"../entity/user\";\nimport permission from \"../middleware/permission\";\nimport RemoteRequest from \"../service/remote_command\";\nimport RemoteServiceSubsystem from \"../service/remote_service\";\n\nconst router = new Router({ prefix: \"/java_manager\" });\n\nimport { $t } from \"../i18n\";\nimport { speedLimit } from \"../middleware/limit\";\nimport validator from \"../middleware/validator\";\nimport { getUserUuid } from \"../service/passport_service\";\nimport { isHaveInstanceByUuid } from \"../service/permission_service\";\n\nrouter.use(async (ctx, next) => {\n  const daemonId = String(ctx.query.daemonId);\n  const instanceId = String(ctx.query.instanceId);\n  const userUuid = getUserUuid(ctx);\n  if (isHaveInstanceByUuid(userUuid, daemonId, instanceId)) {\n    await next();\n  } else {\n    throw new Error($t(\"TXT_CODE_eb401a37\"));\n  }\n});\n\nrouter.get(\n  \"/list\",\n  permission({ level: ROLE.USER }),\n  validator({ query: { daemonId: String, instanceId: String } }),\n  async (ctx) => {\n    const daemonId = String(ctx.query.daemonId);\n    const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n    const response = await new RemoteRequest(remoteService).request(\"java_manager/list\");\n    ctx.body = response;\n  }\n);\n\nrouter.post(\n  \"/download\",\n  speedLimit(3),\n  permission({ level: ROLE.ADMIN }),\n  validator({\n    query: {\n      daemonId: String,\n      instanceId: String\n    },\n    body: {\n      name: String,\n      version: String\n    }\n  }),\n  async (ctx) => {\n    const daemonId = String(ctx.query.daemonId);\n    const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n    const response = await new RemoteRequest(remoteService).request(\"java_manager/download\", {\n      name: ctx.request.body.name,\n      version: ctx.request.body.version\n    });\n    ctx.body = response;\n  }\n);\n\nrouter.post(\n  \"/using\",\n  permission({ level: ROLE.USER }),\n  validator({\n    query: {\n      daemonId: String,\n      instanceId: String\n    },\n    body: {\n      id: String\n    }\n  }),\n  async (ctx) => {\n    const daemonId = String(ctx.query.daemonId);\n    const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n\n    const response = await new RemoteRequest(remoteService).request(\"java_manager/using\", {\n      instanceId: ctx.query.instanceId,\n      id: ctx.request.body.id\n    });\n    ctx.body = response;\n  }\n);\n\nrouter.delete(\n  \"/delete\",\n  permission({ level: ROLE.ADMIN }),\n  validator({\n    query: {\n      daemonId: String\n    },\n    body: {\n      id: String\n    }\n  }),\n  async (ctx) => {\n    const daemonId = String(ctx.query.daemonId);\n    const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n\n    const response = await new RemoteRequest(remoteService).request(\"java_manager/delete\", {\n      id: ctx.request.body.id\n    });\n    ctx.body = response;\n  }\n);\n\nexport default router;\n","import Koa from \"koa\";\nimport Router from \"@koa/router\";\nimport validator from \"../middleware/validator\";\nimport permission from \"../middleware/permission\";\nimport { check, login, logout, checkBanIp, loginSuccess } from \"../service/passport_service\";\nimport { systemConfig } from \"../setting\";\nimport userSystem, { TwoFactorError } from \"../service/user_service\";\nimport { logger } from \"../service/log\";\nimport { $t } from \"../i18n\";\nimport axios from \"axios\";\nimport { GlobalVariable } from \"mcsmanager-common\";\nimport { ROLE } from \"../entity/user\";\nimport SystemConfig from \"../entity/setting\";\nimport { operationLogger } from \"../service/operation_logger\";\n\nconst router = new Router({ prefix: \"/auth\" });\n\n// [Public Permission]\n// login route\nrouter.post(\n  \"/login\",\n  permission({ token: false, level: null }),\n  validator({ body: { username: String, password: String } }),\n  async (ctx: Koa.ParameterizedContext) => {\n    const userName = String(ctx.request.body.username);\n    const passWord = String(ctx.request.body.password);\n    const code = String(ctx.request.body.code);\n    if (!checkBanIp(ctx)) throw new Error($t(\"TXT_CODE_router.login.ban\"));\n    if (check(ctx)) return (ctx.body = \"Logined\");\n    try {\n      ctx.body = login(ctx, userName, passWord, code);\n      operationLogger.info(\"user_login\", {\n        operator_ip: ctx.ip,\n        operator_name: userName,\n        login_result: true\n      });\n    } catch (error: any) {\n      if (error instanceof TwoFactorError && !code) {\n        ctx.body = \"NEED_2FA\";\n        return;\n      }\n      ctx.body = error;\n      operationLogger.warning(\"user_login\", {\n        operator_ip: ctx.ip,\n        operator_name: userName,\n        login_result: false\n      });\n    }\n  }\n);\n\n// [Public Permission]\n// exit route\nrouter.get(\n  \"/logout\",\n  permission({ token: false, level: null, speedLimit: false }),\n  async (ctx: Koa.ParameterizedContext) => {\n    logout(ctx);\n    ctx.body = true;\n  }\n);\n\n// [Public Permission]\n// Display the text of the login interface\nrouter.all(\n  \"/login_info\",\n  permission({ token: false, level: null, speedLimit: false }),\n  async (ctx: Koa.ParameterizedContext) => {\n    ctx.body = {\n      loginInfo: systemConfig?.loginInfo\n    };\n  }\n);\n\n// [Public Permission]\n// Get the state information that the panel can expose\nrouter.all(\n  \"/status\",\n  permission({ token: false, level: null, speedLimit: false }),\n  async (ctx: Koa.ParameterizedContext) => {\n    let isInstall = true;\n    if (userSystem.objects.size === 0) {\n      isInstall = false;\n    }\n    ctx.body = {\n      versionChange: GlobalVariable.get(\"versionChange\", null),\n      isInstall,\n      language: systemConfig?.language || null,\n      settings: {\n        canFileManager: systemConfig?.canFileManager || false,\n        allowUsePreset: systemConfig?.allowUsePreset || false,\n        businessMode: systemConfig?.businessMode || false,\n        businessId: systemConfig?.businessId || null,\n        allowChangeCmd: systemConfig?.allowChangeCmd || false,\n        panelId: systemConfig?.panelId || null\n      } as Partial<SystemConfig>\n    };\n  }\n);\n\n// [Public Permission]\n// Install the panel, only available when the number of user entities is 0\nrouter.all(\n  \"/install\",\n  permission({ token: false, level: null }),\n  validator({ body: { username: String, password: String } }),\n  async (ctx: Koa.ParameterizedContext) => {\n    const userName = String(ctx.request.body.username);\n    const passWord = String(ctx.request.body.password);\n    if (userSystem.objects.size === 0) {\n      if (!userSystem.validatePassword(passWord))\n        throw new Error($t(\"TXT_CODE_router.user.passwordCheck\"));\n      logger.info($t(\"TXT_CODE_router.login.init\", { userName }));\n      await userSystem.create({\n        userName,\n        passWord,\n        permission: 10\n      });\n      operationLogger.log(\"user_create\", {\n        operator_ip: ctx.ip,\n        operator_name: userName,\n        target_user_name: userName\n      });\n      login(ctx, userName, passWord);\n      return (ctx.body = true);\n    }\n    throw new Error($t(\"TXT_CODE_router.user.installed\"));\n  }\n);\n\nrouter.all(\n  \"/proxy\",\n  validator({ query: { target: String } }),\n  permission({ level: ROLE.ADMIN }),\n  async (ctx) => {\n    try {\n      const response = await axios.request({\n        method: (ctx.query.method as string) || ctx.method,\n        url: String(ctx.query.target)\n      });\n      if (response.status !== 200) throw new Error(\"Response code != 200\");\n      ctx.body = response.data;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nexport default router;\n","import Koa from \"koa\";\nimport Router from \"@koa/router\";\nimport permission from \"../middleware/permission\";\nimport validator from \"../middleware/validator\";\nimport { register } from \"../service/passport_service\";\nimport userSystem from \"../service/user_service\";\nimport { $t } from \"../i18n\";\nimport { ROLE } from \"../entity/user\";\nimport { operationLogger } from \"../service/operation_logger\";\nimport { error } from \"console\";\n\nconst router = new Router({ prefix: \"/auth\" });\n\n// Add user\nrouter.post(\n  \"/\",\n  permission({ level: ROLE.ADMIN }),\n  validator({ body: { username: String, password: String, permission: Number } }),\n  async (ctx: Koa.ParameterizedContext) => {\n    const userName = String(ctx.request.body.username);\n    const passWord = String(ctx.request.body.password);\n    const permission = Number(ctx.request.body.permission);\n    if (!userSystem.validatePassword(passWord))\n      throw new Error($t(\"TXT_CODE_router.user.invalidPassword\"));\n    if (userSystem.existUserName(userName))\n      throw new Error($t(\"TXT_CODE_router.user.existsUserName\"));\n    operationLogger.log(\"user_create\", {\n      operator_ip: ctx.ip,\n      operator_name: ctx.session?.[\"userName\"],\n      target_user_name: userName\n    });\n    ctx.body = await register(ctx, userName, passWord, permission);\n  }\n);\n\n// Delete user\nrouter.del(\"/\", permission({ level: ROLE.ADMIN }), async (ctx: Koa.ParameterizedContext) => {\n  const uuids = ctx.request.body;\n  try {\n    for (const iterator of uuids) {\n      const user = userSystem.getUserByUuid(iterator);\n      operationLogger.log(\n        \"user_delete\",\n        {\n          operator_ip: ctx.ip,\n          operator_name: ctx.session?.[\"userName\"],\n          target_user_name: user?.userName || \"Unknown\"\n        },\n        \"warning\"\n      );\n      await userSystem.deleteInstance(iterator);\n    }\n    ctx.body = true;\n  } catch (error: any) {\n    ctx.throw(500, $t(\"TXT_CODE_router.user.deleteFailure\") as string);\n  }\n});\n\n// User search function\nrouter.get(\n  \"/search\",\n  permission({ level: ROLE.ADMIN }),\n  validator({ query: { page: Number, page_size: Number } }),\n  async (ctx: Koa.ParameterizedContext) => {\n    // Fix parameter parsing - check if parameters exist before converting\n    const userName = ctx.query.userName ? String(ctx.query.userName) : \"\";\n    const role = ctx.query.role ? String(ctx.query.role) : \"\";\n    const page = Number(ctx.query.page) || 1;\n    const pageSize = Number(ctx.query.page_size) || 10;\n\n    const condition: any = {};\n    if (userName && userName !== \"undefined\") condition[\"userName\"] = `%${userName}%`;\n    if (role && role !== \"undefined\" && role !== \"null\") condition[\"permission\"] = Number(role);\n    let resultPage = userSystem.getQueryWrapper().selectPage(condition, page, pageSize);\n    // make a copy, delete redundant\n    resultPage = JSON.parse(JSON.stringify(resultPage));\n    resultPage.data.forEach((v) => {\n      v.passWord = \"\";\n      v.salt = \"\";\n    });\n    ctx.body = resultPage;\n  }\n);\n\nexport default router;\n","import Router from \"@koa/router\";\nimport { ROLE } from \"../entity/user\";\nimport { $t } from \"../i18n\";\nimport { requestConcurrencyLimiter, speedLimit } from \"../middleware/limit\";\nimport permission from \"../middleware/permission\";\nimport validator from \"../middleware/validator\";\nimport { modManagerService } from \"../service/mod_manager_service\";\nimport { getUserPermission, getUserUuid } from \"../service/passport_service\";\nimport { isHaveInstanceByUuid } from \"../service/permission_service\";\nimport RemoteRequest from \"../service/remote_command\";\nimport RemoteServiceSubsystem from \"../service/remote_service\";\nimport { systemConfig } from \"../setting\";\nimport { checkSafeUrl } from \"../utils/url\";\n\nconst router = new Router({ prefix: \"/mod\" });\n\n// Permission check middleware\nrouter.use(async (ctx, next) => {\n  if (\n    ctx.path === \"/mod/mc_versions\" ||\n    ctx.path === \"/mod/search\" ||\n    ctx.path === \"/mod/info\" ||\n    ctx.path === \"/mod/batch_info\"\n  ) {\n    return await next();\n  }\n\n  const instanceUuid = String(ctx.query.uuid || ctx.request.body?.uuid);\n  const daemonId = String(ctx.query.daemonId || ctx.request.body?.daemonId);\n  const userUuid = getUserUuid(ctx);\n\n  // Check global file manager setting\n  if (systemConfig?.canFileManager === false && getUserPermission(ctx) < 10) {\n    ctx.status = 403;\n    ctx.body = new Error($t(\"TXT_CODE_router.file.off\"));\n    return;\n  }\n\n  // Check instance access\n  if (instanceUuid && daemonId) {\n    if (isHaveInstanceByUuid(userUuid, daemonId, instanceUuid)) {\n      await next();\n    } else {\n      ctx.status = 403;\n      ctx.body = $t(\"TXT_CODE_permission.forbiddenInstance\");\n    }\n  } else {\n    await next();\n  }\n});\n\nrouter.get(\"/mc_versions\", speedLimit(0.5), permission({ level: ROLE.USER }), async (ctx) => {\n  try {\n    const result = await modManagerService.getMinecraftVersions();\n    ctx.body = result;\n  } catch (err) {\n    ctx.body = err;\n  }\n});\n\nrouter.get(\n  \"/list\",\n  speedLimit(0.5),\n  permission({ level: ROLE.USER }),\n  validator({\n    query: { daemonId: String, uuid: String }\n  }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const page = Math.max(1, Number(ctx.query.page) || 1);\n      const pageSize = Math.min(50, Math.max(1, Number(ctx.query.pageSize) || 50));\n      const folder = ctx.query.folder ? String(ctx.query.folder) : undefined;\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"instance/mods/list\", {\n        instanceUuid,\n        page,\n        pageSize,\n        folder: folder || \"\"\n      });\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nrouter.get(\n  \"/info\",\n  speedLimit(0.5),\n  permission({ level: ROLE.USER }),\n  validator({\n    query: { hash: String }\n  }),\n\n  async (ctx) => {\n    try {\n      const hash = String(ctx.query.hash);\n      const result = await modManagerService.getInfoByHash(hash);\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nrouter.get(\n  \"/search\",\n  permission({ level: ROLE.USER }),\n  requestConcurrencyLimiter(\"mod_manager:search\"),\n  async (ctx) => {\n    try {\n      const query = String(ctx.query.query || \"\");\n      const offset = Number(ctx.query.offset) || 0;\n      const limit = Number(ctx.query.limit) || 20;\n      const source = String(ctx.query.source || \"all\");\n      const version = String(ctx.query.version || \"\");\n      const type = String(ctx.query.type || \"all\");\n      const loader = String(ctx.query.loader || \"all\");\n      const environment = String(ctx.query.environment || \"all\");\n\n      if (offset < 0 || offset > 100000) {\n        throw new Error(\"Offset must be between 0 and 100000\");\n      }\n      if (limit < 1 || limit > 50) {\n        throw new Error(\"Limit must be between 1 and 50\");\n      }\n\n      const result = await modManagerService.searchProjects(query, offset, limit, {\n        source,\n        version,\n        type,\n        loader,\n        environment\n      });\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nrouter.get(\n  \"/versions\",\n  speedLimit(1),\n  permission({ level: ROLE.USER }),\n  validator({\n    query: { projectId: String, source: String }\n  }),\n  async (ctx) => {\n    try {\n      const projectId = String(ctx.query.projectId);\n      const source = String(ctx.query.source || \"Modrinth\");\n      const result = await modManagerService.getProjectVersions(projectId, source);\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nrouter.post(\n  \"/download\",\n  permission({ level: ROLE.USER }),\n  speedLimit(5),\n  requestConcurrencyLimiter(\"mod_manager:download\"),\n  validator({\n    body: {\n      daemonId: String,\n      uuid: String,\n      url: String,\n      fileName: String,\n      projectType: String\n    }\n  }),\n  async (ctx) => {\n    try {\n      const { daemonId, uuid, url, fileName, projectType, fallbackUrl, extraInfo } =\n        ctx.request.body;\n\n      // Validate URL to prevent SSRF attacks\n      if (!checkSafeUrl(url)) {\n        ctx.status = 400;\n        ctx.body = new Error(\"Invalid or unsafe URL\");\n        return;\n      }\n\n      // Validate fallbackUrl if provided\n      if (fallbackUrl && !checkSafeUrl(fallbackUrl)) {\n        ctx.status = 400;\n        ctx.body = new Error(\"Invalid or unsafe fallback URL\");\n        return;\n      }\n\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"instance/mods/install\", {\n        instanceUuid: uuid,\n        url,\n        fileName,\n        type: projectType,\n        fallbackUrl,\n        extraInfo\n      });\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nrouter.post(\n  \"/stop_transfer\",\n  speedLimit(1),\n  permission({ level: ROLE.USER }),\n  validator({\n    body: { daemonId: String, uuid: String, fileName: String, type: String }\n  }),\n  async (ctx) => {\n    try {\n      const { daemonId, uuid, fileName, type, uploadId } = ctx.request.body;\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      if (type === \"download\") {\n        const result = await new RemoteRequest(remoteService).request(\"file/download_stop\", {\n          instanceUuid: uuid,\n          fileName\n        });\n        ctx.body = result;\n      } else {\n        // Upload stop is handled by deleting the file or specific upload task\n        const result = await new RemoteRequest(remoteService).request(\"file/delete\", {\n          instanceUuid: uuid,\n          targets: [fileName]\n        });\n        ctx.body = result;\n      }\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nrouter.get(\n  \"/config_files\",\n  speedLimit(0.5),\n  permission({ level: ROLE.USER }),\n  validator({\n    query: { daemonId: String, uuid: String, modId: String, type: String, fileName: String }\n  }),\n  async (ctx) => {\n    try {\n      const { daemonId, uuid, modId, type, fileName } = ctx.query;\n      const remoteService = RemoteServiceSubsystem.getInstance(String(daemonId));\n      const result = await new RemoteRequest(remoteService).request(\"instance/mods/config_files\", {\n        instanceUuid: uuid,\n        modId,\n        type,\n        fileName\n      });\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nrouter.post(\n  \"/toggle\",\n  speedLimit(0.5),\n  permission({ level: ROLE.USER }),\n  validator({\n    body: { daemonId: String, uuid: String, fileName: String }\n  }),\n  async (ctx) => {\n    try {\n      const { daemonId, uuid, fileName } = ctx.request.body;\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"instance/mods/toggle\", {\n        instanceUuid: uuid,\n        fileName\n      });\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nrouter.post(\n  \"/delete\",\n  speedLimit(1),\n  permission({ level: ROLE.USER }),\n  validator({\n    body: { daemonId: String, uuid: String, fileName: String }\n  }),\n  async (ctx) => {\n    try {\n      const { daemonId, uuid, fileName } = ctx.request.body;\n      const remoteService = RemoteServiceSubsystem.getInstance(daemonId);\n      const result = await new RemoteRequest(remoteService).request(\"instance/mods/delete\", {\n        instanceUuid: uuid,\n        fileName\n      });\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nrouter.post(\n  \"/batch_info\",\n  speedLimit(0.1),\n  permission({ level: ROLE.USER }),\n  validator({\n    body: { hashes: Array }\n  }),\n  async (ctx) => {\n    try {\n      const hashes = ctx.request.body.hashes as string[];\n      const result = await modManagerService.getInfosByHashes(hashes);\n      ctx.body = result;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nexport default router;\n","import Router from \"@koa/router\";\nimport { GlobalVariable, systemInfo } from \"mcsmanager-common\";\nimport os from \"os\";\nimport { ROLE } from \"../entity/user\";\nimport permission from \"../middleware/permission\";\nimport { operationLogger } from \"../service/operation_logger\";\nimport {\n  BAN_IP_COUNT,\n  ILLEGAL_ACCESS_KEY,\n  LOGIN_COUNT,\n  LOGIN_FAILED_COUNT_KEY\n} from \"../service/passport_service\";\nimport RemoteRequest from \"../service/remote_command\";\nimport RemoteServiceSubsystem from \"../service/remote_service\";\nimport VisualDataSubsystem from \"../service/visual_data\";\nimport { getVersion, specifiedDaemonVersion } from \"../version\";\n\nconst router = new Router({ prefix: \"/overview\" });\n\n// [Top-level Permission]\n// Control panel home page information overview routing\nrouter.get(\"/\", permission({ level: ROLE.ADMIN, token: false }), async (ctx) => {\n  // Get the information of the remote service concurrently\n  const requestTasks = Array.from(RemoteServiceSubsystem.services.entries()).map(\n    async ([_, remoteService]) => {\n      let remoteInfo: any = {};\n      try {\n        remoteInfo = await new RemoteRequest(remoteService).request(\"info/overview\");\n      } catch (err) {\n        // ignore request errors and continue looping\n      }\n      // assign some identifier value\n      remoteInfo.uuid = remoteService.uuid;\n      remoteInfo.ip = remoteService.config.ip;\n      remoteInfo.port = remoteService.config.port;\n      remoteInfo.prefix = remoteService.config.prefix;\n      remoteInfo.available = remoteService.available;\n      remoteInfo.remarks = remoteService.config.remarks;\n      remoteInfo.remoteMappings = remoteService.config.remoteMappings;\n      return remoteInfo;\n    }\n  );\n\n  const remoteInfoList = await Promise.all(requestTasks);\n  const selfInfo = systemInfo();\n  // Get the information of the system where the panel is located\n  const overviewData: IPanelOverviewResponse = {\n    version: getVersion(),\n    specifiedDaemonVersion: specifiedDaemonVersion(),\n    process: {\n      cpu: selfInfo.processCpu,\n      memory: process.memoryUsage().rss,\n      cwd: selfInfo.cwd\n    },\n    record: {\n      logined: GlobalVariable.get(LOGIN_COUNT, 0),\n      illegalAccess: GlobalVariable.get(ILLEGAL_ACCESS_KEY, 0),\n      banips: GlobalVariable.get(BAN_IP_COUNT, 0),\n      loginFailed: GlobalVariable.get(LOGIN_FAILED_COUNT_KEY, 0)\n    },\n    system: {\n      user: os.userInfo(),\n      time: new Date().getTime(),\n      totalmem: selfInfo.totalmem,\n      freemem: selfInfo.freemem,\n      type: selfInfo.type,\n      version: os.version(),\n      node: process.version,\n      hostname: selfInfo.hostname,\n      loadavg: selfInfo.loadavg,\n      platform: selfInfo.platform,\n      release: selfInfo.release,\n      uptime: os.uptime(),\n      cpu: selfInfo.cpuUsage\n    },\n    chart: {\n      system: VisualDataSubsystem.getSystemChartArray(),\n      request: VisualDataSubsystem.getStatusChartArray()\n    },\n    remoteCount: RemoteServiceSubsystem.count(),\n    remote: remoteInfoList\n  };\n\n  ctx.body = overviewData;\n});\n\n// [Top-level Permission]\n// Get user operation logs\nrouter.get(\"/operation_logs\", permission({ level: ROLE.ADMIN }), async (ctx) => {\n  const limit = +(ctx?.query?.limit || 20);\n\n  if (isNaN(limit)) return ctx.throw(400, \"Invalid limit value. It must be a number.\");\n\n  if (limit <= 0 || limit > 200)\n    return ctx.throw(400, \"Invalid limit value. It must be between 1 and 200.\");\n\n  ctx.body = await operationLogger.get(limit);\n});\n\nexport default router;\n","import Router from \"@koa/router\";\nimport { FILENAME_BLACKLIST } from \"../const\";\nimport { ROLE } from \"../entity/user\";\nimport { $t } from \"../i18n\";\nimport permission from \"../middleware/permission\";\nimport validator from \"../middleware/validator\";\nimport { operationLogger } from \"../service/operation_logger\";\nimport { getUserUuid } from \"../service/passport_service\";\nimport { isHaveInstanceByUuid } from \"../service/permission_service\";\nimport RemoteRequest from \"../service/remote_command\";\nimport RemoteServiceSubsystem from \"../service/remote_service\";\nconst router = new Router({ prefix: \"/protected_schedule\" });\n\n// Routing permission verification middleware\nrouter.use(async (ctx, next) => {\n  const instanceUuid = String(ctx.query.uuid);\n  const daemonId = String(ctx.query.daemonId);\n  const userUuid = getUserUuid(ctx);\n  if (isHaveInstanceByUuid(userUuid, daemonId, instanceUuid)) {\n    await next();\n  } else {\n    ctx.status = 403;\n    ctx.body = $t(\"TXT_CODE_permission.forbiddenInstance\");\n  }\n});\n\n// [Low-level Permission]\n// Get the list of scheduled tasks\nrouter.get(\n  \"/\",\n  permission({ level: ROLE.USER }),\n  validator({ query: { daemonId: String, uuid: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const list = await new RemoteRequest(RemoteServiceSubsystem.getInstance(daemonId)).request(\n        \"schedule/list\",\n        {\n          instanceUuid\n        }\n      );\n      ctx.body = list;\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\n// [Low-level Permission]\n// create a scheduled task\nrouter.post(\n  \"/\",\n  permission({ level: ROLE.USER }),\n  validator({\n    query: { daemonId: String, uuid: String },\n    body: { name: String, count: Number, time: String, actions: Array, type: Number }\n  }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const task = ctx.request.body;\n\n      // Scheduled task name needs file name format check\n      const name = String(task.name);\n      FILENAME_BLACKLIST.forEach((ch) => {\n        if (name.includes(ch)) throw new Error($t(\"TXT_CODE_router.schedule.invalidName\"));\n      });\n\n      operationLogger.log(\"instance_task_create\", {\n        operator_ip: ctx.ip,\n        operator_name: ctx.session?.[\"userName\"],\n        instance_id: instanceUuid,\n        daemon_id: daemonId,\n        task_name: name\n      });\n\n      ctx.body = await new RemoteRequest(RemoteServiceSubsystem.getInstance(daemonId)).request(\n        \"schedule/register\",\n        {\n          instanceUuid,\n          name,\n          count: Number(task.count),\n          time: String(task.time),\n          actions: task.actions,\n          type: Number(task.type)\n        }\n      );\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\n// [Low-level Permission]\n// delete scheduled task\nrouter.delete(\n  \"/\",\n  permission({ level: ROLE.USER }),\n  validator({ query: { daemonId: String, uuid: String } }),\n  async (ctx) => {\n    try {\n      const daemonId = String(ctx.query.daemonId);\n      const instanceUuid = String(ctx.query.uuid);\n      const name = String(ctx.query.task_name);\n\n      operationLogger.log(\"instance_task_delete\", {\n        operator_ip: ctx.ip,\n        operator_name: ctx.session?.[\"userName\"],\n        instance_id: instanceUuid,\n        daemon_id: daemonId,\n        task_name: name\n      });\n\n      ctx.body = await new RemoteRequest(RemoteServiceSubsystem.getInstance(daemonId)).request(\n        \"schedule/delete\",\n        {\n          instanceUuid,\n          name\n        }\n      );\n    } catch (err) {\n      ctx.body = err;\n    }\n  }\n);\n\nexport default router;\n","import Router from \"@koa/router\";\nimport formidable from \"formidable\";\nimport * as fs from \"fs-extra\";\nimport path from \"path\";\nimport { v4 } from \"uuid\";\nimport FileManager from \"../../../../daemon/src/service/system_file\";\nimport { MARKET_CACHE_FILE_PATH, SAVE_DIR_PATH } from \"../const\";\nimport SystemConfig from \"../entity/setting\";\nimport { ROLE } from \"../entity/user\";\nimport { $t, i18next } from \"../i18n\";\nimport { speedLimit } from \"../middleware/limit\";\nimport permission from \"../middleware/permission\";\nimport {\n  getFrontendLayoutConfig,\n  resetFrontendLayoutConfig,\n  setFrontendLayoutConfig\n} from \"../service/frontend_layout\";\nimport { logger } from \"../service/log\";\nimport { operationLogger } from \"../service/operation_logger\";\nimport remoteService from \"../service/remote_service\";\nimport userSystem from \"../service/user_service\";\nimport { saveSystemConfig, systemConfig } from \"../setting\";\nimport { checkBusinessMode } from \"../version\";\n\nconst router = new Router({ prefix: \"/overview\" });\n\n// [Top-level Permission]\n// Get panel configuration items\nrouter.get(\"/setting\", permission({ level: ROLE.ADMIN }), async (ctx) => {\n  ctx.body = systemConfig;\n});\n\n// [Top-level Permission]\n// Update panel configuration items\nrouter.put(\"/setting\", permission({ level: ROLE.ADMIN }), async (ctx) => {\n  const config = ctx.request.body as Partial<SystemConfig>;\n  if (config && systemConfig) {\n    if (config.httpIp != null) systemConfig.httpIp = config.httpIp;\n    if (config.httpPort != null) systemConfig.httpPort = config.httpPort;\n    if (config.prefix != null) systemConfig.prefix = config.prefix;\n    if (config.reverseProxyMode != null) {\n      systemConfig.reverseProxyMode = Boolean(config.reverseProxyMode);\n      ctx.app.proxy = systemConfig.reverseProxyMode;\n    }\n    if (config.crossDomain != null) systemConfig.crossDomain = config.crossDomain;\n    if (config.gzip != null) systemConfig.gzip = config.gzip;\n    if (config.maxCompress != null) systemConfig.maxCompress = config.maxCompress;\n    if (config.maxDownload != null) systemConfig.maxDownload = config.maxDownload;\n    if (config.zipType != null) systemConfig.zipType = config.zipType;\n    if (config.totpDriftToleranceSteps != null)\n      systemConfig.totpDriftToleranceSteps = config.totpDriftToleranceSteps;\n    if (config.loginCheckIp != null) systemConfig.loginCheckIp = config.loginCheckIp;\n    if (config.forwardType != null) systemConfig.forwardType = Number(config.forwardType);\n    if (config.dataPort != null) systemConfig.dataPort = Number(config.dataPort);\n    if (config.loginInfo != null) systemConfig.loginInfo = String(config.loginInfo);\n    if (config.canFileManager != null) systemConfig.canFileManager = Boolean(config.canFileManager);\n    if (config.allowUsePreset != null) systemConfig.allowUsePreset = Boolean(config.allowUsePreset);\n\n    if (config.businessMode != null) systemConfig.businessMode = Boolean(config.businessMode);\n    if (config.businessId != null) systemConfig.businessId = String(config.businessId);\n    if (config.allowChangeCmd != null) systemConfig.allowChangeCmd = Boolean(config.allowChangeCmd);\n    if (config.registerCode != null) systemConfig.registerCode = String(config.registerCode);\n    if (config.panelId != null) systemConfig.panelId = String(config.panelId);\n\n    if (config.presetPackAddr != null) {\n      // clear cache\n      fs.remove(MARKET_CACHE_FILE_PATH).catch((err) => {\n        logger.warn(`Failed to clear preset pack cache file at ${MARKET_CACHE_FILE_PATH}: ${err}`);\n      });\n      systemConfig.presetPackAddr = String(config.presetPackAddr);\n    }\n\n    if (config.language != null) {\n      logger.warn($t(\"TXT_CODE_e29a9317\"), config.language);\n      systemConfig.language = String(config.language);\n      await i18next.changeLanguage(systemConfig.language.toLowerCase());\n      remoteService.changeDaemonLanguage(systemConfig.language);\n    }\n\n    operationLogger.log(\"system_config_change\", {\n      operator_ip: ctx.ip,\n      operator_name: ctx.session?.[\"userName\"]\n    });\n\n    saveSystemConfig(systemConfig);\n    checkBusinessMode();\n    ctx.body = \"OK\";\n    return;\n  }\n  ctx.body = new Error($t(\"TXT_CODE_e4d6cc20\"));\n});\n\n// [Public Permission]\n// Update config when install\nrouter.put(\"/install\", async (ctx) => {\n  const config = ctx.request.body;\n  if (userSystem.objects.size === 0 && systemConfig) {\n    if (config.language != null) {\n      logger.warn($t(\"TXT_CODE_e29a9317\"), config.language);\n      systemConfig.language = String(config.language);\n      i18next.changeLanguage(systemConfig.language.toLowerCase());\n      remoteService.changeDaemonLanguage(systemConfig.language);\n    }\n    saveSystemConfig(systemConfig);\n    ctx.body = \"OK\";\n    return;\n  }\n  ctx.body = new Error($t(\"TXT_CODE_d37f0418\"));\n});\n\n// [Public router]\nrouter.get(\"/layout\", async (ctx) => {\n  ctx.body = getFrontendLayoutConfig();\n});\n\n// [Top-level Permission]\n// Set frontend layout\nrouter.post(\"/layout\", permission({ level: ROLE.ADMIN }), async (ctx) => {\n  const config = ctx.request.body;\n  setFrontendLayoutConfig(config);\n  ctx.body = true;\n});\n\n// [Top-level Permission]\n// Reset frontend layout\nrouter.delete(\"/layout\", permission({ level: ROLE.ADMIN }), async (ctx) => {\n  resetFrontendLayoutConfig();\n  ctx.body = true;\n});\n\n// [Top-level Permission]\n// Upload file to asserts directory, only administrator can upload\nrouter.post(\"/upload_assets\", permission({ level: ROLE.ADMIN }), async (ctx) => {\n  let files = ctx.request.files?.file;\n  let tmpFile: formidable.File | undefined;\n  if (Array.isArray(files)) {\n    tmpFile = files[0];\n  } else {\n    tmpFile = files;\n  }\n  try {\n    if (!tmpFile) throw new Error($t(\"TXT_CODE_e4d6cc20\"));\n    if (!tmpFile.filepath || !fs.existsSync(tmpFile.filepath))\n      throw new Error($t(\"TXT_CODE_1a499109\"));\n    const newFileName = v4() + path.extname(tmpFile.originalFilename || \"\");\n    if (!FileManager.checkFileName(newFileName))\n      throw new Error(\"Access denied: Malformed file name\");\n    const saveDirPath = path.join(process.cwd(), SAVE_DIR_PATH);\n    if (!fs.existsSync(saveDirPath)) fs.mkdirsSync(saveDirPath);\n    await fs.move(tmpFile.filepath, path.join(saveDirPath, newFileName));\n    ctx.body = newFileName;\n  } finally {\n    if (Array.isArray(files)) {\n      files.forEach((v) => {\n        if (v?.filepath) fs.remove(v.filepath, () => {});\n      });\n    } else {\n      if (tmpFile?.filepath) fs.remove(tmpFile.filepath, () => {});\n    }\n  }\n});\n\nrouter.post(\n  \"/refresh_business_mode\",\n  speedLimit(5),\n  permission({ level: ROLE.ADMIN }),\n  async (ctx) => {\n    await checkBusinessMode();\n    ctx.body = \"OK\";\n  }\n);\n\nexport default router;\n","import Koa from \"koa\";\nimport Router from \"@koa/router\";\nimport permission from \"../middleware/permission\";\nimport userSystem from \"../service/user_service\";\nimport { ICompleteUser } from \"../entity/entity_interface\";\nimport { $t } from \"../i18n\";\nimport { ROLE } from \"../entity/user\";\n\nconst router = new Router({ prefix: \"/auth\" });\n\n// [Top-level Permission]\nrouter.put(\"/\", permission({ level: ROLE.ADMIN }), async (ctx: Koa.ParameterizedContext) => {\n  const { uuid, config } = ctx.request.body;\n  const { passWord } = config;\n  if (passWord && !userSystem.validatePassword(passWord))\n    throw new Error($t(\"TXT_CODE_router.user.passwordCheck\"));\n  try {\n    // If the administrator resets the user's password, 2FA is automatically turned off.\n    if (passWord) {\n      config.secret = \"\";\n      config.open2FA = false;\n    }\n    await userSystem.edit(uuid, config);\n    ctx.body = true;\n  } catch (error: any) {\n    ctx.throw(500, error.message);\n  }\n});\n\n// [Top-level Permission]\nrouter.get(\n  \"/overview\",\n  permission({ level: ROLE.ADMIN }),\n  async (ctx: Koa.ParameterizedContext) => {\n    const users: Array<ICompleteUser> = [];\n    userSystem.objects.forEach((user) => {\n      users.push({\n        uuid: user.uuid,\n        userName: user.userName,\n        permission: user.permission,\n        instances: user.instances,\n        loginTime: user.loginTime,\n        registerTime: user.loginTime\n      });\n    });\n    ctx.body = users;\n  }\n);\n\nexport default router;\n","import { v4 } from \"uuid\";\n\nexport class UniversalRemoteSubsystem<T> {\n  public readonly services: Map<string, T>;\n\n  constructor() {\n    this.services = new Map<string, T>();\n  }\n\n  setInstance(uuid: string, object: T): void {\n    if (this.services.get(uuid)) throw new Error(\"Instance already exists\");\n    this.services.set(uuid, object);\n  }\n\n  getInstance(uuid: string) {\n    return this.services.get(uuid);\n  }\n\n  deleteInstance(uuid: string) {\n    return this.services.delete(uuid);\n  }\n\n  randdomUuid() {\n    return v4().replace(/-/gim, \"\");\n  }\n}\n","import axios from \"axios\";\nimport { t } from \"i18next\";\nimport { toNumber, toText } from \"mcsmanager-common\";\nimport { customAlphabet } from \"nanoid\";\nimport { $t } from \"../i18n\";\nimport RemoteRequest from \"../service/remote_command\";\nimport RemoteServiceSubsystem from \"../service/remote_service\";\nimport user_service from \"../service/user_service\";\nimport { getInstancesByUuid, IAdvancedInstanceInfo } from \"./instance_service\";\n\n// A commercial platform for selling instances released by the MCSManager Dev Team.\n// Currently, it only supports some countries and regions.\n// If you do not turn on \"Commercial Mode\", MCSManager will not send any data.\n// export const REDEEM_PLATFORM_ADDR = \"https://redeem.mcsmanager.com\";\nexport const REDEEM_PLATFORM_ADDR = \"http://localhost:3000\";\n\n// ------- Protocol Define -------\n\nexport interface IRedeemResponseProtocol<T> {\n  code: number;\n  message: string;\n  data: T;\n}\n\nexport interface INodeStatusProtocol {\n  name: string;\n  id: string;\n  ip: string;\n  port: number;\n  available: boolean;\n  running: number;\n  instances: number;\n}\n\nexport interface IInstanceInfoProtocol {\n  instance_id: string;\n  name: string;\n  expire: number;\n  status: number;\n  lines: Array<{ title: string; value: any }>;\n  ports: IPortInfo[];\n}\n\nexport interface IBuyResponseProtocol {\n  instance_id: string;\n  instance_config: any;\n  username: string;\n  password: string;\n  uuid: string;\n  expire: number;\n  instance_info?: IInstanceInfoProtocol;\n}\n\nexport interface IBuyRequestProtocol {\n  category_id: number;\n  node_id: string;\n  username: string;\n  hours: number;\n  payload: Partial<IGlobalInstanceConfig>;\n  code?: string;\n  instance_id?: string;\n}\n\nexport enum RequestAction {\n  BUY = \"buy\",\n  RENEW = \"renew\",\n  QUERY_INSTANCE = \"query_instance\",\n  PING = \"ping\",\n  SSO_TOKEN = \"sso_token\"\n}\n\nexport interface IPortInfo {\n  host: number;\n  container: number;\n  protocol: string;\n}\n\n// ------- Define End ------\n\nconst getNanoId = customAlphabet(\n  \"1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\",\n  6\n);\n\nexport async function requestUseRedeem(\n  panelId: string,\n  registerCode: string,\n  productId: string | number,\n  daemonId: string,\n  code: string,\n  isDelete?: boolean\n) {\n  const { data: responseData } = await axios.post<IRedeemResponseProtocol<IBusinessProductInfo>>(\n    `${REDEEM_PLATFORM_ADDR}/api/iframe_instances/use_redeem`,\n    {\n      panelId,\n      registerCode,\n      productId,\n      daemonId,\n      code,\n      isDelete\n    },\n    {\n      headers: {\n        \"X-Panel-Id\": panelId,\n        \"X-Register-Code\": registerCode\n      }\n    }\n  );\n  if (responseData.code !== 200) {\n    throw new Error(responseData.message);\n  }\n  return responseData.data;\n}\n\nfunction formatInstanceData(instance: IAdvancedInstanceInfo): IInstanceInfoProtocol {\n  let ports: string[] = instance.docker?.ports ?? [];\n  let portRules: Array<IPortInfo> = [];\n  if (ports?.length > 0) {\n    ports.forEach((line: string) => {\n      // line = \"23333:24444/tcp\"\n      const [ports, protocol] = line.split(\"/\");\n      if (!ports || !protocol) return;\n      const [host, container] = ports.split(\":\");\n      if (isNaN(Number(container)) || isNaN(Number(host))) return;\n      portRules.push({\n        protocol,\n        container: Number(container),\n        host: Number(host)\n      });\n    });\n  }\n  const lines = [];\n  if (instance.info?.maxPlayers && Number(instance.info?.maxPlayers) != -1) {\n    lines.push({\n      title: t(\"TXT_CODE_7e9727bd\"),\n      value: `${instance.info?.currentPlayers}/${instance.info?.maxPlayers}`\n    });\n  }\n  return {\n    instance_id: instance.instanceUuid,\n    name: instance.nickname || \"\",\n    status: instance.status || 0,\n    ports: portRules,\n    expire: instance.endTime || 0,\n    lines\n  };\n}\n\nexport function parseUserName(t?: string) {\n  if (!t || typeof t !== \"string\") return \"\";\n  return toText(t) ?? \"\";\n}\n\nexport async function buyOrRenewInstance(\n  request_action: RequestAction,\n  params: IBuyRequestProtocol,\n  handler: {\n    onCreateConfirm?: (instanceId: string) => Promise<void>;\n  } = {}\n): Promise<IBuyResponseProtocol> {\n  const node_id = toText(params.node_id) ?? \"\";\n  const instance_id = toText(params.instance_id) ?? \"\";\n  const username = parseUserName(params.username);\n  const hours = toNumber(params.hours) ?? 0;\n  const payload: Partial<IGlobalInstanceConfig> = params.payload ?? {};\n\n  const remoteService = RemoteServiceSubsystem.getInstance(node_id || \"\");\n  if (!remoteService?.available) {\n    throw new Error(t(\"TXT_CODE_bed32084\"));\n  }\n\n  const remoteRequest = new RemoteRequest(remoteService);\n\n  if (request_action === RequestAction.BUY) {\n    payload.category = params.category_id || 0;\n    payload.endTime =\n      (payload.endTime ? Number(payload.endTime) : Date.now()) + hours * 3600 * 1000;\n\n    if (username.length < 4) {\n      throw new Error($t(\"TXT_CODE_router.user.invalidUserName\"));\n    }\n\n    payload.nickname = \"App-\" + username + \"-\" + getNanoId(6);\n    const { instanceUuid: newInstanceId, config: newInstanceConfig } = await remoteRequest.request(\n      \"instance/new\",\n      payload\n    );\n    if (!newInstanceId) throw new Error(t(\"TXT_CODE_728fdabf\"));\n\n    let user = user_service.getUserByUserName(username);\n    let newPassword = \"\";\n\n    await handler.onCreateConfirm?.(newInstanceId);\n\n    if (user) {\n      await user_service.edit(user.uuid, {\n        instances: [\n          ...user.instances,\n          {\n            instanceUuid: newInstanceId,\n            daemonId: node_id\n          }\n        ]\n      });\n    } else {\n      newPassword = getNanoId(12);\n      user = await user_service.create({\n        userName: username,\n        passWord: newPassword,\n        permission: 1,\n        instances: [\n          {\n            instanceUuid: newInstanceId,\n            daemonId: node_id\n          }\n        ]\n      });\n    }\n\n    return {\n      instance_id: newInstanceId,\n      instance_config: newInstanceConfig,\n      username: user.userName,\n      password: newPassword,\n      uuid: user.uuid,\n      expire: toNumber(newInstanceConfig.endTime) || 0,\n      instance_info: formatInstanceData(newInstanceConfig)\n    };\n  }\n\n  if (request_action === RequestAction.RENEW) {\n    const instanceInfo = await remoteRequest.request(\"instance/detail\", {\n      instanceUuid: instance_id\n    });\n\n    const config: IGlobalInstanceConfig = instanceInfo.config || {};\n\n    if (!config.category || isNaN(Number(config.category))) {\n      throw new Error(t(\"TXT_CODE_ed81f72d\"));\n    }\n\n    if (config.category !== Number(params.category_id)) {\n      throw new Error(t(\"TXT_CODE_c5b38d90\"));\n    }\n\n    if (!config) throw new Error(t(\"TXT_CODE_348c9098\"));\n\n    const curExpireTime = Number(config.endTime);\n    if (!curExpireTime || isNaN(curExpireTime) || curExpireTime < Date.now()) {\n      config.endTime = Date.now() + hours * 3600 * 1000;\n    } else {\n      config.endTime = curExpireTime + hours * 3600 * 1000;\n    }\n\n    await handler.onCreateConfirm?.(instance_id);\n\n    await remoteRequest.request(\"instance/update\", {\n      instanceUuid: instance_id,\n      config: config\n    });\n\n    return {\n      instance_id,\n      instance_config: config,\n      expire: toNumber(config.endTime) || 0,\n      username: \"\",\n      password: \"\",\n      uuid: \"\"\n    };\n  }\n\n  throw new Error(t(\"TXT_CODE_4aaec75c\"));\n}\n\nexport async function queryInstanceByUserId(\n  params: Record<string, any>\n): Promise<IInstanceInfoProtocol[]> {\n  const name = parseUserName(params.username) || \"\";\n  const targetDaemonId = toText(params.node_id) ?? undefined;\n  const user = user_service.getUserByUserName(name);\n  if (!user) throw new Error(t(\"TXT_CODE_903b6c50\"));\n\n  const { instances = [] } = await getInstancesByUuid(user.uuid, targetDaemonId, true);\n  const newInstancesInfo = instances.map((v) => {\n    return formatInstanceData(v);\n  });\n  return newInstancesInfo;\n}\n\nexport async function getNodeStatus(params: Record<string, any>): Promise<INodeStatusProtocol> {\n  const nodeId = toText(params.node_id) ?? \"\";\n  const remoteService = RemoteServiceSubsystem.getInstance(nodeId);\n  if (!remoteService?.available) {\n    throw new Error(t(\"TXT_CODE_bed32084\"));\n  }\n  const remoteRequest = new RemoteRequest(remoteService);\n  const remoteInfo = await remoteRequest.request(\"info/overview\");\n  remoteInfo.uuid = remoteService.uuid;\n  remoteInfo.available = remoteService.available;\n\n  remoteInfo.ip = remoteService.config?.ip;\n  remoteInfo.port = remoteService.config?.port;\n  remoteInfo.prefix = remoteService.config?.prefix;\n  remoteInfo.remarks = remoteService.config?.remarks;\n\n  return {\n    name: String(remoteInfo.remarks),\n    id: String(remoteInfo.uuid),\n    ip: String(remoteInfo.ip),\n    port: Number(remoteInfo.port),\n    available: Boolean(remoteInfo.available),\n    running: Number(remoteInfo.instance.running),\n    instances: Number(remoteInfo.instance.total)\n  };\n}\n","import fs from \"fs-extra\";\nimport { GlobalVariable } from \"mcsmanager-common\";\nimport path from \"path\";\nimport { v4 } from \"uuid\";\nimport storage from \"../common/system_storage\";\nimport { SAVE_DIR_PATH } from \"../const\";\nimport { $t as t } from \"../i18n\";\n\nconst LAYOUT_CONFIG_NAME = \"layout.json\";\n\nfunction getRandomId() {\n  return v4();\n}\n\nexport function getFrontendLayoutConfig(): string {\n  let layoutConfig: string = \"\";\n  if (storage.fileExists(LAYOUT_CONFIG_NAME)) {\n    layoutConfig = storage.readFile(LAYOUT_CONFIG_NAME);\n  }\n  if (layoutConfig) {\n    if (GlobalVariable.get(\"versionChange\")) {\n      const latestLayoutConfig = getDefaultFrontendLayoutConfig();\n      const currentLayoutConfig = JSON.parse(layoutConfig) as IPageLayoutConfig[];\n      for (const page of latestLayoutConfig) {\n        if (!currentLayoutConfig.find((item) => item.page === page.page)) {\n          currentLayoutConfig.push(page);\n        }\n      }\n      GlobalVariable.set(\"versionChange\", null);\n      setFrontendLayoutConfig(currentLayoutConfig);\n      return JSON.stringify(currentLayoutConfig);\n    }\n    return layoutConfig as string;\n  } else {\n    return JSON.stringify(getDefaultFrontendLayoutConfig());\n  }\n}\n\nexport function setFrontendLayoutConfig(config: IPageLayoutConfig[]) {\n  storage.writeFile(LAYOUT_CONFIG_NAME, JSON.stringify(config, null, 2));\n}\n\nexport function resetFrontendLayoutConfig() {\n  storage.deleteFile(LAYOUT_CONFIG_NAME);\n  const filesDir = path.join(process.cwd(), SAVE_DIR_PATH);\n  if (fs.existsSync(filesDir)) {\n    for (const fileName of fs.readdirSync(filesDir)) {\n      fs.remove(path.join(filesDir, fileName), () => {});\n    }\n  }\n}\n\nexport enum LayoutCardHeight {\n  MINI = \"100px\",\n  SMALL = \"200px\",\n  MEDIUM = \"400px\",\n  BIG = \"600px\",\n  LARGE = \"800px\",\n  AUTO = \"unset\"\n}\n\nfunction getDefaultFrontendLayoutConfig(): IPageLayoutConfig[] {\n  return [\n    {\n      page: \"__settings__\",\n      items: [],\n      theme: {\n        pageTitle: \"MCSManager Panel\",\n        logoImage: \"\",\n        backgroundImage: \"\"\n      }\n    },\n    {\n      page: \"/overview\",\n      items: [\n        {\n          id: getRandomId(),\n          type: \"StatusBlock\",\n          title: t(\"TXT_CODE_e627e546\"),\n          meta: {\n            type: \"node\"\n          },\n          width: 3,\n          description: t(\"TXT_CODE_55ade942\"),\n          height: LayoutCardHeight.SMALL\n        },\n        {\n          id: getRandomId(),\n          type: \"StatusBlock\",\n          title: t(\"TXT_CODE_88e9361a\"),\n          meta: {\n            type: \"instance\"\n          },\n          width: 3,\n          description: t(\"TXT_CODE_55ade942\"),\n          height: LayoutCardHeight.SMALL\n        },\n        {\n          id: getRandomId(),\n          type: \"StatusBlock\",\n          title: t(\"TXT_CODE_db64faf6\"),\n          meta: {\n            type: \"users\"\n          },\n          width: 3,\n          description: t(\"TXT_CODE_55ade942\"),\n          height: LayoutCardHeight.SMALL\n        },\n        {\n          id: getRandomId(),\n          type: \"StatusBlock\",\n          title: t(\"TXT_CODE_66056676\"),\n          meta: {\n            type: \"system\"\n          },\n          width: 3,\n          description: t(\"TXT_CODE_55ade942\"),\n          height: LayoutCardHeight.SMALL\n        },\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"DataOverview\",\n          title: t(\"TXT_CODE_721157a3\"),\n          width: 12,\n          description: t(\"TXT_CODE_55ade942\"),\n          height: LayoutCardHeight.MEDIUM\n        },\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"RequestChart\",\n          title: t(\"TXT_CODE_a4037a98\"),\n          width: 6,\n          description: t(\"TXT_CODE_55ade942\"),\n          height: LayoutCardHeight.SMALL\n        },\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"InstanceChart\",\n          title: t(\"TXT_CODE_d6d9c42c\"),\n          width: 6,\n          description: t(\"TXT_CODE_55ade942\"),\n          height: LayoutCardHeight.SMALL\n        },\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"OperationLogCard\",\n          title: t(\"TXT_CODE_f6a33629\"),\n          width: 4,\n          description: t(\"TXT_CODE_9e8c176e\"),\n          height: LayoutCardHeight.MEDIUM\n        },\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"NodeOverview\",\n          title: t(\"TXT_CODE_bfb50126\"),\n          width: 8,\n          description: t(\"TXT_CODE_55ade942\"),\n          height: LayoutCardHeight.MEDIUM\n        }\n      ]\n    },\n    {\n      page: \"/market\",\n      items: [\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"Market\",\n          title: t(\"TXT_CODE_88249aee\"),\n          width: 12,\n          height: LayoutCardHeight.AUTO,\n          disableDelete: true\n        },\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"EmptyCard\",\n          title: \"\",\n          width: 12,\n          height: LayoutCardHeight.MINI\n        }\n      ]\n    },\n    {\n      page: \"/market/editor\",\n      items: [\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"MarketEditor\",\n          title: t(\"TXT_CODE_54275b9c\"),\n          width: 12,\n          height: LayoutCardHeight.AUTO,\n          disableDelete: true\n        },\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"EmptyCard\",\n          title: \"\",\n          width: 12,\n          height: LayoutCardHeight.MINI\n        }\n      ]\n    },\n    {\n      page: \"/instances\",\n      items: [\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"InstanceList\",\n          title: t(\"TXT_CODE_e21473bc\"),\n          width: 12,\n          height: LayoutCardHeight.AUTO,\n          disableDelete: true\n        },\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"EmptyCard\",\n          title: \"\",\n          width: 12,\n          height: LayoutCardHeight.MINI\n        }\n      ]\n    },\n    {\n      page: \"/instances/terminal\",\n      items: [\n        {\n          id: getRandomId(),\n          meta: {\n            viewType: \"inner\"\n          },\n          type: \"Terminal\",\n          title: t(\"TXT_CODE_4ccdd3a0\"),\n          width: 12,\n          height: LayoutCardHeight.BIG,\n          disableDelete: true\n        },\n\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"InstanceBaseInfo\",\n          title: t(\"TXT_CODE_eadb4f60\"),\n          width: 4,\n          height: LayoutCardHeight.SMALL\n        },\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"InstanceManagerBtns\",\n          title: t(\"TXT_CODE_efd37c48\"),\n          width: 8,\n          height: LayoutCardHeight.SMALL,\n          disableDelete: true\n        }\n      ]\n    },\n    {\n      page: \"/instances/terminal/files\",\n      items: [\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"InstanceFileManager\",\n          title: t(\"TXT_CODE_ae533703\"),\n          width: 12,\n          height: LayoutCardHeight.AUTO,\n          disableDelete: true\n        },\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"EmptyCard\",\n          title: \"\",\n          width: 12,\n          height: LayoutCardHeight.MINI\n        }\n      ]\n    },\n    {\n      page: \"/instances/terminal/mods\",\n      items: [\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"InstanceModManager\",\n          title: t(\"TXT_CODE_MOD_MANAGER\"),\n          width: 12,\n          height: LayoutCardHeight.AUTO,\n          disableDelete: true\n        },\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"EmptyCard\",\n          title: \"\",\n          width: 12,\n          height: LayoutCardHeight.MINI\n        }\n      ]\n    },\n    {\n      page: \"/instances/terminal/serverConfig\",\n      items: [\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"InstanceServerConfigOverview\",\n          title: t(\"TXT_CODE_d07742fe\"),\n          width: 12,\n          height: LayoutCardHeight.AUTO,\n          disableDelete: true\n        },\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"EmptyCard\",\n          title: \"\",\n          width: 12,\n          height: LayoutCardHeight.MINI\n        }\n      ]\n    },\n    {\n      page: \"/instances/terminal/serverConfig/fileEdit\",\n      items: [\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"InstanceServerConfigFile\",\n          title: t(\"TXT_CODE_1c45f7fe\"),\n          width: 12,\n          height: LayoutCardHeight.AUTO,\n          disableDelete: true\n        },\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"EmptyCard\",\n          title: \"\",\n          width: 12,\n          height: LayoutCardHeight.MINI\n        }\n      ]\n    },\n    {\n      page: \"/instances/schedule\",\n      items: [\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"Schedule\",\n          title: t(\"TXT_CODE_b7d026f8\"),\n          width: 12,\n          height: LayoutCardHeight.AUTO,\n          disableDelete: true\n        },\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"EmptyCard\",\n          title: \"\",\n          width: 12,\n          height: LayoutCardHeight.MINI\n        }\n      ]\n    },\n    {\n      page: \"/users\",\n      items: [\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"UserList\",\n          title: t(\"TXT_CODE_97d17cce\"),\n          width: 12,\n          height: LayoutCardHeight.AUTO,\n          disableDelete: true\n        },\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"EmptyCard\",\n          title: \"\",\n          width: 12,\n          height: LayoutCardHeight.MINI\n        }\n      ]\n    },\n    {\n      page: \"/users/resources\",\n      items: [\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"UserAccessSettings\",\n          title: t(\"TXT_CODE_eb579d63\"),\n          width: 12,\n          height: LayoutCardHeight.AUTO,\n          disableDelete: true\n        },\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"EmptyCard\",\n          title: \"\",\n          width: 12,\n          height: LayoutCardHeight.MINI\n        }\n      ]\n    },\n    {\n      page: \"/settings\",\n      items: [\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"Settings\",\n          title: t(\"TXT_CODE_3fe97dcc\"),\n          width: 9,\n          height: LayoutCardHeight.LARGE,\n          disableDelete: true\n        }\n      ]\n    },\n    {\n      page: \"/node\",\n      items: [\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"NodeList\",\n          title: t(\"TXT_CODE_20509fa0\"),\n          width: 12,\n          height: LayoutCardHeight.AUTO,\n          disableDelete: true\n        },\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"EmptyCard\",\n          title: \"\",\n          width: 12,\n          height: LayoutCardHeight.MINI\n        }\n      ]\n    },\n    {\n      page: \"/node/image\",\n      items: [\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"ImageManager\",\n          title: t(\"TXT_CODE_e6c30866\"),\n          width: 12,\n          height: LayoutCardHeight.AUTO,\n          disableDelete: true\n        },\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"EmptyCard\",\n          title: \"\",\n          width: 12,\n          height: LayoutCardHeight.MINI\n        }\n      ]\n    },\n    {\n      page: \"/node/image/new\",\n      items: [\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"NewImage\",\n          title: t(\"TXT_CODE_3d09f0ac\"),\n          width: 12,\n          height: LayoutCardHeight.AUTO,\n          disableDelete: true\n        },\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"EmptyCard\",\n          title: \"\",\n          width: 12,\n          height: LayoutCardHeight.MINI\n        }\n      ]\n    },\n    {\n      page: \"/quickstart\",\n      items: [\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"QuickStartFlow\",\n          title: t(\"TXT_CODE_9b99b72e\"),\n          width: 8,\n          height: LayoutCardHeight.AUTO\n        }\n      ]\n    },\n    {\n      page: \"/quickstart/minecraft\",\n      items: [\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"McPreset\",\n          title: \"\",\n          width: 12,\n          height: LayoutCardHeight.AUTO\n        },\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"EmptyCard\",\n          title: \"\",\n          width: 12,\n          height: LayoutCardHeight.MINI\n        }\n      ]\n    },\n    {\n      page: \"/customer\",\n      items: [\n        {\n          id: getRandomId(),\n          type: \"UserStatusBlock\",\n          title: t(\"TXT_CODE_7411336e\"),\n          meta: {\n            type: \"instance_all\"\n          },\n          width: 3,\n          height: LayoutCardHeight.SMALL,\n          disableDelete: true\n        },\n        {\n          id: getRandomId(),\n          type: \"UserStatusBlock\",\n          title: t(\"TXT_CODE_f912fadc\"),\n          meta: {\n            type: \"instance_running\"\n          },\n          width: 3,\n          height: LayoutCardHeight.SMALL,\n          disableDelete: true\n        },\n        {\n          id: getRandomId(),\n          type: \"UserStatusBlock\",\n          title: t(\"TXT_CODE_15f2e564\"),\n          meta: {\n            type: \"instance_stop\"\n          },\n          width: 3,\n          height: LayoutCardHeight.SMALL,\n          disableDelete: true\n        },\n        {\n          id: getRandomId(),\n          type: \"UserStatusBlock\",\n          title: t(\"TXT_CODE_342a04a9\"),\n          meta: {\n            type: \"instance_error\"\n          },\n          width: 3,\n          height: LayoutCardHeight.SMALL,\n          disableDelete: true\n        },\n        {\n          id: getRandomId(),\n          type: \"UserInstanceList\",\n          title: t(\"TXT_CODE_d655beec\"),\n          meta: {\n            type: \"instance_error\"\n          },\n          width: 12,\n          height: LayoutCardHeight.AUTO,\n          disableDelete: true\n        }\n      ]\n    },\n    {\n      page: \"/login\",\n      items: [\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"LoginCard\",\n          title: t(\"TXT_CODE_ccb60658\"),\n          width: 4,\n          height: LayoutCardHeight.AUTO,\n          disableDelete: true\n        }\n      ]\n    },\n    {\n      page: \"/shop\",\n      items: [\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"ShelvesCard\",\n          title: t(\"TXT_CODE_381f8f22\"),\n          width: 12,\n          height: LayoutCardHeight.LARGE,\n          disableDelete: true\n        }\n      ]\n    },\n    {\n      page: \"/404\",\n      items: [\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"Page404\",\n          title: t(\"TXT_CODE_6aa286df\"),\n          width: 6,\n          height: LayoutCardHeight.MINI,\n          disableDelete: true\n        }\n      ]\n    },\n    {\n      page: \"/_open_page\",\n      items: [\n        {\n          id: getRandomId(),\n          meta: {},\n          type: \"DefaultCard\",\n          title: t(\"TXT_CODE_463375d2\"),\n          width: 6,\n          height: LayoutCardHeight.SMALL\n        }\n      ]\n    }\n  ];\n}\n","import axios from \"axios\";\nimport fs from \"fs-extra\";\nimport { t } from \"i18next\";\nimport { toText } from \"mcsmanager-common\";\nimport path from \"path\";\nimport { MARKET_CACHE_FILE_PATH, SAVE_DIR_PATH } from \"../const\";\nimport RemoteRequest from \"../service/remote_command\";\nimport RemoteServiceSubsystem from \"../service/remote_service\";\nimport userSystem from \"../service/user_service\";\nimport { systemConfig } from \"../setting\";\n\nexport enum INSTANCE_STATUS {\n  BUSY = -1,\n  STOP = 0,\n  STOPPING = 1,\n  STARTING = 2,\n  RUNNING = 3\n}\nexport const INSTANCE_STATUS_TEXT: Record<number, string> = {\n  [INSTANCE_STATUS.BUSY]: t(\"TXT_CODE_342a04a9\"),\n  [INSTANCE_STATUS.STOP]: t(\"TXT_CODE_15f2e564\"),\n  [INSTANCE_STATUS.STOPPING]: t(\"TXT_CODE_a409b8a9\"),\n  [INSTANCE_STATUS.STARTING]: t(\"TXT_CODE_175b570d\"),\n  [INSTANCE_STATUS.RUNNING]: t(\"TXT_CODE_bdb620b9\")\n};\n\nexport interface IAdvancedInstanceInfo {\n  instanceUuid: string;\n  daemonId: string;\n  hostIp?: string;\n  remarks?: string;\n  status?: number;\n  nickname?: string;\n  ie?: string;\n  oe?: string;\n  endTime?: number;\n  lastDatetime?: number;\n  stopCommand?: string;\n  processType?: string;\n  docker?: Record<string, any>;\n  info?: Record<string, any>;\n}\n\n// Multi-forward operation method\nexport function multiOperationForwarding(\n  instances: any[],\n  callback: (daemonId: string, instanceUuids: string[]) => void\n) {\n  // classification table\n  const map = new Map<string, string[]>();\n  // Classify remote hosts and instance IDs based on information\n  for (const instanceInfo of instances) {\n    const daemonId: string = instanceInfo.daemonId;\n    const instanceUuid: string = instanceInfo.instanceUuid;\n    if (map.has(daemonId)) {\n      map.get(daemonId)?.push(instanceUuid);\n    } else {\n      map.set(daemonId, [instanceUuid]);\n    }\n  }\n  // Pack and forward the classified data separately\n  for (const iterator of map) {\n    const daemonId = iterator[0];\n    const instanceUuids = iterator[1];\n    callback(daemonId, instanceUuids);\n  }\n}\n\nexport async function getInstancesByUuid(\n  uuid: string,\n  targetDaemonId?: string,\n  advanced: boolean = false\n) {\n  const user = userSystem.getInstance(uuid);\n  if (!user) throw new Error(\"The UID does not exist\");\n\n  // Advanced functions are optional, analyze each instance data\n  let resInstances: IAdvancedInstanceInfo[] = [];\n  if (advanced) {\n    const instances = user.instances;\n    for (const iterator of instances) {\n      if (targetDaemonId && targetDaemonId !== iterator.daemonId) continue;\n      const remoteService = RemoteServiceSubsystem.getInstance(iterator.daemonId);\n      if (!remoteService || !remoteService.available) {\n        // If the remote service doesn't exist at all, load a deleted prompt\n        resInstances.push({\n          hostIp: \"-- Unknown --\",\n          instanceUuid: iterator.instanceUuid,\n          daemonId: iterator.daemonId,\n          status: -1,\n          nickname: \"-- Unknown --\",\n          remarks: \"\",\n          ie: \"\",\n          oe: \"\",\n          endTime: 0,\n          lastDatetime: 0,\n          stopCommand: \"\",\n          processType: \"\",\n          docker: {},\n          info: {}\n        });\n        continue;\n      }\n      // Note: UUID can be integrated here to save the returned traffic, and this optimization will not be done for the time being\n      try {\n        let instancesInfo = await new RemoteRequest(remoteService).request(\"instance/section\", {\n          instanceUuids: [iterator.instanceUuid]\n        });\n        if (!instancesInfo || instancesInfo.length === 0) continue;\n        instancesInfo = instancesInfo[0];\n        resInstances.push({\n          hostIp: `${remoteService.config.ip}:${remoteService.config.port}`,\n          remarks: remoteService.config.remarks,\n          instanceUuid: instancesInfo.instanceUuid,\n          daemonId: remoteService.uuid,\n          status: instancesInfo.status,\n          nickname: instancesInfo.config.nickname,\n          ie: instancesInfo.config.ie,\n          oe: instancesInfo.config.oe,\n          endTime: instancesInfo.config.endTime,\n          lastDatetime: instancesInfo.config.lastDatetime,\n          stopCommand: instancesInfo.config.stopCommand,\n          processType: instancesInfo.config.processType,\n          docker: instancesInfo.config.docker || {},\n          info: instancesInfo.info || {}\n        });\n      } catch (error) {\n        // ignore error\n        continue;\n      }\n    }\n  } else {\n    resInstances = user.instances;\n  }\n  // respond to user data\n  return {\n    uuid: user.uuid,\n    userName: user.userName,\n    loginTime: user.loginTime,\n    registerTime: user.registerTime,\n    instances: resInstances,\n    permission: user.permission,\n    apiKey: user.apiKey,\n    isInit: user.isInit,\n    open2FA: user.open2FA,\n    secret: user.secret,\n    token: \"\"\n  };\n}\n\nexport function checkInstanceAdvancedParams(\n  config: IGlobalInstanceConfig,\n  isTopPermission: boolean = false\n) {\n  const canChangeCmd = systemConfig?.allowChangeCmd;\n  if (!isTopPermission) {\n    if (!canChangeCmd) return {};\n    if (config.processType !== \"docker\") return {};\n  }\n\n  const startCommand = toText(config.startCommand);\n  const updateCommand = toText(config.updateCommand);\n  const dockerEnv = Array.isArray(config.docker?.env) ? config.docker.env : null;\n\n  return {\n    startCommand,\n    updateCommand,\n    docker: {\n      env: dockerEnv\n    }\n  };\n}\n\n/**\n * Get the app market list\n * @returns IQuickStartTemplate\n */\nexport async function getAppMarketList() {\n  const presetUrl = systemConfig?.presetPackAddr;\n  if (!presetUrl) throw new Error(\"Preset Addr is empty!\");\n\n  if (presetUrl?.startsWith(SAVE_DIR_PATH)) {\n    // Custom App Market List from local file\n    const filesDir = path.join(process.cwd(), SAVE_DIR_PATH);\n    const fileName = presetUrl?.split(SAVE_DIR_PATH)[1];\n    const filePath = path.join(filesDir, fileName ?? \"\");\n    if (fs.existsSync(filePath)) {\n      return JSON.parse(await fs.readFile(filePath, \"utf-8\")) as IQuickStartTemplate;\n    } else {\n      throw new Error(`Request failed, status: 404`);\n    }\n  } else {\n    // App Market List from remote server\n    const CACHE_DURATION = 6 * 60 * 60 * 1000; // 6 hours\n    try {\n      const stats = await fs.stat(MARKET_CACHE_FILE_PATH);\n      const now = Date.now();\n      const fileAge = now - stats.mtime.getTime();\n\n      // Use cache\n      if (fileAge < CACHE_DURATION) {\n        const cachedData = await fs.readFile(MARKET_CACHE_FILE_PATH, \"utf-8\");\n        return JSON.parse(cachedData) as IQuickStartTemplate;\n      }\n    } catch (error) {\n      // Cache file doesn't exist, continue to fetch new data\n    }\n    // Fetch new data from remote server\n    const { data: presetConfig } = await axios<IQuickStartTemplate>({\n      url: presetUrl,\n      method: \"GET\"\n    });\n    return presetConfig;\n  }\n}\n","import fs from \"fs-extra\";\nimport log4js from \"log4js\";\n\nconst LOG_FILE_PATH = \"logs/current.log\";\n\n// save the log file separately on each startup\nif (fs.existsSync(LOG_FILE_PATH)) {\n  const time = new Date();\n  const timeString = `${time.getFullYear()}-${\n    time.getMonth() + 1\n  }-${time.getDate()}_${time.getHours()}-${time.getMinutes()}-${time.getSeconds()}`;\n  fs.renameSync(LOG_FILE_PATH, `logs/${timeString}.log`);\n}\n\nlog4js.configure({\n  appenders: {\n    out: {\n      type: \"stdout\",\n      layout: {\n        type: \"pattern\",\n        pattern: \"[%d{MM/dd hh:mm:ss}] [%[%p%]] %m\"\n      }\n    },\n    file: {\n      type: \"file\",\n      filename: LOG_FILE_PATH,\n      layout: {\n        type: \"pattern\",\n        pattern: \"%d %p %m\"\n      }\n    }\n  },\n  categories: {\n    default: {\n      appenders: [\"out\", \"file\"],\n      level: \"info\"\n    },\n    file: {\n      appenders: [\"file\"],\n      level: \"info\"\n    }\n  }\n});\n\nconst logger = log4js.getLogger(\"default\");\nconst fileLogger = log4js.getLogger(\"file\");\n\nfunction fullTime(): string {\n  const date = new Date();\n  return `${date.getFullYear()}/${date.getMonth()}/${date.getDate()}`;\n}\n\nfunction fullLocalTime(): string {\n  return new Date().toLocaleTimeString();\n}\n\nexport { logger, fileLogger, fullTime, fullLocalTime };\n","interface Data {\n  value: any;\n  ttl: number;\n}\n\nclass SingletonMemoryRedis {\n  private readonly envMap: Map<string, Data> = new Map();\n\n  constructor() {\n    setInterval(() => {\n      const now = Date.now();\n      for (const [key, data] of this.envMap) {\n        if (now >= data.ttl) {\n          this.envMap.delete(key);\n        }\n      }\n    }, 500);\n  }\n\n  get<T = any>(key: string): T | undefined {\n    return this.envMap.get(key) as T | undefined;\n  }\n\n  set<T = any>(key: string, value: T, ttl: number = 0) {\n    this.envMap.set(key, {\n      value,\n      ttl: Date.now() + ttl * 1000\n    });\n  }\n\n  ttl(key: string) {\n    const data = this.envMap.get(key);\n    if (!data) return 0;\n    const ttl = data.ttl - Date.now();\n    return parseInt(String(ttl / 1000));\n  }\n}\n\n// singleton\nexport const singletonMemoryRedis = new SingletonMemoryRedis();\n","import axios from \"axios\";\n\nexport interface ModrinthProject {\n  id: string;\n  slug: string;\n  title: string;\n  description: string;\n  icon_url: string;\n  body: string;\n}\n\nexport interface ModrinthVersion {\n  id: string;\n  project_id: string;\n  author_id: string;\n  name: string;\n  version_number: string;\n}\n\nclass ModManagerService {\n  private readonly baseUrl = \"https://api.modrinth.com/v2\";\n  private readonly curseforgeUrl = \"https://api.curse.tools\";\n  private readonly MAX_CACHE_SIZE = 1000;\n  private cache = new Map<string, any>();\n  private mcVersionsCache: string[] = [];\n  private mcVersionsLastFetch = 0;\n\n  constructor() {\n    setInterval(() => {\n      this.mcVersionsCache = [];\n      this.mcVersionsLastFetch = 0;\n      this.cache.clear();\n    }, 1000 * 60 * 60 * 24);\n  }\n\n  private setCache(key: string, value: any) {\n    if (this.cache.size >= this.MAX_CACHE_SIZE) {\n      const firstKey = this.cache.keys().next().value;\n      if (firstKey) this.cache.delete(firstKey);\n    }\n    this.cache.set(key, value);\n  }\n\n  public async getMinecraftVersions() {\n    const now = Date.now();\n    if (this.mcVersionsCache.length > 0 && now - this.mcVersionsLastFetch < 1000 * 60 * 60 * 24) {\n      return this.mcVersionsCache;\n    }\n\n    try {\n      // Try Modrinth first\n      const res = await this.requestWithRetry({\n        method: \"GET\",\n        url: `${this.baseUrl}/tag/game_version`\n      });\n      const versions = res.data\n        .filter((v: any) => v.project_type === \"minecraft\" && /^\\d+\\.\\d+(\\.\\d+)?$/.test(v.version))\n        .map((v: any) => v.version)\n        .sort((a: string, b: string) => {\n          const pa = a.split(\".\").map(Number);\n          const pb = b.split(\".\").map(Number);\n          for (let i = 0; i < Math.max(pa.length, pb.length); i++) {\n            const va = pa[i] || 0;\n            const vb = pb[i] || 0;\n            if (va !== vb) return vb - va;\n          }\n          return 0;\n        });\n\n      if (versions.length > 0) {\n        this.mcVersionsCache = versions;\n        this.mcVersionsLastFetch = now;\n        return versions;\n      }\n    } catch (err) {\n      console.error(\"Failed to fetch MC versions from Modrinth:\", err);\n    }\n\n    try {\n      // Try Mojang official manifest as fallback\n      const res = await this.requestWithRetry({\n        method: \"GET\",\n        url: \"https://launchermeta.mojang.com/mc/game/version_manifest.json\"\n      });\n      const versions = res.data.versions\n        .filter((v: any) => v.type === \"release\")\n        .map((v: any) => v.id)\n        .filter((v: string) => /^\\d+\\.\\d+(\\.\\d+)?$/.test(v))\n        .sort((a: string, b: string) => {\n          const pa = a.split(\".\").map(Number);\n          const pb = b.split(\".\").map(Number);\n          for (let i = 0; i < Math.max(pa.length, pb.length); i++) {\n            const va = pa[i] || 0;\n            const vb = pb[i] || 0;\n            if (va !== vb) return vb - va;\n          }\n          return 0;\n        });\n\n      if (versions.length > 0) {\n        this.mcVersionsCache = versions;\n        this.mcVersionsLastFetch = now;\n        return versions;\n      }\n    } catch (err: any) {\n      console.error(\"Failed to fetch MC versions from Mojang!\", err?.message);\n    }\n\n    // Fallback to a reasonable list if all APIs fail\n    return [\n      \"1.21\",\n      \"1.20.6\",\n      \"1.20.4\",\n      \"1.20.1\",\n      \"1.19.4\",\n      \"1.19.2\",\n      \"1.18.2\",\n      \"1.17.1\",\n      \"1.16.5\",\n      \"1.12.2\"\n    ];\n  }\n\n  public async getInfoByHash(hash: string) {\n    if (this.cache.has(hash)) return this.cache.get(hash);\n\n    try {\n      // 1. Get version by hash\n      const versionRes = await this.requestWithRetry({\n        method: \"GET\",\n        url: `${this.baseUrl}/version_file/${hash}?algorithm=sha1`\n      });\n      const versionData = versionRes.data;\n\n      // 2. Get project by project_id\n      const projectRes = await this.requestWithRetry({\n        method: \"GET\",\n        url: `${this.baseUrl}/project/${versionData.project_id}`\n      });\n      const projectData = projectRes.data;\n\n      const result = {\n        version: versionData,\n        project: projectData\n      };\n\n      this.setCache(hash, result);\n      return result;\n    } catch (err) {\n      return null;\n    }\n  }\n\n  private async requestWithRetry(config: any, retries = 2): Promise<any> {\n    try {\n      return await axios({\n        ...config,\n        timeout: config.timeout || 5000\n      });\n    } catch (err: any) {\n      const isNetworkError =\n        !err.response &&\n        (err.code === \"ECONNRESET\" || err.code === \"ETIMEDOUT\" || err.code === \"ECONNABORTED\");\n      const isRetryableStatus =\n        err.response?.status === 500 ||\n        err.response?.status === 502 ||\n        err.response?.status === 504;\n\n      if (retries > 0 && (isNetworkError || isRetryableStatus)) {\n        await new Promise((resolve) => setTimeout(resolve, 1500));\n        return await this.requestWithRetry(config, retries - 1);\n      }\n      throw err;\n    }\n  }\n\n  public async getInfosByHashes(hashes: string[]) {\n    const result: Record<string, any> = {};\n    const missingHashes: string[] = [];\n\n    if (hashes.length > 50) {\n      throw new Error(\"Hashes length cannot be greater than 50\");\n    }\n\n    for (const hash of hashes) {\n      if (this.cache.has(hash)) {\n        result[hash] = this.cache.get(hash);\n      } else {\n        missingHashes.push(hash);\n      }\n    }\n\n    if (missingHashes.length > 0) {\n      // Split into chunks of 50 to avoid Modrinth database timeouts\n      const chunkSize = 50;\n      for (let i = 0; i < missingHashes.length; i += chunkSize) {\n        const chunk = missingHashes.slice(i, i + chunkSize);\n        try {\n          const res = await this.requestWithRetry({\n            method: \"POST\",\n            url: `${this.baseUrl}/version_files`,\n            data: {\n              hashes: chunk,\n              algorithm: \"sha1\"\n            }\n          });\n\n          const versionsMap = res.data;\n          const projectIds = new Set<string>();\n          for (const hash in versionsMap) {\n            projectIds.add(versionsMap[hash].project_id);\n          }\n\n          if (projectIds.size > 0) {\n            const projectsRes = await this.requestWithRetry({\n              method: \"GET\",\n              url: `${this.baseUrl}/projects`,\n              params: { ids: JSON.stringify(Array.from(projectIds)) }\n            });\n            const projects = projectsRes.data;\n            const projectsMap = projects.reduce((acc: any, p: any) => {\n              acc[p.id] = p;\n              return acc;\n            }, {});\n\n            for (const hash in versionsMap) {\n              const version = versionsMap[hash];\n              const project = projectsMap[version.project_id];\n              const info = { version, project };\n              this.setCache(hash, info);\n              result[hash] = info;\n            }\n          }\n        } catch (err: any) {\n          console.error(`Modrinth batch lookup error for chunk ${i / chunkSize}:`, err?.message);\n        }\n      }\n    }\n\n    return result;\n  }\n\n  private cleanCurseForgeVersionName(vn: string, projectName?: string): string {\n    if (!vn) return \"Unknown\";\n    // Remove file extensions\n    vn = vn.replace(/\\.(jar|zip)(\\.disabled)?$/i, \"\");\n\n    // Remove common prefixes like \"v\" or \"version-\"\n    vn = vn.replace(/^(v|version)[-_\\s.]+/i, \"\");\n\n    if (projectName) {\n      // Normalize project name: remove spaces, special chars, and common suffixes\n      // Also handle special characters like \"!\" in \"ALBOE!\"\n      const normalizedProjectName = projectName\n        .toLowerCase()\n        .replace(/[^a-z0-9]/g, \"\")\n        .replace(/(mod|plugin|forge|fabric|quilt|neoforge)$/, \"\");\n\n      const cleanVn = vn.toLowerCase().replace(/[^a-z0-9]/g, \"\");\n\n      if (normalizedProjectName.length > 0 && cleanVn.startsWith(normalizedProjectName)) {\n        // Find how many characters to skip in the original string\n        let skip = 0;\n        let matched = 0;\n        while (skip < vn.length && matched < normalizedProjectName.length) {\n          const char = vn[skip].toLowerCase().replace(/[^a-z0-9]/g, \"\");\n          if (char === normalizedProjectName[matched]) {\n            matched++;\n          }\n          skip++;\n        }\n        const stripped = vn.substring(skip).replace(/^[-_\\s.]+/, \"\");\n        // Only return stripped if it's not empty and looks like a version\n        if (stripped.length >= 1) vn = stripped;\n      }\n    }\n\n    // Final cleanup: if it's just a bunch of numbers and dots/dashes, it's probably fine\n    // Handle cases like \"1.21.1-1.0.0\" -> \"1.0.0\" if the first part is a game version\n    const gameVersionMatch = vn.match(/^(\\d+\\.\\d+(\\.\\d+)?)[-_\\s]+(.+)$/);\n    if (gameVersionMatch) {\n      const potentialVersion = gameVersionMatch[3];\n      // If the remaining part starts with a number, it's likely the actual version\n      if (/^\\d+/.test(potentialVersion)) {\n        vn = potentialVersion;\n      }\n    }\n\n    // If the result is still the same as the original (minus extension),\n    // and it's very long/ugly, try a more aggressive approach\n    if (vn.includes(\"-\") || vn.includes(\"_\")) {\n      const parts = vn.split(/[-_\\s]+/);\n      // If the last part looks like a version number (e.g., 0.0.8), maybe just use that?\n      // But that's risky. Let's stick to the current logic but ensure it's robust.\n    }\n\n    return vn;\n  }\n\n  public async searchProjects(\n    query: string,\n    offset = 0,\n    limit = 20,\n    filters?: {\n      source?: string;\n      version?: string;\n      type?: string;\n      loader?: string;\n      environment?: string;\n    }\n  ) {\n    if (limit > 50) throw new Error(\"Limit cannot be greater than 100\");\n    const source = filters?.source || \"all\";\n\n    if (source === \"modrinth\") {\n      return await this.searchModrinth(query, offset, limit, filters);\n    }\n\n    if (source === \"curseforge\") {\n      return await this.searchCurseForge(query, offset, limit, filters);\n    }\n\n    if (source === \"spigotmc\") {\n      return await this.searchSpigotMC(query, offset, limit, filters);\n    }\n\n    // Search all sources\n    try {\n      let N = 3;\n      let spigotPromise: Promise<any>;\n\n      if (filters?.type === \"mod\") {\n        N = 2;\n        spigotPromise = Promise.resolve({ hits: [], total_hits: 0 });\n      } else {\n        spigotPromise = this.searchSpigotMC(\n          query,\n          Math.floor((offset + 2) / N),\n          Math.floor((offset + limit + 2) / N) - Math.floor((offset + 2) / N),\n          filters\n        );\n      }\n\n      const [modrinthRes, curseforgeRes, spigotRes] = await Promise.all([\n        this.searchModrinth(\n          query,\n          Math.floor((offset + 0) / N),\n          Math.floor((offset + limit + 0) / N) - Math.floor((offset + 0) / N),\n          filters\n        ),\n        this.searchCurseForge(\n          query,\n          Math.floor((offset + 1) / N),\n          Math.floor((offset + limit + 1) / N) - Math.floor((offset + 1) / N),\n          filters\n        ),\n        spigotPromise\n      ]);\n\n      const hits = [\n        ...(modrinthRes?.hits || []),\n        ...(curseforgeRes?.hits || []),\n        ...(spigotRes?.hits || [])\n      ];\n\n      const total_hits =\n        (modrinthRes?.total_hits || 0) +\n        (curseforgeRes?.total_hits || 0) +\n        (spigotRes?.total_hits || 0);\n\n      return { hits, total_hits };\n    } catch (err) {\n      console.error(\"Search all error:\", err);\n      return { hits: [], total_hits: 0 };\n    }\n  }\n\n  public async searchModrinth(\n    query: string,\n    offset = 0,\n    limit = 20,\n    filters?: { version?: string; type?: string; loader?: string; environment?: string }\n  ) {\n    try {\n      const facets: string[][] = [];\n      if (filters?.version) {\n        facets.push([`versions:${filters.version}`]);\n      }\n      if (filters?.type && filters.type !== \"all\") {\n        if (filters.type === \"plugin\") {\n          facets.push([\"project_type:mod\"]);\n          // If no specific loader is selected, filter by common plugin categories\n          if (!filters.loader || filters.loader === \"all\") {\n            facets.push([\n              \"categories:Spigot\",\n              \"categories:Paper\",\n              \"categories:Purpur\",\n              \"categories:Folia\",\n              \"categories:BungeeCord\",\n              \"categories:Velocity\",\n              \"categories:Waterfall\"\n            ]);\n          }\n        } else {\n          facets.push([`project_type:${filters.type}`]);\n        }\n      }\n\n      // Handle loaders (Forge, Fabric, etc.) - use categories facet\n      if (filters?.loader && filters.loader !== \"all\") {\n        const loaderMap: Record<string, string> = {\n          forge: \"Forge\",\n          fabric: \"Fabric\",\n          quilt: \"Quilt\",\n          neoforge: \"NeoForge\",\n          spigot: \"Spigot\",\n          paper: \"Paper\",\n          purpur: \"Purpur\",\n          folia: \"Folia\",\n          bungeecord: \"BungeeCord\",\n          velocity: \"Velocity\",\n          waterfall: \"Waterfall\"\n        };\n        const loaderName = loaderMap[filters.loader.toLowerCase()] || filters.loader;\n        facets.push([`categories:${loaderName}`]);\n      }\n\n      // Handle environment (server/client)\n      if (filters?.environment && filters.environment !== \"all\") {\n        if (filters.environment.toLowerCase() === \"server\") {\n          facets.push([\"server_side:required\", \"server_side:optional\"]);\n        } else if (filters.environment.toLowerCase() === \"client\") {\n          facets.push([\"client_side:required\", \"client_side:optional\"]);\n        }\n      }\n\n      const res = await this.requestWithRetry({\n        method: \"GET\",\n        url: `${this.baseUrl}/search`,\n        params: {\n          query,\n          facets: facets.length > 0 ? JSON.stringify(facets) : undefined,\n          offset,\n          limit\n        }\n      });\n\n      if (!res.data || !res.data.hits) {\n        return { hits: [], total_hits: 0 };\n      }\n\n      const hits = res.data.hits;\n      const versionIds = hits.map((h: any) => h.latest_version).filter((id: any) => !!id);\n      let versionsMap: Record<string, string> = {};\n\n      if (versionIds.length > 0) {\n        try {\n          const versionsRes = await this.requestWithRetry({\n            method: \"GET\",\n            url: `${this.baseUrl}/versions`,\n            params: { ids: JSON.stringify(versionIds) }\n          });\n          versionsMap = versionsRes.data.reduce((acc: any, v: any) => {\n            acc[v.id] = v.version_number;\n            return acc;\n          }, {});\n        } catch (vErr) {\n          console.error(\"Failed to fetch version numbers for hits:\", vErr);\n        }\n      }\n\n      // Map Modrinth results to a unified format\n      const mappedHits = hits.map((hit: any) => {\n        // If user explicitly searched for plugins, force the type to plugin\n        // Otherwise, try to detect if it's a plugin based on categories\n        let projectType = hit.project_type;\n        if (filters?.type === \"plugin\") {\n          projectType = \"plugin\";\n        } else {\n          const pluginCategories = [\n            \"spigot\",\n            \"paper\",\n            \"purpur\",\n            \"folia\",\n            \"bungeecord\",\n            \"velocity\",\n            \"waterfall\"\n          ];\n          if (\n            projectType === \"mod\" &&\n            hit.categories?.some((c: string) => pluginCategories.includes(c.toLowerCase()))\n          ) {\n            projectType = \"plugin\";\n          }\n        }\n\n        return {\n          id: hit.project_id,\n          slug: hit.slug,\n          title: hit.title,\n          description: hit.description,\n          icon_url: hit.icon_url,\n          author: hit.author,\n          downloads: hit.downloads,\n          updated: hit.date_modified,\n          categories: hit.categories,\n          version_number: versionsMap[hit.latest_version] || hit.latest_version,\n          game_versions: hit.versions,\n          display_categories: hit.display_categories,\n          source: \"Modrinth\",\n          project_type: projectType\n        };\n      });\n\n      return {\n        hits: mappedHits,\n        total_hits: res.data.total_hits\n      };\n    } catch (err) {\n      console.error(\"Modrinth search error:\", err);\n      return { hits: [], total_hits: 0 };\n    }\n  }\n\n  public async searchCurseForge(\n    query: string,\n    offset = 0,\n    limit = 20,\n    filters?: { version?: string; type?: string; loader?: string; environment?: string }\n  ) {\n    try {\n      const classIdMap: Record<string, number> = {\n        mod: 6,\n        plugin: 12,\n        modpack: 4471,\n        all: 6\n      };\n\n      const loaderMap: Record<string, number> = {\n        forge: 1,\n        fabric: 4,\n        quilt: 5,\n        neoforge: 6,\n        all: 0\n      };\n\n      const type = filters?.type || \"all\";\n      const loader = filters?.loader?.toLowerCase() || \"all\";\n\n      const params: any = {\n        gameId: 432,\n        searchFilter: query || \"\",\n        index: offset,\n        pageSize: limit\n      };\n\n      if (type !== \"all\" && classIdMap[type]) {\n        params.classId = classIdMap[type];\n      } else if (type === \"all\") {\n        // Default to Mods (6) if searching all, or omit to search everything\n        // Most users expect mods when searching \"all\" on CurseForge\n        params.classId = 6;\n      }\n\n      if (loader !== \"all\" && loaderMap[loader]) {\n        params.modLoaderType = loaderMap[loader];\n      }\n\n      if (filters?.version) {\n        params.gameVersion = filters.version;\n      }\n\n      const res = await this.requestWithRetry({\n        method: \"GET\",\n        url: `${this.curseforgeUrl}/v1/cf/mods/search`,\n        params,\n        headers: {\n          Accept: \"application/json\",\n          \"x-api-key\": \"$2a$10$S.m6.v.m6.v.m6.v.m6.v.m6.v.m6.v.m6.v.m6.v.m6.v.m6.v.m6\"\n        },\n        timeout: 10000\n      });\n\n      if (!res.data || !res.data.data || !Array.isArray(res.data.data)) {\n        return { hits: [], total_hits: 0 };\n      }\n\n      const hits = res.data.data.map((mod: any) => {\n        const latestFile = mod.latestFiles?.[0];\n        const vn = this.cleanCurseForgeVersionName(\n          latestFile?.displayName || latestFile?.fileName || \"\",\n          mod.name\n        );\n\n        return {\n          id: String(mod.id),\n          slug: mod.slug,\n          title: mod.name,\n          description: mod.summary,\n          icon_url: mod.logo?.url,\n          author: mod.authors?.[0]?.name,\n          downloads: mod.downloadCount,\n          updated: mod.dateModified,\n          categories: mod.categories?.map((c: any) => c.name),\n          version_number: vn,\n          game_versions:\n            mod.latestFilesIndexes\n              ?.map((f: any) => f.gameVersion)\n              .filter((v: string, i: number, a: string[]) => a.indexOf(v) === i)\n              .slice(0, 3) || [],\n          display_categories: mod.categories?.slice(0, 3).map((c: any) => c.name),\n          source: \"CurseForge\",\n          project_type: mod.classId === 12 ? \"plugin\" : \"mod\"\n        };\n      });\n\n      return {\n        hits,\n        total_hits: res.data.pagination.totalCount\n      };\n    } catch (err) {\n      console.error(\"CurseForge search error:\", err);\n      return { hits: [], total_hits: 0 };\n    }\n  }\n\n  public async getProjectVersions(\n    projectId: string,\n    source: string = \"Modrinth\",\n    loaders?: string[],\n    gameVersions?: string[]\n  ) {\n    const s = source.toLowerCase();\n    if (s === \"curseforge\") {\n      return await this.getCurseForgeVersions(projectId);\n    }\n    if (s === \"spigotmc\") {\n      return await this.getSpigotVersions(projectId);\n    }\n    try {\n      const params: any = {};\n      if (loaders) params.loaders = JSON.stringify(loaders);\n      if (gameVersions) params.game_versions = JSON.stringify(gameVersions);\n\n      const res = await this.requestWithRetry({\n        method: \"GET\",\n        url: `${this.baseUrl}/project/${projectId}/version`,\n        params\n      });\n\n      const items = res.data || [];\n\n      // Add project_type to each version so the frontend knows where to save it\n      const projectRes = await this.requestWithRetry({\n        method: \"GET\",\n        url: `${this.baseUrl}/project/${projectId}`\n      });\n      const projectType = projectRes.data.project_type === \"mod\" ? \"mod\" : \"plugin\";\n\n      return items.slice(0, 200).map((v: any) => ({\n        ...v,\n        project_type: projectType\n      }));\n    } catch (err) {\n      return null;\n    }\n  }\n\n  public async getCurseForgeVersions(projectId: string) {\n    try {\n      // Fetch mod info to get the name for cleaning version names\n      let projectName = \"\";\n      let modData: any = null;\n      try {\n        const modRes = await this.requestWithRetry({\n          method: \"GET\",\n          url: `${this.curseforgeUrl}/v1/cf/mods/${projectId}`,\n          headers: {\n            Accept: \"application/json\",\n            \"x-api-key\": \"$2a$10$S.m6.v.m6.v.m6.v.m6.v.m6.v.m6.v.m6.v.m6.v.m6.v.m6.v.m6\"\n          }\n        });\n        modData = modRes.data.data;\n        projectName = modData.name;\n      } catch (e) {}\n\n      const res = await this.requestWithRetry({\n        method: \"GET\",\n        url: `${this.curseforgeUrl}/v1/cf/mods/${projectId}/files`,\n        headers: {\n          Accept: \"application/json\",\n          \"x-api-key\": \"$2a$10$S.m6.v.m6.v.m6.v.m6.v.m6.v.m6.v.m6.v.m6.v.m6.v.m6.v.m6\"\n        }\n      });\n\n      // Determine project type from categories or classId\n      // classId 6 is Mod, 12 is Plugin\n      const isPlugin =\n        modData?.classId === 12 ||\n        modData?.categories?.some((c: any) =>\n          [\"spigot\", \"paper\", \"purpur\", \"folia\", \"bungeecord\", \"velocity\", \"waterfall\"].includes(\n            c.name.toLowerCase()\n          )\n        );\n\n      return res.data.data.map((file: any) => {\n        const gameVersions = file.gameVersions || [];\n        const loaders = gameVersions.filter((v: string) =>\n          [\n            \"Forge\",\n            \"Fabric\",\n            \"Quilt\",\n            \"NeoForge\",\n            \"Bungeecord\",\n            \"Spigot\",\n            \"Paper\",\n            \"Purpur\"\n          ].includes(v)\n        );\n        const realGameVersions = gameVersions.filter((v: string) => /^\\d+\\.\\d+(\\.\\d+)?$/.test(v));\n\n        const vn = this.cleanCurseForgeVersionName(\n          file.displayName || file.fileName || \"\",\n          projectName\n        );\n\n        return {\n          id: String(file.id),\n          name: vn,\n          version_number: vn,\n          game_versions: realGameVersions,\n          loaders: loaders,\n          project_type: isPlugin ? \"plugin\" : \"mod\",\n          files: [\n            {\n              url: file.downloadUrl,\n              filename: file.fileName,\n              primary: true\n            }\n          ]\n        };\n      });\n    } catch (err) {\n      console.error(\"CurseForge versions error:\", err);\n      return null;\n    }\n  }\n\n  public async searchSpigotMC(\n    query: string,\n    offset = 0,\n    limit = 20,\n    filters?: { version?: string; type?: string; loader?: string; environment?: string }\n  ) {\n    if (filters?.type === \"mod\") {\n      return { hits: [], total_hits: 0 };\n    }\n    try {\n      // Spiget API search endpoint returns 404 if no results are found\n      // We should handle this gracefully\n      const trimmedQuery = query?.trim() || \" \";\n      const url = `https://api.spiget.org/v2/search/resources/${encodeURIComponent(trimmedQuery)}`;\n\n      const res = await this.requestWithRetry({\n        method: \"GET\",\n        url,\n        params: {\n          size: limit,\n          page: Math.floor(offset / limit) + 1,\n          fields: \"id,name,tag,icon,rating,downloads,updateDate,version\",\n          sort: \"-updateDate\"\n        },\n        headers: {\n          \"User-Agent\": \"MCSManager\"\n        },\n        validateStatus: (status: number) => (status >= 200 && status < 300) || status === 404\n      });\n\n      if (res.status === 404 || !res.data) {\n        return { hits: [], total_hits: 0 };\n      }\n\n      const data = Array.isArray(res.data) ? res.data : [];\n\n      // Fetch version names for all hits to avoid showing IDs\n      const versionIds = data.map((item: any) => item.version?.id).filter((id: any) => !!id);\n      const versionNamesMap: Record<string, string> = {};\n\n      if (versionIds.length > 0) {\n        try {\n          // Spiget doesn't support batch version lookup easily, but we can try to get the latest version name\n          // for each resource if it's not in the search result.\n          // Actually, let's try to fetch the resource details which might have the version name.\n          // Or just use the version ID as a fallback but try to find a better way.\n          // For now, let's try to fetch the version name for each one in parallel (limited)\n          await Promise.all(\n            data.slice(0, 20).map(async (item: any) => {\n              if (item.version?.id) {\n                try {\n                  const vRes = await this.requestWithRetry({\n                    method: \"GET\",\n                    url: `https://api.spiget.org/v2/resources/${item.id}/versions/${item.version.id}`,\n                    timeout: 4000,\n                    headers: {\n                      \"User-Agent\": \"MCSManager\"\n                    }\n                  });\n                  if (vRes.data?.name) {\n                    versionNamesMap[item.version.id] = vRes.data.name;\n                  }\n                } catch (e) {}\n              }\n            })\n          );\n        } catch (e) {}\n      }\n\n      const hits = data.map((item: any) => ({\n        id: String(item.id),\n        slug: String(item.id),\n        title: item.name,\n        description: item.tag,\n        icon_url: item.icon?.url ? `https://www.spigotmc.org/${item.icon.url}` : \"\",\n        author: \"\",\n        downloads: item.downloads,\n        updated: new Date(item.updateDate * 1000).toISOString(),\n        categories: [],\n        version_number:\n          versionNamesMap[item.version?.id] ||\n          item.version?.name ||\n          (item.version?.id ? String(item.version.id) : \"Latest\"),\n        game_versions: [],\n        display_categories: [\"Spigot\"],\n        source: \"SpigotMC\",\n        project_type: \"plugin\"\n      }));\n\n      return {\n        hits,\n        total_hits:\n          parseInt(res.headers[\"x-total-count\"] || \"0\") ||\n          (data.length === limit ? offset + limit + 1 : offset + data.length)\n      };\n    } catch (err) {\n      console.error(\"SpigotMC search error:\", err);\n      return { hits: [], total_hits: 0 };\n    }\n  }\n\n  public async getSpigotVersions(projectId: string) {\n    try {\n      let resourceName = projectId;\n      try {\n        const resourceRes = await this.requestWithRetry({\n          method: \"GET\",\n          url: `https://api.spiget.org/v2/resources/${projectId}`,\n          headers: {\n            \"User-Agent\": \"MCSManager\"\n          }\n        });\n        resourceName = resourceRes.data.name;\n      } catch (e) {}\n\n      const res = await this.requestWithRetry({\n        method: \"GET\",\n        url: `https://api.spiget.org/v2/resources/${projectId}/versions`,\n        params: { size: 100 },\n        headers: {\n          \"User-Agent\": \"MCSManager\"\n        }\n      });\n      const versions = res.data;\n      return versions.map((v: any, index: number) => {\n        // Clean resource name for filename\n        const safeName = resourceName.replace(/[\\\\\\/\\:\\*\\?\\\"\\<\\>\\|]/g, \"_\").replace(/\\s+/g, \"_\");\n        // Use version-less download URL for the latest version to bypass SpigotMC Cloudflare via Spiget CDN\n        // Spiget API returns versions sorted by releaseDate descending (newest first)\n        const isLatest = index === 0;\n        const downloadUrl = isLatest\n          ? `https://api.spiget.org/v2/resources/${projectId}/download`\n          : `https://api.spiget.org/v2/resources/${projectId}/versions/${v.id}/download`;\n\n        // Use Spiget CDN to bypass Cloudflare if possible\n        // If CDN fails (521), the daemon will still try the original URL with browser headers\n        const cdnDownloadUrl = downloadUrl.replace(\"api.spiget.org\", \"cdn.spiget.org\");\n\n        return {\n          id: String(v.id),\n          name: v.name,\n          version_number: v.name,\n          game_versions: [],\n          loaders: [\"Spigot\", \"Paper\"],\n          project_type: \"plugin\",\n          files: [\n            {\n              url: cdnDownloadUrl,\n              filename: `${safeName}-${v.name}.jar`,\n              primary: true\n            },\n            {\n              url: downloadUrl,\n              filename: `${safeName}-${v.name}.jar`,\n              primary: false\n            }\n          ]\n        };\n      });\n    } catch (err) {\n      console.error(\"SpigotMC versions error:\", err);\n      return null;\n    }\n  }\n}\n\nexport const modManagerService = new ModManagerService();\n","import { JsonlStorageSubsystem } from \"./../common/storage/jsonl_storage\";\nimport { v4 } from \"uuid\";\nimport type { OperationLoggerItem, OperationLoggerItemPayload } from \"../../types/operation_logger\";\nimport RemoteRequest from \"./remote_command\";\nimport RemoteServiceSubsystem from \"./remote_service\";\n\ntype CleanPayload<T extends keyof OperationLoggerItemPayload> = Omit<\n  OperationLoggerItemPayload[T],\n  \"operation_id\" | \"operation_time\" | \"operation_level\"\n>;\n\nclass OperationLogger {\n  #storage: JsonlStorageSubsystem;\n  #buffer: Map<string, OperationLoggerItem>;\n  #bufferSize: number;\n  #flushTimer: NodeJS.Timeout | null = null;\n\n  constructor(bufferSize = 20) {\n    this.#storage = new JsonlStorageSubsystem(\"/operation_logs\");\n    this.#buffer = new Map();\n    this.#bufferSize = bufferSize;\n    this.startFlushTimer();\n  }\n\n  async flushAsync(buffer: Map<string, OperationLoggerItem> = this.#buffer) {\n    if (buffer.size === 0) return true;\n    const entries = Array.from(buffer.values());\n    await this.#storage.append(\"global\", entries);\n    return true;\n  }\n\n  flushSync(buffer: Map<string, OperationLoggerItem> = this.#buffer) {\n    if (buffer.size === 0) return true;\n    const entries = Array.from(buffer.values());\n    this.#storage.append(\"global\", entries, true);\n    return true;\n  }\n\n  checkBufferQueue() {\n    if (this.#buffer.size < this.#bufferSize) return;\n    const currentBuffer = this.#buffer;\n    this.#buffer = new Map();\n    this.flushAsync(currentBuffer);\n  }\n\n  log<T extends keyof OperationLoggerItemPayload>(\n    type: T,\n    payload: CleanPayload<T>,\n    level: \"info\" | \"warning\" | \"error\" = \"info\"\n  ) {\n    const operation_id = v4();\n    const operation_time = Date.now().toString();\n\n    const item: OperationLoggerItem = {\n      type,\n      operation_id,\n      operation_time,\n      operation_level: level,\n      ...payload\n    } as unknown as OperationLoggerItem;\n\n    this.#buffer.set(operation_id, item);\n    this.checkBufferQueue();\n    return operation_id;\n  }\n\n  async get(limit = 20) {\n    if (limit <= this.#buffer.size) return Array.from(this.#buffer.values()).slice(-limit);\n    const currentBuffer = this.#buffer;\n    this.#buffer = new Map();\n    await this.flushAsync(currentBuffer);\n    return this.#storage.tail<OperationLoggerItem>(\"global\", limit);\n  }\n\n  info<T extends keyof OperationLoggerItemPayload>(type: T, payload: CleanPayload<T>) {\n    return this.log(type, payload, \"info\");\n  }\n\n  warning<T extends keyof OperationLoggerItemPayload>(type: T, payload: CleanPayload<T>) {\n    return this.log(type, payload, \"warning\");\n  }\n\n  error<T extends keyof OperationLoggerItemPayload>(type: T, payload: CleanPayload<T>) {\n    return this.log(type, payload, \"error\");\n  }\n\n  private startFlushTimer() {\n    this.#flushTimer = setInterval(() => {\n      if (this.#buffer.size > 0) {\n        const currentBuffer = this.#buffer;\n        this.#buffer = new Map();\n        this.flushAsync(currentBuffer);\n      }\n    }, 5000);\n  }\n\n  public stopFlushTimer() {\n    if (this.#flushTimer) {\n      clearInterval(this.#flushTimer);\n      this.#flushTimer = null;\n    }\n  }\n}\n\nexport const operationLogger = new OperationLogger();\n\nprocess.on(\"SIGINT\", () => {\n  operationLogger.stopFlushTimer();\n  operationLogger.flushSync();\n});\n\nprocess.on(\"exit\", () => {\n  operationLogger.stopFlushTimer();\n  operationLogger.flushSync();\n});\n","import Koa from \"koa\";\nimport { GlobalVariable } from \"mcsmanager-common\";\nimport { authenticator } from \"otplib\";\nimport QRCode from \"qrcode\";\nimport { User } from \"../entity/user\";\nimport { $t } from \"../i18n\";\nimport { systemConfig } from \"../setting\";\nimport { logger } from \"./log\";\nimport { timeUuid } from \"./password\";\nimport userSystem from \"./user_service\";\n\nexport const BAN_IP_COUNT = \"banip\";\nexport const LOGIN_FAILED_KEY = \"loginFailed\";\nexport const ILLEGAL_ACCESS_KEY = \"illegalAccess\";\nexport const LOGIN_COUNT = \"loginCount\";\nexport const LOGIN_FAILED_COUNT_KEY = \"loginFailedCount\";\n\nexport function login(\n  ctx: Koa.ParameterizedContext,\n  userName: string,\n  passWord: string,\n  twoFACode?: string\n): string {\n  // record the number of login requests\n  GlobalVariable.set(LOGIN_COUNT, GlobalVariable.get(LOGIN_COUNT, 0) + 1);\n  const ip = getLoginIp(ctx);\n  // check user information\n  try {\n    const totpDriftToleranceSteps = systemConfig?.totpDriftToleranceSteps || 0;\n    userSystem.checkUser({ userName, passWord }, twoFACode, totpDriftToleranceSteps);\n    // The number of errors to reset this IP after successful login\n    const ipMap = GlobalVariable.get(LOGIN_FAILED_KEY);\n    if (ipMap) delete ipMap[ip || \"\"];\n\n    // Session Session state changes to logged in\n    return loginSuccess(ctx, userName);\n  } catch (err) {\n    // record the number of login failures\n    GlobalVariable.set(LOGIN_FAILED_COUNT_KEY, GlobalVariable.get(LOGIN_FAILED_COUNT_KEY, 0) + 1);\n    if (ctx.session) {\n      ctx.session[\"login\"] = null;\n      ctx.session[\"token\"] = null;\n      ctx.session.save();\n    }\n    logger.info(`[LOGIN] IP: ${ip}, Try login ${userName} failed!`);\n    throw err;\n  }\n}\n\nexport function loginSuccess(ctx: Koa.ParameterizedContext, userName: string) {\n  const ip = getLoginIp(ctx);\n  const user = userSystem.getUserByUserName(userName);\n  if (!user) throw new Error($t(\"TXT_CODE_router.login.nameOrPassError\"));\n  if (!ctx.session) throw new Error(\"Session is Null!\");\n\n  user.loginTime = new Date().toLocaleString();\n  ctx.session[\"login\"] = true;\n  ctx.session[\"userName\"] = userName;\n  ctx.session[\"uuid\"] = user.uuid;\n  ctx.session[\"token\"] = timeUuid();\n  ctx.session.save();\n\n  logger.info($t(\"TXT_CODE_42036f92\"));\n  logger.info(`[LOGIN] IP: ${ip} Login ${userName} successful!`);\n  logger.info(`[LOGIN] Token: ${ctx.session[\"token\"]}`);\n  logger.info($t(\"TXT_CODE_42036f92\"));\n\n  return String(ctx.session[\"token\"]);\n}\n\nexport function getLoginIp(ctx: Koa.ParameterizedContext) {\n  return ctx.ip ?? \"\";\n}\n\nexport async function bind2FA(ctx: Koa.ParameterizedContext) {\n  if (!ctx.session) throw new Error(\"Session is Null!\");\n  const userName = ctx.session[\"userName\"];\n  const user = userSystem.getUserByUserName(userName);\n  if (!user) throw new Error(\"User is Null!\");\n  try {\n    const secret = authenticator.generateSecret();\n    const qrCode = await QRCode.toDataURL(\n      authenticator.keyuri(userName, \"MCSManager Panel\", secret)\n    );\n    userSystem.edit(user.uuid, { secret, open2FA: false });\n    return qrCode;\n  } catch (err) {\n    user.secret = \"\";\n  }\n}\n\nexport async function confirm2FaQRCode(userUuid: string, isEnable: boolean) {\n  await userSystem.edit(userUuid, {\n    open2FA: isEnable\n  });\n}\n\nexport function check(ctx: Koa.ParameterizedContext) {\n  if (!ctx.session) return false;\n  if (ctx.session[\"login\"] && ctx.session[\"userName\"] && ctx.session[\"token\"]) return true;\n  return false;\n}\n\nexport function logout(ctx: Koa.ParameterizedContext): boolean {\n  if (!ctx.session) return false;\n  ctx.session[\"login\"] = null;\n  ctx.session[\"userName\"] = null;\n  ctx.session[\"uuid\"] = null;\n  ctx.session[\"token\"] = null;\n  ctx.session.maxAge = 0;\n  ctx.session.save();\n  return true;\n}\n\nexport async function register(\n  ctx: Koa.ParameterizedContext,\n  userName: string,\n  passWord: string,\n  permission: number\n) {\n  let f = true;\n  // Check for duplicate usernames.\n  userSystem.objects.forEach((user) => {\n    if (user && user.userName == userName) f = false;\n  });\n  if (f) {\n    // Next. UUID and other data will be automatically generated.\n    const { uuid } = await userSystem.create({\n      userName,\n      passWord,\n      permission\n    });\n\n    return {\n      uuid,\n      userName,\n      permission\n    };\n  }\n  return false;\n}\n\nexport function getUserPermission(ctx: Koa.ParameterizedContext): number {\n  let user: User | undefined | null = undefined;\n  if (isApiRequest(ctx)) {\n    user = getUuidByApiKey(getApiKey(ctx));\n  } else {\n    user = userSystem.getInstance(ctx.session?.[\"uuid\"] || \"\");\n  }\n  if (!user) return 0;\n  return user.permission ?? 0;\n}\n\nexport function getUserNameBySession(ctx: Koa.ParameterizedContext): string {\n  if (isApiRequest(ctx)) {\n    const user = getUuidByApiKey(getApiKey(ctx));\n    return user ? user.userName : \"\";\n  }\n  return ctx.session?.[\"userName\"];\n}\n\nexport function getUserFromCtx(ctx: Koa.ParameterizedContext) {\n  try {\n    if (isApiRequest(ctx)) {\n      const user = getUuidByApiKey(getApiKey(ctx));\n      return user || undefined;\n    }\n    return userSystem.getInstance(ctx.session?.[\"uuid\"] || \"\") || undefined;\n  } catch (error) {\n    return undefined;\n  }\n}\n\nexport function getUserUuid(ctx: Koa.ParameterizedContext): string {\n  if (isApiRequest(ctx)) {\n    const user = getUuidByApiKey(getApiKey(ctx));\n    if (user && user.uuid) {\n      return user.uuid;\n    } else {\n      return \"\";\n    }\n  }\n  return ctx.session?.[\"uuid\"] || \"\";\n}\n\nexport function getToken(ctx: Koa.ParameterizedContext): string {\n  return ctx.session?.[\"token\"] || \"\";\n}\n\nexport function isAjax(ctx: Koa.ParameterizedContext) {\n  return (\n    ctx.header[\"x-requested-with\"] &&\n    ctx.header[\"x-requested-with\"].toString().toLocaleLowerCase() === \"xmlhttprequest\"\n  );\n}\n\nexport function checkBanIp(ctx: Koa.ParameterizedContext) {\n  if (!GlobalVariable.map.has(LOGIN_FAILED_KEY)) GlobalVariable.set(LOGIN_FAILED_KEY, {});\n  // This IpMap also needs to be used when logging in\n  const ipMap = GlobalVariable.get(LOGIN_FAILED_KEY);\n\n  const ip = getLoginIp(ctx);\n\n  if (ipMap[ip] > 10 && systemConfig?.loginCheckIp === true) {\n    if (ipMap[ip] != 999) {\n      // record the number of bans\n      GlobalVariable.set(BAN_IP_COUNT, GlobalVariable.get(BAN_IP_COUNT, 0) + 1);\n      setTimeout(() => {\n        delete ipMap[ip];\n        // delete the number of bans\n        GlobalVariable.set(BAN_IP_COUNT, GlobalVariable.get(BAN_IP_COUNT, 1) - 1);\n      }, 1000 * 60 * 10);\n    }\n    ipMap[ip] = 999;\n    return false;\n  }\n  if (!isNaN(Number(ipMap[ip]))) ipMap[ip] = Number(ipMap[ip]) + 1;\n  else ipMap[ip] = 1;\n  return true;\n}\n\nexport function getUuidByApiKey(apiKey: string) {\n  const pageData = userSystem.getQueryWrapper().selectPage(\n    {\n      apiKey\n    },\n    1,\n    1\n  );\n  if (pageData.total === 1) {\n    return pageData.data[0];\n  }\n  return null;\n}\n\nexport function isApiRequest(ctx: Koa.ParameterizedContext) {\n  return ctx.query.apikey || ctx.request?.header[\"x-request-api-key\"] ? true : false;\n}\n\nexport function getApiKey(ctx: Koa.ParameterizedContext) {\n  return String(ctx.query.apikey || ctx.request?.header[\"x-request-api-key\"] || \"\");\n}\n","import { v4 } from \"uuid\";\n\nexport function timeUuid() {\n  let uuid = v4().replace(/-/gim, \"\");\n  const t = new Date().getTime() + \"\";\n  uuid = uuid + t;\n  return uuid;\n}\n","import userSystem from \"./user_service\";\nimport { User } from \"../entity/user\";\n\nexport function isHaveInstance(user: User, daemonId: string, instanceUuid: string) {\n  if (isTopPermission(user)) return true;\n  if (user && user.instances) {\n    for (const v of user.instances) {\n      if (daemonId === v.daemonId && instanceUuid === v.instanceUuid) return true;\n    }\n  }\n  return false;\n}\n\nexport function isTopPermission(user: User) {\n  if (!user) return false;\n  return user.permission >= 10;\n}\n\nexport function isTopPermissionByUuid(uuid: string) {\n  const user = userSystem.getInstance(uuid);\n  if (!user) return false;\n  return isTopPermission(user);\n}\n\nexport function isHaveInstanceByUuid(uuid: string, daemonId: string, instanceUuid: string) {\n  const user = userSystem.getInstance(uuid);\n  if (!user) return false;\n  return isHaveInstance(user, daemonId, instanceUuid);\n}\n\nexport function getUserByUserName(userName: string) {\n  return userSystem.getUserByUserName(userName);\n}\n","import { v4 } from \"uuid\";\nimport { IPacket, IRequestPacket } from \"../entity/entity_interface\";\nimport RemoteService from \"../entity/remote_service\";\nimport { $t } from \"../i18n\";\n\nclass RemoteError extends Error {\n  constructor(msg: string) {\n    super(msg);\n  }\n}\n\nexport class RemoteRequestTimeoutError extends RemoteError {\n  constructor(msg: string) {\n    super(msg);\n  }\n}\n\n// Use RemoteRequest to send Socket.io events and data to remote services,\n// and support synchronous response data (such as HTTP).\nexport default class RemoteRequest {\n  constructor(public readonly rService?: RemoteService) {\n    if (!this.rService || !this.rService.socket) throw new Error($t(\"TXT_CODE_ca8072bd\"));\n  }\n\n  // request to remote daemon\n  public async request<T = any>(\n    event: string,\n    data?: any,\n    timeout = 6000,\n    force = false\n  ): Promise<T> {\n    if (!this.rService || !this.rService.socket) throw new Error($t(\"TXT_CODE_3d94ea16\"));\n    if (!this.rService.available && !force)\n      throw new Error($t(\"TXT_CODE_b7d38e78\") + ` IP: ${this.rService.config.ip}`);\n    if (!this.rService.socket.connected && !force)\n      throw new Error($t(\"TXT_CODE_7c650d80\") + ` IP: ${this.rService.config.ip}`);\n\n    return new Promise((resolve, reject) => {\n      let countdownTask: NodeJS.Timeout;\n      const uuid = [v4(), new Date().getTime()].join(\"\");\n      const protocolData: IRequestPacket = { uuid, data };\n\n      const fn = (msg: IPacket) => {\n        if (msg.uuid === uuid) {\n          if (countdownTask) clearTimeout(countdownTask);\n          this.rService?.socket?.removeListener(event, fn);\n          if (msg.status == RemoteService.STATUS_OK) resolve(msg.data);\n          else if (msg.data.err) {\n            reject(new RemoteError(msg.data.err));\n          } else {\n            reject(new RemoteError(msg.data));\n          }\n        }\n      };\n\n      if (timeout) {\n        countdownTask = setTimeout(() => {\n          this.rService?.socket?.removeListener(event, fn);\n          reject(\n            new RemoteRequestTimeoutError(\n              [$t(\"TXT_CODE_bd99b64e\"), this.rService?.config.ip].join(\" \")\n            )\n          );\n        }, timeout);\n      }\n\n      this.rService?.socket?.on(event, fn);\n      // send command\n      this.rService?.emit(event, protocolData);\n    });\n  }\n}\n","import fs from \"fs-extra\";\nimport path from \"path\";\nimport Storage from \"../common/storage/sys_storage\";\nimport { IRemoteService, RemoteServiceConfig } from \"../entity/entity_interface\";\nimport RemoteService from \"../entity/remote_service\";\nimport { $t } from \"../i18n\";\nimport { UniversalRemoteSubsystem } from \"./base/urs\";\nimport { logger } from \"./log\";\n\n// The RemoteServiceSubsystem will be one of the most important systems\n// main function is to store remote services everywhere\n// Scan local services, unified management, remote calls and proxies, etc.\nclass RemoteServiceSubsystem extends UniversalRemoteSubsystem<RemoteService> {\n  async initialize() {\n    // If it is the first startup, it will automatically try to connect to \"LocalHost\",\n    // otherwise it will automatically read from the configuration file and connect to all remote services.\n    for (const uuid of await Storage.getStorage().list(\"RemoteServiceConfig\")) {\n      const config = (await Storage.getStorage().load(\n        \"RemoteServiceConfig\",\n        RemoteServiceConfig,\n        uuid\n      )) as RemoteServiceConfig;\n      const newService = new RemoteService(uuid, config);\n      this.setInstance(uuid, newService);\n      newService.connect();\n    }\n\n    // If there is no daemon process, check whether there is a daemon process locally\n    if (this.services.size === 0) {\n      await this.initConnectLocalhost(\"\");\n    }\n\n    logger.info($t(\"TXT_CODE_systemRemoteService.nodeCount\", { n: this.services.size }));\n\n    // Register for periodic connection status checks\n    setInterval(() => this.connectionStatusCheckTask(), 1000 * 60);\n  }\n\n  // Register a NEW remote service to system and connect it.\n  // Like: this.registerRemoteService({\n  // ip: \"127.0.0.1\",\n  // apiKey: \"test_key\",\n  // port: 24444\n  // });\n  async registerRemoteService(config: IRemoteService) {\n    const instance = await this.newInstance(config);\n    if (!instance) throw new Error($t(\"TXT_CODE_3bfb9e04\"));\n    await Storage.getStorage().store(\"RemoteServiceConfig\", instance.uuid, instance.config);\n    instance.connect();\n    return instance;\n  }\n\n  // Delete the specified remote service based on UUID\n  async deleteRemoteService(uuid: string) {\n    if (this.getInstance(uuid)) {\n      this.getInstance(uuid)?.disconnect();\n      this.deleteInstance(uuid);\n      await Storage.getStorage().delete(\"RemoteServiceConfig\", uuid);\n    }\n  }\n\n  // According to the IRemoteService, New a RemoteService object\n  // Used to initialize objects.\n  async newInstance(config: IRemoteService) {\n    const instance = new RemoteService(\n      config.uuid || this.randdomUuid(),\n      new RemoteServiceConfig()\n    );\n    this.setInstance(instance.uuid, instance);\n    await this.edit(instance.uuid, config);\n    return instance;\n  }\n\n  // Edit the configuration file of the instance\n  async edit(uuid: string, config: IRemoteService) {\n    const instance = this.getInstance(uuid);\n    if (!instance) return;\n    if (config.remarks) instance.config.remarks = config.remarks;\n    if (config.ip) instance.config.ip = config.ip;\n    if (config.port) instance.config.port = config.port;\n    if (config.prefix != null) instance.config.prefix = config.prefix;\n    if (config.apiKey) instance.config.apiKey = config.apiKey;\n    if (config.remoteMappings != null) instance.config.remoteMappings = config.remoteMappings;\n    await Storage.getStorage().store(\"RemoteServiceConfig\", instance.uuid, instance.config);\n  }\n\n  // Scannce localhost service\n  // First use, need to scan the local host\n  // Note: Every time you execute \"initConnectLocalhost\",\n  // it will be managed by the subsystem (regardless of whether the target exists).\n  async initConnectLocalhost(key?: string) {\n    const ip = \"localhost\";\n    const localKeyFilePath = path.normalize(\n      path.join(process.cwd(), \"../daemon/data/Config/global.json\")\n    );\n    logger.info($t(\"TXT_CODE_systemRemoteService.loadDaemonTitle\", { localKeyFilePath }));\n    if (fs.existsSync(localKeyFilePath)) {\n      logger.info($t(\"TXT_CODE_systemRemoteService.autoCheckDaemon\"));\n      const localDaemonConfig = JSON.parse(\n        fs.readFileSync(localKeyFilePath, { encoding: \"utf-8\" })\n      );\n      const localKey = localDaemonConfig.key;\n      const localPort = localDaemonConfig.port;\n      return await this.registerRemoteService({ apiKey: localKey, port: localPort, ip });\n    } else if (key) {\n      const port = 24444;\n      return await this.registerRemoteService({ apiKey: key, port, ip });\n    }\n    logger.warn($t(\"TXT_CODE_systemRemoteService.error\"));\n\n    // After 5 seconds, determine whether the daemon has been connected until a daemon is connected\n    setTimeout(() => {\n      if (this.services.size === 0) return this.initConnectLocalhost();\n    }, 5 * 1000);\n  }\n\n  count() {\n    let total = 0;\n    let available = 0;\n    this.services.forEach((v) => {\n      total++;\n      if (v.available) available++;\n    });\n    return { available, total };\n  }\n\n  // Periodic connection status check\n  connectionStatusCheckTask() {\n    this.services?.forEach((v) => {\n      if (v && v.available === false) {\n        logger.warn(\n          `Daemon exception detected: ${v.config.remarks} ${v.config.ip}:${v.config.port}, reconnecting...`\n        );\n        return v.connect();\n      }\n    });\n  }\n\n  changeDaemonLanguage(language: string) {\n    for (const iterator of this.services.entries()) {\n      iterator[1].setLanguage(language);\n    }\n  }\n}\n\nexport default new RemoteServiceSubsystem();\n","import bcrypt from \"bcryptjs\";\nimport { t } from \"i18next\";\nimport { LocalFileSource, QueryWrapper } from \"mcsmanager-common\";\nimport md5 from \"md5\";\nimport { authenticator } from \"otplib\";\nimport { v4 } from \"uuid\";\nimport Storage from \"../common/storage/sys_storage\";\nimport { IUser } from \"../entity/entity_interface\";\nimport { IUserApp, User, UserPassWordType } from \"../entity/user\";\nimport { $t } from \"../i18n\";\nimport { logger } from \"./log\";\n\nexport class TwoFactorError extends Error {}\n\nclass UserSubsystem {\n  public readonly objects: Map<string, User> = new Map();\n\n  async initialize() {\n    for (const uuid of await Storage.getStorage().list(\"User\")) {\n      const user = (await Storage.getStorage().load(\"User\", User, uuid)) as User;\n      this.objects.set(uuid, user);\n    }\n    logger.info($t(\"TXT_CODE_systemUser.userCount\", { n: this.objects.size }));\n  }\n\n  async create(config: IUser): Promise<User> {\n    const newUuid = v4().replace(/-/gim, \"\");\n    // Initialize necessary user data\n    const instance = new User();\n    instance.uuid = newUuid;\n    instance.registerTime = new Date().toLocaleString();\n    // add to the user system\n    this.setInstance(newUuid, instance);\n    await this.edit(instance.uuid, config);\n    // Persistently save user information\n    await Storage.getStorage().store(\"User\", instance.uuid, instance);\n    return instance;\n  }\n\n  // Update user detail\n  async edit(uuid: string, config: any) {\n    const instance = this.getInstance(uuid);\n    if (!instance) return;\n    if (config.userName) instance.userName = config.userName;\n    if (config.isInit != null) instance.isInit = Boolean(config.isInit);\n    if (config.permission) instance.permission = config.permission;\n    if (config.registerTime) instance.registerTime = config.registerTime;\n    if (config.loginTime) instance.loginTime = config.loginTime;\n    if (config.apiKey != null) instance.apiKey = config.apiKey;\n    if (config.secret != null) instance.secret = String(config.secret);\n    if (config.open2FA != null) instance.open2FA = Boolean(config.open2FA);\n    if (config.instances) this.setUserInstances(uuid, config.instances);\n    if (config.passWord) {\n      instance.passWordType = UserPassWordType.bcrypt;\n      instance.passWord = bcrypt.hashSync(config.passWord, 10);\n    }\n    await Storage.getStorage().store(\"User\", uuid, instance);\n  }\n\n  validatePassword(password = \"\") {\n    if (password.length < 9 || password.length > 36) return false;\n    const reg = /(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])/;\n    return reg.test(password);\n  }\n\n  check2FA(code: string, user: IUser, totpDriftToleranceSteps: number = 0) {\n    if (!user.secret)\n      throw new Error(\"Please contact the administrator to reset the account password\");\n    authenticator.options = { window: totpDriftToleranceSteps };\n    const delta = authenticator.checkDelta(code, user?.secret);\n    return delta != null;\n  }\n\n  checkUser(info: IUser, code2FA?: string, totpDriftToleranceSteps: number = 0) {\n    const inputPassword = info.passWord || \"\";\n    for (const [uuid, user] of this.objects) {\n      if (user.userName === info.userName) {\n        if (\n          user.open2FA &&\n          user.secret &&\n          !this.check2FA(code2FA || \"\", user, totpDriftToleranceSteps)\n        )\n          throw new TwoFactorError(t(\"TXT_CODE_3d68e43b\"));\n        if (user.passWordType === UserPassWordType.bcrypt) {\n          if (!bcrypt.compareSync(inputPassword, user.passWord))\n            throw new Error($t(\"TXT_CODE_fefbb457\"));\n        } else {\n          if (!(md5(inputPassword) === user.passWord)) throw new Error($t(\"TXT_CODE_fefbb457\"));\n        }\n      }\n    }\n  }\n\n  existUserName(userName: string): boolean {\n    let flag = false;\n    this.objects.forEach((user) => {\n      if (user.userName === userName) return (flag = true);\n    });\n    return flag;\n  }\n\n  setUserInstances(uuid: string, instanceIds: IUserApp[]) {\n    const user = this.getInstance(uuid);\n    if (!user) return;\n    instanceIds.forEach((value) => {\n      if (!value.daemonId || !value.instanceUuid)\n        throw new Error(\"Type error, The instances of user must be IUserHaveInstance array.\");\n    });\n    user.instances = [];\n    instanceIds.forEach((value) => {\n      user.instances.push({\n        instanceUuid: String(value.instanceUuid),\n        daemonId: String(value.daemonId)\n      });\n    });\n  }\n  deleteUserInstances(uuid: string | null, instanceIds: IUserApp[], allUsers = false) {\n    if (uuid && allUsers) {\n      throw new Error(\"Type error, The uuid and allUsers cannot be true at the same time.\");\n    }\n    const users = allUsers ? Array.from(this.objects.values()) : [this.getInstance(uuid!)];\n    if (!users || users.length === 0) return;\n    instanceIds.forEach((value) => {\n      if (!value.daemonId || !value.instanceUuid)\n        throw new Error(\"Type error, The instances of user must be IUserHaveInstance array.\");\n    });\n    users.forEach((user) => {\n      if (!user) return;\n      user.instances = user.instances.filter((value) => {\n        for (const instance of instanceIds) {\n          if (instance.daemonId === value.daemonId && instance.instanceUuid === value.instanceUuid)\n            return false;\n        }\n        return true;\n      });\n    });\n  }\n\n  getUserByUserName(userName: string) {\n    for (const map of this.objects) {\n      const user = map[1];\n      if (user.userName === userName) return user;\n    }\n    return null;\n  }\n\n  getUserByUuid(uuid: string) {\n    return this.objects.get(uuid) || null;\n  }\n\n  getInstance(uuid: string) {\n    return this.objects.get(uuid);\n  }\n\n  setInstance(uuid: string, object: User) {\n    this.objects.set(uuid, object);\n  }\n\n  hasInstance(uuid: string) {\n    return this.objects.has(uuid);\n  }\n\n  async deleteInstance(uuid: string) {\n    if (this.hasInstance(uuid)) {\n      this.objects.delete(uuid);\n      await Storage.getStorage().delete(\"User\", uuid);\n    }\n  }\n\n  getQueryWrapper() {\n    return new QueryWrapper(new LocalFileSource<User>(this.objects));\n  }\n}\n\nexport default new UserSubsystem();\n","import { v4 } from \"uuid\";\n\nexport default class UserSSOService {\n  private static tokens = new Map<string, string>();\n\n  constructor() {}\n\n  public static generateSSOToken(username: string) {\n    if (!username || typeof username !== \"string\") throw new Error(\"username is required!\");\n    const token = v4();\n    UserSSOService.tokens.set(token, username);\n    if (UserSSOService.tokens.size > 1000) {\n      UserSSOService.tokens.delete(UserSSOService.tokens?.keys()?.next()?.value || \"\");\n    }\n    return token;\n  }\n\n  public static verifySSOToken(username: string, token: string) {\n    const name = UserSSOService.tokens.get(token);\n    if (name === username) {\n      UserSSOService.tokens.delete(token);\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\n","import axios from \"axios\";\nimport { getVersion } from \"../version\";\n\n// This function module is used for MCSManager user statistics,\n// the purpose is to know the number of existing daily activities and installations.\n// User statistics will not send any private data, user data, system information, etc.\nconst st = new Date().getTime();\nconst version = getVersion();\n\nasync function statistics() {\n  return await axios.get(\"http://statistics.mcsmanager.com/\", {\n    params: {\n      st,\n      version\n    },\n    timeout: 1000 * 30\n  });\n}\n\n// Only one request within 24 hours counts as valid statistics, and repeated requests are ignored\n// This is set to request once every 24 hours\nsetInterval(async () => {\n  try {\n    return await statistics();\n  } catch (error: any) {\n    // ignore\n  }\n}, 1000 * 60 * 60 * 24);\n\n// Count once when the panel starts\nstatistics()\n  .then(() => {})\n  .catch(() => {});\n","import { t } from \"i18next\";\nimport { GlobalVariable } from \"mcsmanager-common\";\nimport StorageSubsystem from \"../common/system_storage\";\nimport { systemConfig } from \"../setting\";\nimport { hasVersionChanged } from \"../version\";\nimport { logger } from \"./log\";\n\nfunction readCategoryConfig(configCategory: string, callback: (config: any) => boolean) {\n  const configPaths = StorageSubsystem.readDir(configCategory);\n  for (const configPath of configPaths) {\n    try {\n      const config = JSON.parse(StorageSubsystem.readFile(configPath));\n      if (callback(config)) {\n        logger.info(t(\"TXT_CODE_6b2a9cab\"), configPath);\n        StorageSubsystem.writeFile(configPath, JSON.stringify(config, null, 4));\n      }\n    } catch (error: any) {\n      logger.error(t(\"TXT_CODE_fb75aba9\"), error);\n    }\n  }\n}\n\nfunction refactorUserConfig(config: any) {\n  let changed = false;\n  const { instances } = config;\n  if (instances instanceof Array && instances.length > 0) {\n    for (const iterator of instances) {\n      if (typeof iterator.serviceUuid === \"string\") {\n        iterator.daemonId = iterator.serviceUuid;\n        delete iterator.serviceUuid;\n        changed = true;\n      }\n    }\n  }\n  return changed;\n}\n\n/**\n * Starting from version 10.8.0, the configuration file path for preset templates has changed,\n * so we will perform an automatic upgrade to ensure users' paths are updated automatically!\n */\nfunction upgradePresetPackAddr() {\n  const config = systemConfig;\n  const lastLaunchedVersion = GlobalVariable.get(\"lastLaunchedVersion\");\n  // If the version is less than 10.8.0 and the version has changed,\n  // then we need to upgrade the preset pack addr\n  if (config && lastLaunchedVersion < 108 && hasVersionChanged()) {\n    logger.warn(\n      `Upgrading Market source addr from ${config.presetPackAddr} to https://script.mcsmanager.com/market.json`\n    );\n    config.presetPackAddr = \"https://script.mcsmanager.com/market.json\";\n    StorageSubsystem.store(\"SystemConfig\", \"config\", config);\n  }\n}\n\nfunction detectConfig() {\n  upgradePresetPackAddr();\n  readCategoryConfig(\"User\", refactorUserConfig);\n}\n\nexport default { detectConfig };\n","import { logger } from \"./log\";\nimport { systemInfo } from \"mcsmanager-common\";\nimport RemoteServiceSubsystem from \"./remote_service\";\nimport RemoteRequest from \"./remote_command\";\n\n// Visual data subsystem: responsible for collecting system data and event data, and providing some methods to display them\nclass LineQueue<T> {\n  private readonly arr = new Array<T>();\n\n  constructor(public readonly maxSize: number, defaultValue: T) {\n    for (let index = 0; index < maxSize; index++) {\n      this.arr.push(defaultValue);\n    }\n  }\n\n  push(data: T) {\n    if (this.arr.length < this.maxSize) {\n      this.arr.push(data);\n    } else {\n      this.arr.shift();\n      this.arr.push(data);\n    }\n  }\n\n  getArray() {\n    return this.arr;\n  }\n}\n\ninterface ISystemChartInfo {\n  cpu: number;\n  mem: number;\n}\n\ninterface IWebChartInfo {\n  value: number;\n  totalInstance: number;\n  runningInstance: number;\n}\n\nclass VisualDataSubsystem {\n  public readonly countMap: Map<string, number> = new Map<string, number>();\n\n  // system information table\n  public readonly systemChart = new LineQueue<ISystemChartInfo>(60, { cpu: 0, mem: 0 });\n  // panel state table\n  public readonly statusChart = new LineQueue<IWebChartInfo>(60, {\n    value: 0,\n    totalInstance: 0,\n    runningInstance: 0\n  });\n\n  // request count counter\n  private requestCount = 0;\n\n  constructor() {\n    // system information table\n    setInterval(() => {\n      const info = systemInfo();\n      if (info) {\n        this.systemChart.push({\n          cpu: Number((info.cpuUsage * 100).toFixed(1)),\n          mem: Number((info.memUsage * 100).toFixed(1))\n        });\n      } else {\n        this.systemChart.push({\n          cpu: 0,\n          mem: 0\n        });\n      }\n    }, 1000 * 10);\n\n    // state table\n    setInterval(async () => {\n      // Calculate the total number of instances and the number of running instances\n      const remoteInfoList = new Array();\n      for (const iterator of RemoteServiceSubsystem.services.entries()) {\n        try {\n          remoteInfoList.push(await new RemoteRequest(iterator[1]).request(\"info/overview\"));\n        } catch (err) {}\n      }\n      let totalInstance = 0;\n      let runningInstance = 0;\n      for (const iterator of remoteInfoList) {\n        if (iterator.instance) {\n          totalInstance += iterator.instance.total;\n          runningInstance += iterator.instance.running;\n        }\n      }\n      this.statusChart.push({\n        value: this.requestCount,\n        totalInstance,\n        runningInstance\n      });\n      this.requestCount = 0;\n    }, 1000 * 10);\n  }\n\n  addRequestCount() {\n    this.requestCount++;\n  }\n\n  getSystemChartArray() {\n    return this.systemChart.getArray();\n  }\n\n  getStatusChartArray() {\n    return this.statusChart.getArray();\n  }\n\n  // Trigger counting event\n  emitCountEvent(eventName: string) {\n    const v = this.countMap.get(eventName);\n    if (v) {\n      this.countMap.set(eventName, v + 1);\n    } else {\n      this.countMap.set(eventName, 1);\n    }\n  }\n\n  // Trigger counting event\n  eventCount(eventName: string) {\n    return this.countMap.get(eventName);\n  }\n\n  // Trigger log event\n  emitLogEvent(eventName: string, source: any) {\n    const time = new Date().toLocaleString();\n    logger.info(`The object [${source}] triggered the [${eventName}] event at ${time}`);\n  }\n}\n\nexport default new VisualDataSubsystem();\n","// global configuration initialization\n\nimport SystemConfig from \"./entity/setting\";\nimport StorageSystem from \"./common/system_storage\";\nimport { i18next } from \"./i18n\";\nimport { v4 } from \"uuid\";\nlet systemConfig: SystemConfig | null = null;\n\n// System persistence configuration table\nexport function initSystemConfig() {\n  systemConfig = StorageSystem.load(\"SystemConfig\", SystemConfig, \"config\");\n  if (!systemConfig) {\n    systemConfig = new SystemConfig();\n    StorageSystem.store(\"SystemConfig\", \"config\", systemConfig);\n  }\n  if (systemConfig.language) i18next.changeLanguage(systemConfig.language);\n  if (!systemConfig.panelId) {\n    systemConfig.panelId = v4();\n    saveSystemConfig(systemConfig);\n  }\n}\n\nexport function saveSystemConfig(_systemConfig: SystemConfig) {\n  StorageSystem.store(\"SystemConfig\", \"config\", _systemConfig);\n}\n\nexport { systemConfig };\n","import { Mutex } from \"async-mutex\";\n\nexport const mutexMap = new WeakMap<Function, Mutex>();\nexport const mutexIdMap = new Map<string, Mutex>();\n\nexport async function execWithMutex<T>(fn: () => Promise<T>): Promise<T> {\n  let mutex = mutexMap.get(fn);\n  if (!mutex) {\n    mutex = new Mutex();\n    mutexMap.set(fn, mutex);\n  }\n  const releaseLock = await mutex.acquire();\n  try {\n    return await fn();\n  } finally {\n    releaseLock();\n    mutexMap.delete(fn);\n  }\n}\n\nexport async function execWithMutexId<T>(id: string, fn: () => Promise<T>) {\n  let mutex = mutexIdMap.get(id);\n  if (!mutex) {\n    mutex = new Mutex();\n    mutexIdMap.set(id, mutex);\n  }\n  const releaseLock = await mutex.acquire();\n  try {\n    return await fn();\n  } finally {\n    releaseLock();\n    mutexIdMap.delete(id);\n  }\n}\n","/**\n * Check if a URL is safe for external requests\n * Prevents SSRF attacks by blocking local/private IP addresses and internal domains\n */\nexport function checkSafeUrl(url: string): boolean {\n  try {\n    const urlObj = new URL(url);\n    const hostname = urlObj.hostname.toLowerCase();\n\n    // Reject IPv6 addresses (IPv6 addresses are wrapped in brackets by URL object)\n    if (hostname.startsWith(\"[\") && hostname.endsWith(\"]\")) {\n      return false;\n    }\n\n    // Reject IPv4 address format\n    const ipv4Regex = /^(\\d{1,3}\\.){3}\\d{1,3}$/;\n    if (ipv4Regex.test(hostname)) {\n      return false;\n    }\n\n    // Reject local domains and loopback addresses\n    const localDomains = [\"localhost\", \"127.0.0.1\", \"0.0.0.0\", \"::1\"];\n\n    if (localDomains.includes(hostname)) {\n      return false;\n    }\n\n    // Reject .local domains\n    if (hostname.endsWith(\".local\")) {\n      return false;\n    }\n\n    // Reject private IP address ranges (additional check in case IP format bypasses above)\n    if (ipv4Regex.test(hostname)) {\n      const parts = hostname.split(\".\").map(Number);\n      // 10.0.0.0/8\n      if (parts[0] === 10) return false;\n      // 172.16.0.0/12\n      if (parts[0] === 172 && parts[1] >= 16 && parts[1] <= 31) return false;\n      // 192.168.0.0/16\n      if (parts[0] === 192 && parts[1] === 168) return false;\n      // 127.0.0.0/8 (loopback)\n      if (parts[0] === 127) return false;\n      // 169.254.0.0/16 (link-local)\n      if (parts[0] === 169 && parts[1] === 254) return false;\n    }\n\n    // Must contain at least one dot (ensure it's a valid domain, not a single word)\n    if (!hostname.includes(\".\")) {\n      return false;\n    }\n\n    // Domain must have at least a top-level domain (exclude single dot cases)\n    const parts = hostname.split(\".\");\n    if (parts.length < 2 || parts.some((part) => part.length === 0)) {\n      return false;\n    }\n\n    // Only allow http and https protocols\n    const allowedProtocols = [\"http:\", \"https:\"];\n    if (!allowedProtocols.includes(urlObj.protocol)) {\n      return false;\n    }\n\n    return true;\n  } catch (error) {\n    return false;\n  }\n}\n","import axios from \"axios\";\nimport * as fs from \"fs-extra\";\nimport { GlobalVariable } from \"mcsmanager-common\";\nimport storage from \"./common/system_storage\";\nimport { getFrontendLayoutConfig } from \"./service/frontend_layout\";\nimport { logger } from \"./service/log\";\nimport { saveSystemConfig, systemConfig } from \"./setting\";\n\ninterface IPackageInfo {\n  name: string;\n  version: string;\n  daemonVersion: string;\n  description: string;\n}\n\n// A business platform for selling instances released by the MCSManager Dev Team.\n// Currently, it only supports some countries and regions.\n// If you do not turn on \"Business Mode\", MCSManager will not send any data.\nexport const REDEEM_PLATFORM_ADDR = \"http://localhost:3000\";\n\nconst PACKAGE_JSON = \"package.json\";\nconst VERSION_LOG_TEXT_NAME = \"current-version.txt\";\n\nlet currentVersion = \"\";\n\nexport function initVersionManager() {\n  try {\n    GlobalVariable.set(\"lastLaunchedVersion\", 100);\n    GlobalVariable.set(\"version\", \"Unknown\");\n    if (fs.existsSync(PACKAGE_JSON)) {\n      const data: IPackageInfo = JSON.parse(fs.readFileSync(PACKAGE_JSON, { encoding: \"utf-8\" }));\n      if (data.version) {\n        GlobalVariable.set(\"version\", data.version);\n        currentVersion = String(data.version);\n      }\n    }\n  } catch (error: any) {\n    logger.error(\"Version Check failure:\", error);\n  }\n\n  if (currentVersion && storage.fileExists(VERSION_LOG_TEXT_NAME)) {\n    const LastLaunchedVersion = storage.readFile(VERSION_LOG_TEXT_NAME);\n    const lastVersionNumber = Number(LastLaunchedVersion.split(\".\").slice(0, 2).join(\"\"));\n\n    if (LastLaunchedVersion && LastLaunchedVersion != currentVersion && !isNaN(lastVersionNumber)) {\n      logger.warn(`Version changed from ${LastLaunchedVersion} to ${currentVersion}`);\n      GlobalVariable.set(\"lastLaunchedVersion\", lastVersionNumber);\n      GlobalVariable.set(\"versionChange\", currentVersion);\n\n      // reload layout\n      getFrontendLayoutConfig();\n    }\n  }\n  storage.writeFile(VERSION_LOG_TEXT_NAME, currentVersion);\n}\n\nexport function getVersion(): string {\n  return GlobalVariable.get(\"version\", \"Unknown\");\n}\n\nexport function hasVersionChanged(): boolean {\n  return GlobalVariable.get(\"versionChange\") || false;\n}\n\nexport function specifiedDaemonVersion() {\n  try {\n    const data: any = JSON.parse(fs.readFileSync(PACKAGE_JSON, { encoding: \"utf-8\" }));\n    return data.daemonVersion ?? \"1.0.0\";\n  } catch (error: any) {\n    return \"1.0.0\";\n  }\n}\n\nexport async function checkBusinessMode() {\n  if (!systemConfig) return;\n  try {\n    systemConfig.businessMode = false;\n    const { data: response } = await axios.post<{ code: number; data: any }>(\n      `${REDEEM_PLATFORM_ADDR}/api/user/check`,\n      {\n        panelId: systemConfig?.panelId,\n        registerCode: systemConfig?.registerCode,\n        businessMode: systemConfig?.businessMode\n      }\n    );\n    if (response.data && response.code === 200) {\n      logger.info(`Business mode is active: ${JSON.stringify(response.data)} !!!`);\n      systemConfig.businessMode = true;\n    } else {\n      systemConfig.businessMode = false;\n    }\n    saveSystemConfig(systemConfig);\n  } catch (error: any) {\n    // ignore\n  }\n}\n\nsetInterval(checkBusinessMode, 1000 * 60 * 60);\n","module.exports = require(\"@koa/router\");","module.exports = require(\"axios\");","module.exports = require(\"bcryptjs\");","module.exports = require(\"fs-extra\");","module.exports = require(\"i18next\");","module.exports = require(\"iconv-lite\");","module.exports = require(\"koa\");","module.exports = require(\"koa-body\");","module.exports = require(\"koa-session\");","module.exports = require(\"koa-static\");","module.exports = require(\"log4js\");","module.exports = require(\"mcsmanager-common\");","module.exports = require(\"md5\");","module.exports = require(\"nanoid\");","module.exports = require(\"open\");","module.exports = require(\"otplib\");","module.exports = require(\"qrcode\");","module.exports = require(\"redis\");","module.exports = require(\"socket.io-client\");","module.exports = require(\"uuid\");","module.exports = require(\"child_process\");","module.exports = require(\"fs\");","module.exports = require(\"fs/promises\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"stream\");","module.exports = require(\"util\");","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n  return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n  function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nvar ownKeys = function(o) {\n  ownKeys = Object.getOwnPropertyNames || function (o) {\n    var ar = [];\n    for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n    return ar;\n  };\n  return ownKeys(o);\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose, inner;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n      if (async) inner = dispose;\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  var r, s = 0;\n  function next() {\n    while (r = env.stack.pop()) {\n      try {\n        if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\n        if (r.dispose) {\n          var result = r.dispose.call(r.value);\n          if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n        }\n        else s |= 1;\n      }\n      catch (e) {\n        fail(e);\n      }\n    }\n    if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\n  if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\n      return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\n          return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\n      });\n  }\n  return path;\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __esDecorate,\n  __runInitializers,\n  __propKey,\n  __setFunctionName,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n  __rewriteRelativeImportExtension,\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/app.ts\");\n",""],"names":[],"sourceRoot":""}